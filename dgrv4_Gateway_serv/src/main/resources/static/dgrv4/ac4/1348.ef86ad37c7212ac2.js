"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[1348],{51348:(w,C,a)=>{a.r(C),a.d(C,{Ac0228Module:()=>Ue});var l=a(69808),y=a(99291),v=a(15861),Z=a(14525),u=a(93075),_=a(59783),q=a(71764),e=a(87587),c=a(56435),g=a(45682),p=a(71330),A=a(41313),d=a(86518),h=a(63710),b=a(74856),V=a(23099),k=a(40845),x=a(4119),U=a(49603),I=a(73407),L=a(14036),E=a(76746),J=a(17773),H=a(19114),M=a(51062);const Y=["keyValueComp"];function Q(o,s){1&o&&e._UZ(0,"col"),2&o&&e.Udp("width",s.$implicit.width)}function K(o,s){if(1&o&&(e.TgZ(0,"colgroup"),e.YNc(1,Q,1,2,"col",96),e.qZA(),e.TgZ(2,"colgroup",97),e._uU(3),e.ALo(4,"translate"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Oqu(e.lcZ(4,2,"action"))}}function G(o,s){if(1&o&&(e.TgZ(0,"th",100),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.header," ")}}function j(o,s){if(1&o&&(e.TgZ(0,"tr"),e.YNc(1,G,2,1,"th",98),e.TgZ(2,"th",99),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.hij("",e.lcZ(4,2,"action")," ")}}function W(o,s){if(1&o&&(e.TgZ(0,"td")(1,"span"),e._uU(2),e.qZA()()),2&o){const t=s.$implicit,n=e.oxw().$implicit;e.Udp("width",t.width),e.xp6(2),e.hij(" ",n[t.field]," ")}}function z(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.YNc(1,W,3,3,"td",96),e.TgZ(2,"td",101)(3,"button",102),e.NdJ("click",function(){const m=e.CHM(t).$implicit;return e.oxw(2).viewGtwIdPinfoList(m)}),e.ALo(4,"translate"),e.qZA()()()}if(2&o){const t=s.columns;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Q6J("pTooltip",e.lcZ(4,2,"button.detail"))}}function X(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",104)(2,"span",105),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",106),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).moreClientList()}),e._uU(6),e.ALo(7,"translate"),e._UZ(8,"i",107),e.qZA()()()}if(2&o){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(2),e.AsE("",e.lcZ(4,4,"row_count"),": ",n.clientList.length,""),e.xp6(3),e.hij("",e.lcZ(7,6,"button.more")," ")}}function ee(o,s){if(1&o&&e.YNc(0,X,9,8,"tr",103),2&o){const t=e.oxw(2);e.Q6J("ngIf",t.clientList.length>0)}}function te(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=s.$implicit;e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," ")}}const P=function(){return{"word-break":"break-word"}};function ie(o,s){if(1&o&&(e.TgZ(0,"p-table",94),e.YNc(1,K,5,4,"ng-template",95),e.YNc(2,j,5,4,"ng-template",11),e.YNc(3,z,5,4,"ng-template",12),e.YNc(4,ee,1,1,"ng-template",93),e.YNc(5,te,4,4,"ng-template",13),e.qZA()),2&o){const t=e.oxw();e.Akn(e.DdM(4,P)),e.Q6J("columns",t.clientListCols)("value",t.clientList)}}function ne(o,s){1&o&&(e.TgZ(0,"tr")(1,"th",108),e._uU(2,"Icon"),e.qZA(),e.TgZ(3,"th",109),e._uU(4,"ID"),e.qZA(),e.TgZ(5,"th",109),e._uU(6,"HTTP Method"),e.qZA(),e.TgZ(7,"th",109),e._uU(8,"Page Title"),e.qZA(),e.TgZ(9,"th",110),e._uU(10,"Create User"),e.qZA(),e.TgZ(11,"th",110),e._uU(12,"Create Time"),e.qZA(),e.TgZ(13,"th",111),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"tr")(17,"th",112),e._uU(18,"Enable"),e.qZA(),e.TgZ(19,"th",112),e._uU(20,"URL"),e.qZA(),e.TgZ(21,"th",112),e._uU(22,"Remark"),e.qZA(),e.TgZ(23,"th",112),e._uU(24,"Update User"),e.qZA(),e.TgZ(25,"th",112),e._uU(26,"Update Time"),e.qZA()()),2&o&&(e.xp6(14),e.Oqu(e.lcZ(15,1,"action")))}function le(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",113),e._UZ(2,"img",114),e.qZA(),e.TgZ(3,"td",115),e._uU(4),e.qZA(),e.TgZ(5,"td",115),e._uU(6),e.qZA(),e.TgZ(7,"td",115),e._uU(8),e.qZA(),e.TgZ(9,"td",115),e._uU(10),e.qZA(),e.TgZ(11,"td",115),e._uU(12),e.qZA(),e.TgZ(13,"td",116)(14,"button",102),e.NdJ("click",function(){const m=e.CHM(t).$implicit;return e.oxw().changePage("detail",m)}),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",117),e.NdJ("click",function(){const m=e.CHM(t).$implicit;return e.oxw().changePage("update",m)}),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"button",118),e.NdJ("click",function(){const m=e.CHM(t).$implicit;return e.oxw().changePage("delete",m)}),e.ALo(19,"translate"),e.qZA()()(),e.TgZ(20,"tr")(21,"td",119),e._UZ(22,"img",120),e.qZA(),e.TgZ(23,"td",115),e._uU(24),e.qZA(),e.TgZ(25,"td",115),e._uU(26),e.qZA(),e.TgZ(27,"td",115),e._uU(28),e.qZA(),e.TgZ(29,"td",115),e._uU(30),e.qZA()()}if(2&o){const t=s.$implicit,n=e.oxw();e.xp6(2),e.Q6J("alt",t.iconFile)("src",t.iconFile,e.LSH),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.apiMethod),e.xp6(2),e.Oqu(t.pageTitle),e.xp6(2),e.Oqu(t.createUser),e.xp6(2),e.Oqu(n.formateDate(t.createDateTime)),e.xp6(2),e.Q6J("pTooltip",e.lcZ(15,16,"button.detail")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(17,18,"button.update")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(19,20,"button.delete")),e.xp6(4),e.Q6J("alt",t.status)("src","Y"===t.status?"assets/images/icon_green.png":"assets/images/icon_red.png",e.LSH),e.xp6(2),e.Oqu(t.apiUrl),e.xp6(2),e.Oqu(t.remark),e.xp6(2),e.Oqu(t.updateUser),e.xp6(2),e.Oqu(n.formateDate(t.updateDateTime))}}function oe(o,s){1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o&&(e.xp6(1),e.uIk("colspan",9),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," "))}function re(o,s){if(1&o&&(e.TgZ(0,"div",121)(1,"small",122),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.clientId?null:t.clientId.errors.isRequired))}}function ae(o,s){if(1&o&&(e.TgZ(0,"div",121)(1,"small",122),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",122),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,null==t.status?null:t.status.errors.pattern)),e.xp6(3),e.Oqu(e.lcZ(6,4,null==t.status?null:t.status.errors.isRequired))}}function se(o,s){if(1&o&&(e.TgZ(0,"div",121)(1,"small",122),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.pageTitle?null:t.pageTitle.errors.isRequired))}}function ue(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){return e.CHM(t),e.oxw().clearFile()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"remove")))}function de(o,s){if(1&o&&(e.TgZ(0,"div",121)(1,"small",122),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",122),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,null==t.apiUrl?null:t.apiUrl.errors.isRequired)),e.xp6(3),e.Oqu(e.lcZ(6,4,null==t.apiUrl?null:t.apiUrl.errors.pattern))}}function ce(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"div",25),e._UZ(2,"p-radioButton",123),e.TgZ(3,"label",124),e._uU(4),e.qZA()(),e.BQk()),2&o){const t=s.$implicit;e.xp6(2),e.s9C("value",t.value),e.MGl("inputId","reqBodyType_",t.value,""),e.xp6(1),e.MGl("for","reqBodyType_",t.value,""),e.xp6(1),e.Oqu(t.label)}}function pe(o,s){if(1&o&&(e.TgZ(0,"div",121)(1,"small",122),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.reqBodyType?null:t.reqBodyType.errors.isRequired))}}function me(o,s){if(1&o&&(e.TgZ(0,"div",125)(1,"div",126),e._UZ(2,"textarea",127),e.qZA(),e.TgZ(3,"div",30)(4,"label",8),e._uU(5,"Request Example"),e.qZA(),e.TgZ(6,"div",32),e._UZ(7,"textarea",128),e.qZA()()()),2&o){const t=e.oxw();e.xp6(7),e.Q6J("readOnly",!0)("value",t.rawExp)}}function ye(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"div",25),e._UZ(2,"p-radioButton",129),e.TgZ(3,"label",124),e._uU(4),e.qZA()(),e.BQk()),2&o){const t=s.$implicit;e.xp6(2),e.s9C("value",t.value),e.MGl("inputId","respType",t.value,""),e.xp6(1),e.MGl("for","respType",t.value,""),e.xp6(1),e.Oqu(t.label)}}function _e(o,s){if(1&o&&(e.TgZ(0,"div",121)(1,"small",122),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.sucByType?null:t.sucByType.errors.isRequired))}}function ge(o,s){if(1&o&&(e.TgZ(0,"div",121)(1,"small",122),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.sucByField?null:t.sucByField.errors.isRequired))}}function fe(o,s){if(1&o&&(e.TgZ(0,"div",121)(1,"small",122),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.sucByValue?null:t.sucByValue.errors.isRequired))}}function he(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",130),e.NdJ("click",function(){return e.CHM(t),e.oxw().create()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",!t.formEdit.valid),e.xp6(1),e.Oqu(e.lcZ(2,2,"button.create"))}}function ve(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",131),e.NdJ("click",function(){return e.CHM(t),e.oxw().update()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",!t.formEdit.valid),e.xp6(1),e.Oqu(e.lcZ(2,2,"button.update"))}}const Te=function(){return{backgroundColor:"var(--red-300)","border-color":"var(--red-300)"}};function be(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",132)(1,"button",133),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(190).accept()}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",134),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(190).reject()}),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(1),e.s9C("label",e.lcZ(2,3,"button.confirm")),e.Q6J("ngStyle",e.DdM(7,Te)),e.xp6(2),e.s9C("label",e.lcZ(4,5,"button.cancel")))}const qe=function(){return{display:"flex",width:"100%","align-items":"center"}},Ze=function(){return{width:"100%"}},Ae=function(){return{marginTop:"60px"}},Be=function(){return{width:"50vw"}};let Ce=(()=>{class o extends Z.H{constructor(t,n,i,m,f,B,T,r,R){super(t,n),this.fb=i,this.toolService=m,this.openApiService=f,this.messageService=B,this.confirmationService=T,this.serverService=r,this.alertService=R,this.currentTitle=this.title,this.pageNum=1,this.clientListCols=[],this.clientList=[],this.currentAction="",this.gtwIdpList=[],this.methodsList=[{value:"POST",label:"POST"},{value:"GET",label:"GET"}],this._fileSrc=null,this.bodyType=[{value:"N",label:"none"},{value:"F",label:"form-data"},{value:"X",label:"x-www-form-urlencoded"},{value:"R",label:"raw"}],this.respType=[{value:"H",label:"HTTP status"},{value:"R",label:"HTTP status + return code"}],this.idTokenExp='{\n    "at_hash": "FOiDD5zzh0sLqMMYGkovbw",\n    "aud": "aud",\n    "sub": "user_sub",\n    "iss": "https://domain/dgrv4/ssotoken/API",\n    "name": "{{$user.name_th%}} {{$user.name_en%}}",\n    "exp": 1690611646,\n    "iat": 1685427646,\n    "email": "{{$user.email%}}",\n    "picture": "{{$user.picture%}}",\n    "lightId": "{{$user.lightId%}}",\n    "roleName": {{$user.roleName%}}\n  }',this.rawExp='{\n    "username": "{{$username%}}",\n    "password": "{{$password%}}",\n    "uid": "{{$ip%}}",\n    "check": "Y"\n}'}ngOnInit(){var t=this;return(0,v.Z)(function*(){t.form=t.fb.group({keyword:new u.NI("")}),t.formEdit=t.fb.group({id:new u.NI({value:"",disabled:!0}),clientId:new u.NI({value:"",disabled:!0}),status:new u.NI(""),remark:new u.NI(""),apiMethod:new u.NI(""),apiUrl:new u.NI(""),reqHeader:new u.NI(""),reqBodyType:new u.NI(""),reqBody:new u.NI(""),sucByType:new u.NI(""),sucByField:new u.NI(""),sucByValue:new u.NI(""),idtName:new u.NI(""),idtEmail:new u.NI(""),idtPicture:new u.NI(""),iconFile:new u.NI(""),pageTitle:new u.NI(""),createUser:new u.NI(""),createDateTime:new u.NI(""),updateUser:new u.NI(""),updateDateTime:new u.NI(""),idtLightId:new u.NI(""),idtRoleName:new u.NI("")});const i=yield t.toolService.getDict(["client_id","client_name","client_alias"]);t.clientListCols=[{field:"clientId",header:i.client_id},{field:"clientName",header:i.client_name},{field:"clientAlias",header:i.client_alias}],t.openApiService.queryClientListByRegStatusLike_ignore1298({keyword:t.keyword.value,regStatus:"2"}).subscribe(m=>{t.toolService.checkDpSuccess(m.ResHeader)&&(t.clientList=m.RespBody.dataList)})})()}queryClientList(){this.clientList=[],this.currentClient=void 0,this.openApiService.queryClientListByRegStatusLike({keyword:this.keyword.value,regStatus:"2"}).subscribe(n=>{this.toolService.checkDpSuccess(n.ResHeader)&&(this.clientList=n.RespBody.dataList)})}headerReturn(){this.pageNum>2?(this.pageNum=2,this.currentTitle=`${this.title} > GTW API IdP Client List`):this.changePage("queryClientList")}viewGtwIdPinfoList(t){this.currentClient=t,this.queryGtwIdPInfoByClientId_api()}queryGtwIdPInfoByClientId_api(){var t;this.pageNum=2,this.currentTitle=`${this.title} > GTW API IdP Client List`;let n={clientId:null===(t=this.currentClient)||void 0===t?void 0:t.clientId};this.gtwIdpList=[],this.serverService.queryGtwIdPInfoByClientId_api(n).subscribe(i=>{this.toolService.checkDpSuccess(i.ResHeader)&&(this.gtwIdpList=i.RespBody.dataList)})}moreClientList(){this.openApiService.queryClientListByRegStatusLike({clientId:this.clientList[this.clientList.length-1].clientId,keyword:this.keyword.value,regStatus:"2"}).subscribe(n=>{this.toolService.checkDpSuccess(n.ResHeader)&&(this.clientList=this.clientList.concat(n.RespBody.dataList))})}changePage(t,n){var i=this;return(0,v.Z)(function*(){const f=yield i.toolService.getDict(["button.detail","button.create","button.update","cfm_del","message.delete","message.success"]);switch(i.resetFormValidator(i.formEdit),i.currentAction=t,i.formEdit.enable(),i.clearFile(),t){case"queryClientList":i.currentTitle=i.title,i.pageNum=1;break;case"clientList":i.currentTitle=`${i.title} > GTW API IdP Client List`,i.pageNum=2;break;case"detail":i.serverService.queryIdPUserDetail_api({id:null==n?void 0:n.id}).subscribe(r=>{i.toolService.checkDpSuccess(r.ResHeader)&&(i.currentTitle+=`> ${f["button.detail"]}`,i.pageNum=4,i.gtwIdPInfo=r.RespBody,i.formEdit.disable(),i.id.setValue(r.RespBody.id),i.clientId.setValue(r.RespBody.clientId),i.status.setValue(r.RespBody.status),i.remark.setValue(r.RespBody.remark),i.apiMethod.setValue(r.RespBody.apiMethod),i.apiUrl.setValue(r.RespBody.apiUrl),i.reqHeader.setValue(r.RespBody.reqHeader),i.reqBodyType.setValue(r.RespBody.reqBodyType),("F"===i.reqBodyType.value||"X"===i.reqBodyType.value)&&i.reqBody.disable(),i.reqBody.setValue(r.RespBody.reqBody),i.sucByType.setValue(r.RespBody.sucByType),i.sucByField.setValue(r.RespBody.sucByField),i.sucByValue.setValue(r.RespBody.sucByValue),i.idtName.setValue(r.RespBody.idtName),i.idtEmail.setValue(r.RespBody.idtEmail),i.idtPicture.setValue(r.RespBody.idtPicture),r.RespBody.iconFile&&(i._fileSrc=r.RespBody.iconFile),i.pageTitle.setValue(r.RespBody.pageTitle),i.createUser.setValue(r.RespBody.createUser),i.createDateTime.setValue(r.RespBody.createDateTime?i.toolService.setformate(new Date(r.RespBody.createDateTime),"YYYY-MM-DD HH:mm:ss"):""),i.updateUser.setValue(r.RespBody.updateUser),i.updateDateTime.setValue(r.RespBody.updateDateTime?i.toolService.setformate(new Date(r.RespBody.updateDateTime),"YYYY-MM-DD HH:mm:ss"):""),i.idtLightId.setValue(r.RespBody.idtLightId),i.idtRoleName.setValue(r.RespBody.idtRoleName))});break;case"create":i.serverService.createGtwIdPInfo_api_before().subscribe(r=>{var R,N,S,F;i.toolService.checkDpSuccess(r.ResHeader)&&(i.currentTitle+=`> ${f["button.create"]}`,i.pageNum=4,i.addFormValidator(i.formEdit,r.RespBody.constraints),null===(R=i.clientId)||void 0===R||R.setValue(null===(N=i.currentClient)||void 0===N?void 0:N.clientId),null===(S=i.clientId)||void 0===S||S.disable(),null===(F=i.status)||void 0===F||F.markAsTouched(),i.sucByType.markAsTouched(),i.reqBodyType.markAsTouched(),i.sucByType.valueChanges.subscribe(D=>{"R"===D?i.addFormValidator(i.formEdit,[{field:"sucByField",type:"string",isRequired:{msg:"\u5fc5\u586b",value:!0}},{field:"sucByValue",type:"string",isRequired:{msg:"\u5fc5\u586b",value:!0}}]):(i.sucByField.clearValidators(),i.sucByField.updateValueAndValidity(),i.sucByValue.clearValidators(),i.sucByValue.updateValueAndValidity()),i.formEdit.updateValueAndValidity()}),i.reqBodyType.valueChanges.subscribe(D=>{i.reqBody.setValue(""),("F"==D||"X"==D)&&i.keyValueComp.addKeyValue()}))});break;case"update":i.serverService.queryIdPUserDetail_api({id:null==n?void 0:n.id}).subscribe(r=>{i.toolService.checkDpSuccess(r.ResHeader)&&(i.gtwIdPInfo=r.RespBody,i.serverService.updateGtwIdPInfo_api_before().subscribe(R=>{i.toolService.checkDpSuccess(R.ResHeader)&&(i.currentTitle+=`> ${f["button.update"]}`,i.pageNum=4,i.addFormValidator(i.formEdit,R.RespBody.constraints),i.id.setValue(r.RespBody.id),i.id.disable(),i.clientId.setValue(r.RespBody.clientId),i.clientId.disable(),i.status.setValue(r.RespBody.status),i.remark.setValue(r.RespBody.remark),i.apiMethod.setValue(r.RespBody.apiMethod),i.apiUrl.setValue(r.RespBody.apiUrl),i.reqHeader.setValue(r.RespBody.reqHeader),i.reqBodyType.setValue(r.RespBody.reqBodyType),i.reqBody.setValue(r.RespBody.reqBody),i.sucByType.setValue(r.RespBody.sucByType),i.sucByField.setValue(r.RespBody.sucByField),i.sucByValue.setValue(r.RespBody.sucByValue),i.idtName.setValue(r.RespBody.idtName),i.idtEmail.setValue(r.RespBody.idtEmail),i.idtPicture.setValue(r.RespBody.idtPicture),i.idtLightId.setValue(r.RespBody.idtLightId),i.idtRoleName.setValue(r.RespBody.idtRoleName),r.RespBody.iconFile&&(i._fileSrc=r.RespBody.iconFile),i.pageTitle.setValue(r.RespBody.pageTitle),i.sucByType.valueChanges.subscribe(N=>{"R"===N?(i.addFormValidator(i.formEdit,[{field:"sucByField",type:"string",isRequired:{msg:"\u5fc5\u586b",value:!0}},{field:"sucByValue",type:"string",isRequired:{msg:"\u5fc5\u586b",value:!0}}]),i.sucByField.setValue(r.RespBody.sucByField?r.RespBody.sucByField:""),i.sucByField.markAsTouched(),i.sucByValue.setValue(r.RespBody.sucByField?r.RespBody.sucByField:""),i.sucByValue.markAsTouched()):(i.sucByField.clearValidators(),i.sucByField.updateValueAndValidity(),i.sucByValue.clearValidators(),i.sucByValue.updateValueAndValidity()),i.formEdit.updateValueAndValidity()}),i.reqBodyType.valueChanges.subscribe(N=>{i.reqBody.setValue(""),("F"==N||"X"==N)&&i.keyValueComp.addKeyValue()}))}))});break;case"delete":i.confirmationService.confirm({header:f.cfm_del,message:`${null==n?void 0:n.id}`,accept:()=>{i.serverService.deleteGtwIdPInfo_api({id:n.id}).subscribe(function(){var r=(0,v.Z)(function*(R){i.toolService.checkDpSuccess(R.ResHeader)&&(i.messageService.add({severity:"success",summary:`${f["message.delete"]} GTW API IdP Client List`,detail:`${f["message.delete"]} ${f["message.success"]}!`}),i.queryGtwIdPInfoByClientId_api())});return function(R){return r.apply(this,arguments)}}())}})}})()}formateDate(t){if(!t)return"";const n=Number(t);return"Invalid Date"!=q(n).format("YYYY-MM-DD HH:mm:ss")?q(n).format("YYYY-MM-DD HH:mm:ss"):""}openFileBrowser(){$("#fileName").click()}clearFile(){this._fileSrc=null,$("#fileName").val("")}fileChange(t){var n=this;return(0,v.Z)(function*(){const m=yield n.toolService.getDict(["uploading","cfm_img_format","cfm_size","message.success","upload_result","waiting"]);if(0!=t.length){let f=new FileReader;f.onloadend=()=>{if(t.item(0).size>2e3)return n.alertService.ok("Error","File size cannot exceed 2k."),void n.clearFile();n.messageService.add({severity:"success",summary:m.upload_result,detail:`${m["message.success"]}!`}),n._fileSrc=f.result},f.readAsDataURL(t.item(0))}else n._fileSrc=null})()}create(){var t=this;return(0,v.Z)(function*(){const i=yield t.toolService.getDict(["header_required","body_keyvalue_required","body_raw_required"]);if(t.reqHeader.value&&!JSON.parse(t.reqHeader.value).every(T=>Object.keys(T).map(r=>""!=r&&""!=T[r])[0]))return void t.alertService.ok(i.header_required,"");if("N"!==t.reqBodyType.value){if(!t.reqBody.value||""===t.reqBody.value)return void t.alertService.ok("R"===t.reqBodyType.value?i.body_raw_required:i.body_keyvalue_required,"");if(("F"==t.reqBodyType.value||"X"==t.reqBodyType.value)&&!JSON.parse(t.reqBody.value).every(T=>Object.keys(T).map(r=>""!=r&&""!=T[r])[0]))return void t.alertService.ok(i.body_keyvalue_required,"")}let m={clientId:t.clientId.value,status:t.status.value,remark:t.remark.value,apiMethod:t.apiMethod.value,apiUrl:t.apiUrl.value,reqBodyType:t.reqBodyType.value,sucByType:t.sucByType.value,idtName:t.idtName.value,idtEmail:t.idtEmail.value,idtPicture:t.idtPicture.value,pageTitle:t.pageTitle.value,idtLightId:t.idtLightId.value,idtRoleName:t.idtRoleName.value};t.reqHeader.value&&""!==t.reqHeader.value&&(m.reqHeader=t.reqHeader.value),"N"!==t.reqBodyType.value&&(m.reqBody=t.reqBody.value),"R"===t.sucByType.value&&(m.sucByField=t.sucByField.value,m.sucByValue=t.sucByValue.value),t._fileSrc&&(m.iconFile=t._fileSrc),t.serverService.createGtwIdPInfo_api(m).subscribe(function(){var f=(0,v.Z)(function*(B){if(t.toolService.checkDpSuccess(B.ResHeader)){const T=["message.create","message.success"],r=yield t.toolService.getDict(T);t.messageService.add({severity:"success",summary:`${r["message.create"]} GTW API IdP Client List`,detail:`${r["message.create"]} ${r["message.success"]}!`}),t.queryGtwIdPInfoByClientId_api()}});return function(B){return f.apply(this,arguments)}}())})()}update(){var t=this;return(0,v.Z)(function*(){const i=yield t.toolService.getDict(["header_required","body_keyvalue_required","body_raw_required"]);if(t.reqHeader.value&&!JSON.parse(t.reqHeader.value).every(T=>Object.keys(T).map(r=>""!=r&&""!=T[r])[0]))return void t.alertService.ok(i.header_required,"");if("N"!==t.reqBodyType.value){if(!t.reqBody.value||""===t.reqBody.value)return void t.alertService.ok("R"===t.reqBodyType.value?i.body_raw_required:i.body_keyvalue_required,"");if(("F"==t.reqBodyType.value||"X"==t.reqBodyType.value)&&!JSON.parse(t.reqBody.value).every(T=>Object.keys(T).map(r=>""!=r&&""!=T[r])[0]))return void t.alertService.ok(i.body_keyvalue_required,"")}let m={id:t.id.value,clientId:t.clientId.value,status:t.status.value,remark:t.remark.value,apiMethod:t.apiMethod.value,apiUrl:t.apiUrl.value,reqBodyType:t.reqBodyType.value,sucByType:t.sucByType.value,idtName:t.idtName.value,idtEmail:t.idtEmail.value,idtPicture:t.idtPicture.value,pageTitle:t.pageTitle.value,idtLightId:t.idtLightId.value,idtRoleName:t.idtRoleName.value};t.reqHeader.value&&""!==t.reqHeader.value&&(m.reqHeader=t.reqHeader.value),"N"!==t.reqBodyType.value&&(m.reqBody=t.reqBody.value),"R"===t.sucByType.value&&(m.sucByField=t.sucByField.value,m.sucByValue=t.sucByValue.value),t._fileSrc&&(m.iconFile=t._fileSrc),t.serverService.updateGtwIdPInfo_api(m).subscribe(function(){var f=(0,v.Z)(function*(B){if(t.toolService.checkDpSuccess(B.ResHeader)){const T=["message.update","message.success"],r=yield t.toolService.getDict(T);t.messageService.add({severity:"success",summary:`${r["message.update"]} GTW API IdP Client List`,detail:`${r["message.update"]} ${r["message.success"]}!`}),t.queryGtwIdPInfoByClientId_api()}});return function(B){return f.apply(this,arguments)}}())})()}get keyword(){return this.form.get("keyword")}get id(){return this.formEdit.get("id")}get clientId(){return this.formEdit.get("clientId")}get status(){return this.formEdit.get("status")}get remark(){return this.formEdit.get("remark")}get apiMethod(){return this.formEdit.get("apiMethod")}get apiUrl(){return this.formEdit.get("apiUrl")}get reqHeader(){return this.formEdit.get("reqHeader")}get reqBodyType(){return this.formEdit.get("reqBodyType")}get reqBody(){return this.formEdit.get("reqBody")}get sucByType(){return this.formEdit.get("sucByType")}get sucByField(){return this.formEdit.get("sucByField")}get sucByValue(){return this.formEdit.get("sucByValue")}get idtName(){return this.formEdit.get("idtName")}get idtEmail(){return this.formEdit.get("idtEmail")}get idtPicture(){return this.formEdit.get("idtPicture")}get iconFile(){return this.formEdit.get("iconFile")}get pageTitle(){return this.formEdit.get("pageTitle")}get createUser(){return this.formEdit.get("createUser")}get createDateTime(){return this.formEdit.get("createDateTime")}get updateUser(){return this.formEdit.get("updateUser")}get updateDateTime(){return this.formEdit.get("updateDateTime")}get idtLightId(){return this.formEdit.get("idtLightId")}get idtRoleName(){return this.formEdit.get("idtRoleName")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(y.gz),e.Y36(c.W),e.Y36(u.qu),e.Y36(g.g),e.Y36(p.l),e.Y36(_.ez),e.Y36(_.YP),e.Y36(A.N),e.Y36(d.c))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ac0228"]],viewQuery:function(t,n){if(1&t&&e.Gf(Y,5),2&t){let i;e.iGM(i=e.CRH())&&(n.keyValueComp=i.first)}},features:[e._Bn([_.ez,_.YP]),e.qOj],decls:192,vars:76,consts:[[3,"title","isDefault","headerReturn"],[3,"hidden"],[3,"formGroup"],[1,"form-group","row","col-12"],[1,"col-9","col-lg0-6","col-sm-6",3,"placeholder","control","searchFn"],["selectionMode","single","styleClass","p-datatable-striped","responsiveLayout","scroll",3,"columns","value","style",4,"ngIf"],[1,"form-group","row"],[1,"col-12","col-xl-12","col-lg-12"],[1,"control-label"],["type","button",1,"btn","tpi-btn","tpi-second","float-end",3,"click"],["responsiveLayout","scroll","styleClass","p-datatable-striped",3,"value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"form-group","row","mt-3"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start","me-3",3,"click"],[1,"form-group","row",3,"hidden"],[1,"col-3"],["id","id_label","for","id",1,"control-label"],["type","text","id","id","formControlName","id",1,"form-control"],["id","clientId_label","for","clientId",1,"control-label"],["type","text","id","clientId","formControlName","clientId",1,"form-control"],["class","text-danger",4,"ngIf"],["id","status_label",1,"control-label"],[1,"p-form-check-line","form-group"],[1,"p-form-check"],["formControlName","status","value","Y","inputId","statusY"],["for","statusY",1,"ms-2","mb-0"],["formControlName","status","value","N","inputId","statusN"],["for","statusN",1,"ms-2","mb-0"],[1,"col-6"],["id","remark_label","for","remark",1,"control-label"],[2,"display","block"],["rows","2","id","remark","formControlName","remark","pInputTextarea","",2,"width","100%"],["id","pageTitle_label","for","pageTitle",1,"control-label"],["type","text","id","pageTitle","formControlName","pageTitle",1,"form-control"],[1,"col-8"],["for","iconFile",1,"control-label"],[1,"d-flex","col-auto",3,"hidden"],[1,"me-2"],["type","button",1,"btn","tpi-btn","tpi-night","pull-right",3,"click"],[1,""],["type","button","class","btn tpi-btn tpi-night pull-right",3,"click",4,"ngIf"],[1,"col-sm-6",2,"padding-right","unset"],["type","file","id","fileName","formControlName","iconFile",2,"display","none",3,"change"],[1,"col-auto"],[3,"src"],[1,"col-12"],[1,"form-group","px-5","py-2","keyValueContent"],["id","apiMethod_label","for","apiMethod",1,"control-label"],[1,"col-12","px-0"],["formControlName","apiMethod",3,"options"],["type","text","formControlName","apiUrl",1,"form-control","ms-2"],["id","reqHeader_label","for","reqHeader",1,"control-label"],["formControlName","reqHeader"],["id","reqBodyType_label",1,"control-label"],[4,"ngFor","ngForOf"],["formControlName","reqBody",3,"required","hidden"],["keyValueComp",""],["class","row form-group",4,"ngIf"],[1,"form-group","px-5","pt-2","keyValueContent"],["id","sucByField_label","for","sucByField",1,"control-label","required"],["type","text","id","sucByField","formControlName","sucByField",1,"form-control"],["id","sucByValue_label","for","sucByValue",1,"control-label","required"],["type","text","id","sucByValue","formControlName","sucByValue",1,"form-control"],[1,"form-group","row","pb-2"],[1,"col-12","px-0","form-group"],["id","idtName_label","for","idtName",1,"control-label",2,"font-weight","bolder"],["type","text","id","idtName","formControlName","idtName",1,"form-control"],["id","idtEmail_label","for","idtEmail",1,"control-label",2,"font-weight","bolder"],["type","text","id","idtEmail","formControlName","idtEmail",1,"form-control"],["id","idtPicture_label","for","idtPicture",1,"control-label",2,"font-weight","bolder"],["type","text","id","idtPicture","formControlName","idtPicture",1,"form-control"],["id","idtLightId_label","for","idtLightId",1,"control-label",2,"font-weight","bolder"],["type","text","id","idtLightId","formControlName","idtLightId",1,"form-control"],["id","idtRoleName_label","for","idtRoleName",1,"control-label",2,"font-weight","bolder"],["type","text","id","idtRoleName","formControlName","idtRoleName",1,"form-control"],["rows","15","pInputTextarea","",1,"form-control",2,"width","100%",3,"readOnly","value"],["id","createUser_label","for","createUser",1,"control-label"],["type","text","id","createUser","formControlName","createUser",1,"form-control"],["id","createDateTime_label","for","createDateTime",1,"control-label"],["type","text","id","createDateTime","formControlName","createDateTime",1,"form-control"],["id","updateUser_label","for","updateUser",1,"control-label"],["type","text","id","updateUser","formControlName","updateUser",1,"form-control"],["id","updateDateTime_label","for","updateDateTime",1,"control-label"],["type","text","id","updateDateTime","formControlName","updateDateTime",1,"form-control"],[1,"col-12","col-lg-12"],["type","button","class","btn tpi-btn tpi-second float-start me-3",3,"disabled","click",4,"ngIf"],["type","button","class","btn tpi-btn tpi-primary float-start me-3",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start",3,"click"],["position","top-left"],["icon","pi pi-exclamation-triangle","styleClass","cHeader cContent cIcon"],["cd",""],["pTemplate","footer"],["selectionMode","single","styleClass","p-datatable-striped","responsiveLayout","scroll",3,"columns","value"],["pTemplate","colgroup"],[3,"width",4,"ngFor","ngForOf"],[2,"width","50px"],["scope","col",4,"ngFor","ngForOf"],["scope","col",2,"width","50px"],["scope","col"],[2,"text-align","center","width","50px"],["pButton","","pRipple","","type","button","icon","pi pi-eye","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],[4,"ngIf"],[2,"color","#b7b7b7"],[2,"vertical-align","middle"],["type","button",1,"btn","tpi-header-return",3,"click"],[1,"fas","fa-angle-double-right",2,"margin-left","5px"],["rowspan","2","scope","col",2,"width","10%"],["rowspan","1","scope","col",2,"width","20%"],["rowspan","1","scope","col",2,"width","15%"],["rowspan","2","scope","col",2,"min-width","150px"],["rowspan","1","scope","col"],["rowspan","2"],[3,"alt","src"],["rowspan","1"],["rowspan","2",2,"text-align","center"],["pButton","","pRipple","","type","button","icon","fa fa-edit","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-trash-alt","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],["rowspan","1",2,"text-align","center"],[2,"width","20px","height","20px",3,"alt","src"],[1,"text-danger"],[1,"form-text"],["formControlName","reqBodyType",3,"value","inputId"],[1,"ms-2","mb-0",3,"for"],[1,"row","form-group"],[1,"col-6",2,"display","block"],["rows","8","id","reqBody","formControlName","reqBody","pInputTextarea","",1,"form-control",2,"width","100%"],["rows","6","pInputTextarea","",1,"form-control",2,"width","100%",3,"readOnly","value"],["formControlName","sucByType",3,"value","inputId"],["type","button",1,"btn","tpi-btn","tpi-second","float-start","me-3",3,"disabled","click"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start","me-3",3,"disabled","click"],[1,"row",2,"justify-content","center"],["type","button","pButton","","icon","pi pi-check",3,"ngStyle","label","click"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"label","click"]],template:function(t,n){1&t&&(e.TgZ(0,"app-container",0),e.NdJ("headerReturn",function(){return n.headerReturn()}),e.TgZ(1,"div",1)(2,"form",2)(3,"div",3),e._UZ(4,"app-search-input",4),e.ALo(5,"translate"),e.ALo(6,"translate"),e.ALo(7,"translate"),e.qZA()(),e._UZ(8,"hr"),e.YNc(9,ie,6,5,"p-table",5),e.qZA(),e.TgZ(10,"div",1)(11,"div",6)(12,"div",7)(13,"label",8),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",9),e.NdJ("click",function(){return n.changePage("create")}),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.TgZ(19,"p-table",10),e.YNc(20,ne,27,3,"ng-template",11),e.YNc(21,le,31,22,"ng-template",12),e.YNc(22,oe,4,4,"ng-template",13),e.qZA(),e.TgZ(23,"div",14)(24,"div",7)(25,"button",15),e.NdJ("click",function(){return n.changePage("queryClientList")}),e._uU(26),e.ALo(27,"translate"),e.qZA()()()(),e.TgZ(28,"div",1)(29,"form",2)(30,"div",16)(31,"div",17)(32,"label",18),e._uU(33,"ID"),e.qZA(),e._UZ(34,"input",19),e.qZA()(),e.TgZ(35,"div",6)(36,"div",17)(37,"label",20),e._uU(38,"Client ID"),e.qZA(),e._UZ(39,"input",21),e.YNc(40,re,4,3,"div",22),e.qZA(),e.TgZ(41,"div",17)(42,"label",23),e._uU(43,"Enable"),e.qZA(),e.TgZ(44,"div",24),e.ynx(45),e.TgZ(46,"div",25),e._UZ(47,"p-radioButton",26),e.TgZ(48,"label",27),e._uU(49,"Y"),e.qZA()(),e.TgZ(50,"div",25),e._UZ(51,"p-radioButton",28),e.TgZ(52,"label",29),e._uU(53,"N"),e.qZA()(),e.BQk(),e.qZA(),e.YNc(54,ae,7,6,"div",22),e.qZA()(),e.TgZ(55,"div",6)(56,"div",30)(57,"label",31),e._uU(58,"Remark"),e.qZA(),e.TgZ(59,"div",32),e._UZ(60,"textarea",33),e.qZA()()(),e.TgZ(61,"div",6)(62,"div",30)(63,"label",34),e._uU(64,"Page Title"),e.qZA(),e._UZ(65,"input",35),e.YNc(66,se,4,3,"div",22),e.qZA()(),e.TgZ(67,"div",6)(68,"div",36)(69,"label",37),e._uU(70,"Icon"),e.qZA(),e.TgZ(71,"div",38)(72,"div",39)(73,"button",40),e.NdJ("click",function(){return n.openFileBrowser()}),e._uU(74),e.ALo(75,"translate"),e.qZA()(),e.TgZ(76,"div",41),e.YNc(77,ue,3,3,"button",42),e.qZA(),e.TgZ(78,"div",43)(79,"input",44),e.NdJ("change",function(m){return n.fileChange(m.target.files)}),e.qZA()()()()(),e.TgZ(80,"div",6)(81,"div",45),e._UZ(82,"img",46),e.qZA()(),e.TgZ(83,"div",6)(84,"div",47)(85,"label"),e._uU(86,"Request"),e.qZA(),e.TgZ(87,"div",48)(88,"div",6)(89,"div",47)(90,"label",49),e._uU(91,"URL"),e.qZA(),e.TgZ(92,"div",50),e._UZ(93,"p-dropdown",51)(94,"input",52),e.qZA(),e.YNc(95,de,7,6,"div",22),e.qZA()(),e._UZ(96,"hr"),e.TgZ(97,"div",6)(98,"div",47)(99,"label",53),e._uU(100,"Request Header"),e.qZA(),e._UZ(101,"app-key-value-form",54),e.qZA()(),e._UZ(102,"hr"),e.TgZ(103,"div",6)(104,"div",47)(105,"div")(106,"label",55),e._uU(107,"Request Body"),e.qZA()(),e.TgZ(108,"div",24),e.YNc(109,ce,5,4,"ng-container",56),e.qZA(),e.YNc(110,pe,4,3,"div",22),e._UZ(111,"app-key-value-form",57,58),e.YNc(113,me,8,2,"div",59),e.qZA()()()()(),e.TgZ(114,"div",6)(115,"div",47)(116,"label"),e._uU(117,"Response"),e.qZA(),e.TgZ(118,"div",60)(119,"div",6)(120,"div",47)(121,"div",24),e.YNc(122,ye,5,4,"ng-container",56),e.qZA(),e.YNc(123,_e,4,3,"div",22),e.qZA()(),e.TgZ(124,"div",16)(125,"div",30)(126,"label",61),e._uU(127,"JSON Field"),e.qZA(),e._UZ(128,"input",62),e.YNc(129,ge,4,3,"div",22),e.qZA(),e.TgZ(130,"div",30)(131,"label",63),e._uU(132,"Value"),e.qZA(),e._UZ(133,"input",64),e.YNc(134,fe,4,3,"div",22),e.qZA()(),e._UZ(135,"hr"),e.TgZ(136,"div",65)(137,"div",30)(138,"div",66)(139,"label",67),e._uU(140,"ID Token.name"),e.qZA(),e._UZ(141,"input",68),e.qZA(),e.TgZ(142,"div",66)(143,"label",69),e._uU(144,"ID Token.email"),e.qZA(),e._UZ(145,"input",70),e.qZA(),e.TgZ(146,"div",66)(147,"label",71),e._uU(148,"ID Token.picture"),e.qZA(),e._UZ(149,"input",72),e.qZA(),e.TgZ(150,"div",66)(151,"label",73),e._uU(152,"ID Token.lightId"),e.qZA(),e._UZ(153,"input",74),e.qZA(),e.TgZ(154,"div",66)(155,"label",75),e._uU(156,"ID Token.roleName"),e.qZA(),e._UZ(157,"input",76),e.qZA()(),e.TgZ(158,"div",30)(159,"label",8),e._uU(160,"ID Token Example"),e.qZA(),e.TgZ(161,"div",32),e._UZ(162,"textarea",77),e.qZA()()()()()(),e.TgZ(163,"div",16)(164,"div",30)(165,"label",78),e._uU(166,"Create User"),e.qZA(),e._UZ(167,"input",79),e.qZA(),e.TgZ(168,"div",30)(169,"label",80),e._uU(170,"Create Time"),e.qZA(),e._UZ(171,"input",81),e.qZA()(),e.TgZ(172,"div",16)(173,"div",30)(174,"label",82),e._uU(175,"Update User"),e.qZA(),e._UZ(176,"input",83),e.qZA(),e.TgZ(177,"div",30)(178,"label",84),e._uU(179,"Update Time"),e.qZA(),e._UZ(180,"input",85),e.qZA()(),e.TgZ(181,"div",6)(182,"div",86),e.YNc(183,he,3,4,"button",87),e.YNc(184,ve,3,4,"button",88),e.TgZ(185,"button",89),e.NdJ("click",function(){return n.changePage("clientList")}),e._uU(186),e.ALo(187,"translate"),e.qZA()()()()()(),e._UZ(188,"p-toast",90),e.TgZ(189,"p-confirmDialog",91,92),e.YNc(191,be,5,8,"ng-template",93),e.qZA()),2&t&&(e.Q6J("title",n.currentTitle)("isDefault",1==n.pageNum),e.xp6(1),e.Q6J("hidden",1!=n.pageNum),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(2),e.cQ8("placeholder","",e.lcZ(5,55,"client_id"),"\u3001",e.lcZ(6,57,"client_name"),"\u3001",e.lcZ(7,59,"client_alias"),""),e.Q6J("control",n.form.get("keyword"))("searchFn",n.queryClientList.bind(n)),e.xp6(5),e.Q6J("ngIf",n.clientListCols),e.xp6(1),e.Q6J("hidden",2!=n.pageNum),e.xp6(4),e.AsE("",e.lcZ(15,61,"client_id"),": ",null==n.currentClient?null:n.currentClient.clientId,""),e.xp6(3),e.Oqu(e.lcZ(18,63,"button.create")),e.xp6(2),e.Akn(e.DdM(71,P)),e.Q6J("value",n.gtwIdpList),e.xp6(7),e.Oqu(e.lcZ(27,65,"button.return_to_list")),e.xp6(2),e.Q6J("hidden",4!=n.pageNum),e.xp6(1),e.Q6J("formGroup",n.formEdit),e.xp6(1),e.Q6J("hidden","create"==n.currentAction),e.xp6(10),e.Q6J("ngIf",(null==n.clientId?null:n.clientId.invalid)&&((null==n.clientId?null:n.clientId.dirty)||(null==n.clientId?null:n.clientId.touched))),e.xp6(14),e.Q6J("ngIf",(null==n.status?null:n.status.invalid)&&((null==n.status?null:n.status.dirty)||(null==n.status?null:n.status.touched))),e.xp6(12),e.Q6J("ngIf",(null==n.pageTitle?null:n.pageTitle.invalid)&&((null==n.pageTitle?null:n.pageTitle.dirty)||(null==n.pageTitle?null:n.pageTitle.touched))),e.xp6(5),e.Q6J("hidden","detail"===n.currentAction),e.xp6(3),e.Oqu(e.lcZ(75,67,"chs_file")),e.xp6(3),e.Q6J("ngIf",n._fileSrc),e.xp6(5),e.Q6J("src",n._fileSrc,e.LSH),e.xp6(10),e.Akn(e.DdM(72,qe)),e.xp6(1),e.Akn(e.DdM(73,Ze)),e.Q6J("options",n.methodsList),e.xp6(2),e.Q6J("ngIf",(null==n.apiUrl?null:n.apiUrl.invalid)&&((null==n.apiUrl?null:n.apiUrl.dirty)||(null==n.apiUrl?null:n.apiUrl.touched))),e.xp6(14),e.Q6J("ngForOf",n.bodyType),e.xp6(1),e.Q6J("ngIf",(null==n.reqBodyType?null:n.reqBodyType.invalid)&&((null==n.reqBodyType?null:n.reqBodyType.dirty)||(null==n.reqBodyType?null:n.reqBodyType.touched))),e.xp6(1),e.Q6J("required",!0)("hidden",!n.reqBodyType.value||"N"==n.reqBodyType.value||"R"==n.reqBodyType.value),e.xp6(2),e.Q6J("ngIf","R"==n.reqBodyType.value),e.xp6(9),e.Q6J("ngForOf",n.respType),e.xp6(1),e.Q6J("ngIf",(null==n.sucByType?null:n.sucByType.invalid)&&((null==n.sucByType?null:n.sucByType.dirty)||(null==n.sucByType?null:n.sucByType.touched))),e.xp6(1),e.Q6J("hidden","H"==n.sucByType.value),e.xp6(5),e.Q6J("ngIf",(null==n.sucByField?null:n.sucByField.invalid)&&((null==n.sucByField?null:n.sucByField.dirty)||(null==n.sucByField?null:n.sucByField.touched))),e.xp6(5),e.Q6J("ngIf",(null==n.sucByValue?null:n.sucByValue.invalid)&&((null==n.sucByValue?null:n.sucByValue.dirty)||(null==n.sucByValue?null:n.sucByValue.touched))),e.xp6(28),e.Q6J("readOnly",!0)("value",n.idTokenExp),e.xp6(1),e.Q6J("hidden","detail"!=n.currentAction),e.xp6(9),e.Q6J("hidden","detail"!=n.currentAction),e.xp6(11),e.Q6J("ngIf","create"==n.currentAction),e.xp6(1),e.Q6J("ngIf","update"==n.currentAction),e.xp6(2),e.Oqu(e.lcZ(187,69,"button.return_to_list")),e.xp6(2),e.Akn(e.DdM(74,Ae)),e.xp6(1),e.Akn(e.DdM(75,Be)))},directives:[h.e,u._Y,u.JL,u.sg,b.J,l.O5,V.iA,_.jx,l.sg,k.Hq,x.u,u.Fj,u.JJ,u.u,U.EU,I.g,L.Lt,E.l,u.Q7,J.FN,H.Q,l.PC],pipes:[M.X$],styles:[".form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background:#F6F6F6}.border-line[_ngcontent-%COMP%]{border:0;border-top:1px solid #ddd}.keyValueContent[_ngcontent-%COMP%], .keyValueContent[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#eee}"]}),o})();var O=a(86347);const ke=[{path:"",component:Ce,canActivate:[O.u6]}];let Ie=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[y.Bz.forChild(ke)],y.Bz]}),o})();var Re=a(78555),xe=a(31890);let Ue=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[O.u6],imports:[[l.ez,Ie,Re.W,xe.m,u.UX,u.u5]]}),o})()},76746:(w,C,a)=>{a.d(C,{l:()=>g});var l=a(87587),y=a(93075),v=a(45682),Z=a(69808);const u=function(){return{display:"flex",width:"100%","align-items":"center"}},_=function(p){return{required:p}};let q=(()=>{class p{constructor(d,h){this.fb=d,this.toolService=h,this.no=1,this._disabled=!1,this.required=!1,this.change=new l.vpe,this.remove=new l.vpe}ngOnInit(){this.form=this.fb.group({value:new y.NI(this.data?this.data.value:""),key:new y.NI(this.data?this.data.key:"")}),this._disabled?this.form.disable():this.form.enable(),this.form.valueChanges.subscribe(d=>{d.no=this.no,this.change.emit(d)})}deleteItem(){this._ref.destroy(),this.remove.emit(this.no)}get value(){return this.form.get("value")}get key(){return this.form.get("key")}}return p.\u0275fac=function(d){return new(d||p)(l.Y36(y.qu),l.Y36(v.g))},p.\u0275cmp=l.Xpm({type:p,selectors:[["app-key-value-field"]],inputs:{_ref:"_ref",data:"data",no:"no",_disabled:"_disabled",required:"required"},outputs:{change:"change",remove:"remove"},decls:10,vars:11,consts:[[1,"form-group",3,"formGroup"],[1,"col-12","px-0"],[1,"pe-1","control-label",3,"ngClass"],["type","text","formControlName","key",1,"form-control"],[1,"ps-2","pe-1","control-label",3,"ngClass"],["type","text","formControlName","value",1,"form-control"],["type","button",1,"btn","tpi-primary","ms-1",2,"border-radius","50%",3,"hidden","click"],[1,"fa","fa-minus"]],template:function(d,h){1&d&&(l.TgZ(0,"div",0)(1,"div",1)(2,"label",2),l._uU(3,"Key"),l.qZA(),l._UZ(4,"input",3),l.TgZ(5,"label",4),l._uU(6,"Value"),l.qZA(),l._UZ(7,"input",5),l.TgZ(8,"button",6),l.NdJ("click",function(){return h.deleteItem()}),l._UZ(9,"i",7),l.qZA()()()),2&d&&(l.Q6J("formGroup",h.form),l.xp6(1),l.Akn(l.DdM(6,u)),l.xp6(1),l.Q6J("ngClass",l.VKq(7,_,h.required)),l.xp6(3),l.Q6J("ngClass",l.VKq(9,_,h.required)),l.xp6(3),l.Q6J("hidden",h._disabled))},directives:[y.JL,y.sg,Z.mk,y.Fj,y.JJ,y.u],styles:[""]}),p})();const e=["keyValue"];function c(p,A){}let g=(()=>{class p{constructor(){this.disabled=!1,this.keyValueList=[],this.no=0,this.required=!1}ngOnInit(){}registerOnChange(d){this.onChange=d}registerOnTouched(d){this.onTouched=d}setDisabledState(d){this.disabled=d}writeValue(d){if(this.keyValueRef&&this.keyValueRef.clear(),this.keyValueList=[],this.no=0,d&&""!=d&&this.isValidJSON(d)){const h=JSON.parse(d);Array.isArray(h)&&h.forEach(b=>{Object.keys(b).map(V=>{this.addKeyValue({key:V,value:b[V]},!0)})})}}isValidJSON(d){try{return JSON.parse(d),!0}catch(h){return!1}}addKeyValue(d,h=!1){let b=this.keyValueRef.createComponent(q);if(this.keyValueList.push({key:d?d.key:"",value:d?d.value:"",no:this.no}),!h){let k=this.keyValueList.map(x=>{let U={};return U[x.key]=x.value,U});this.onChange(JSON.stringify(k))}b.instance._ref=b,b.instance.no=this.no,b.instance.data=this.keyValueList[this.no],b.instance._disabled=this.disabled,b.instance.required=this.required,this.no++,b.instance.change.subscribe(k=>{let x=this.keyValueList.findIndex(I=>I.no===k.no);this.keyValueList[x].key=k.key,this.keyValueList[x].value=k.value;let U=this.keyValueList.map(I=>{let L={};return L[I.key]=I.value,L});this.onChange(JSON.stringify(U))}),b.instance.remove.subscribe(k=>{let x=this.keyValueList.findIndex(I=>I.no===k);this.keyValueList.splice(x,1),0==this.keyValueList.length&&(this.no=0,this.onChange(null));let U=this.keyValueList.map(I=>{let L={};return L[I.key]=I.value,L});this.onChange(JSON.stringify(U))})}}return p.\u0275fac=function(d){return new(d||p)},p.\u0275cmp=l.Xpm({type:p,selectors:[["app-key-value-form"]],viewQuery:function(d,h){if(1&d&&l.Gf(e,7,l.s_b),2&d){let b;l.iGM(b=l.CRH())&&(h.keyValueRef=b.first)}},inputs:{required:"required"},features:[l._Bn([{provide:y.JU,useExisting:(0,l.Gpc)(()=>p),multi:!0}])],decls:7,vars:1,consts:[[1,"form-group","row"],["content",""],[1,"col-12"],["keyValue",""],["type","button",1,"btn","tpi-second",2,"border-radius","50%",3,"hidden","click"],[1,"fa","fa-plus"]],template:function(d,h){1&d&&(l.TgZ(0,"div",0,1)(2,"div",2),l.YNc(3,c,0,0,"ng-template",null,3,l.W1O),l.TgZ(5,"button",4),l.NdJ("click",function(){return h.addKeyValue()}),l._UZ(6,"i",5),l.qZA()()()),2&d&&(l.xp6(5),l.Q6J("hidden",h.disabled))},styles:[""]}),p})()},74856:(w,C,a)=>{a.d(C,{J:()=>v});var l=a(87587),y=a(93075);let v=(()=>{class Z{constructor(){this.placeholder="",this.class=""}onSearch(){this.searchFn&&this.searchFn()}onKeydown(_){_.isComposing||this.onSearch()}}return Z.\u0275fac=function(_){return new(_||Z)},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["app-search-input"]],inputs:{placeholder:"placeholder",control:"control",searchFn:"searchFn",class:"class"},decls:3,vars:2,consts:[[1,"p-input-icon-right","w-100"],[1,"pi","pi-search","tpi-i-search",3,"click"],["type","search",1,"form-control","tpi-i-input",3,"placeholder","formControl","keydown.enter"]],template:function(_,q){1&_&&(l.TgZ(0,"span",0)(1,"i",1),l.NdJ("click",function(){return q.onSearch()}),l.qZA(),l.TgZ(2,"input",2),l.NdJ("keydown.enter",function(c){return q.onKeydown(c)}),l.qZA()()),2&_&&(l.xp6(2),l.Q6J("placeholder",q.placeholder)("formControl",q.control))},directives:[y.Fj,y.JJ,y.oH],styles:[""]}),Z})()},63710:(w,C,a)=>{a.d(C,{e:()=>e});var l=a(87587),y=a(69808),v=a(51062);function Z(c,g){if(1&c&&(l.TgZ(0,"div")(1,"h3",9),l._uU(2),l.ALo(3,"translate"),l.qZA()()),2&c){const p=l.oxw();l.xp6(2),l.Oqu(l.lcZ(3,1,p.title))}}function u(c,g){if(1&c){const p=l.EpF();l.TgZ(0,"div",10)(1,"button",11),l.NdJ("click",function(){return l.CHM(p),l.oxw().return()}),l._UZ(2,"i",12),l._uU(3),l.ALo(4,"translate"),l.qZA(),l.TgZ(5,"span",13),l._uU(6),l.qZA(),l.TgZ(7,"span",14),l._uU(8),l.qZA()()}if(2&c){const p=l.oxw();l.xp6(3),l.hij(" ",l.lcZ(4,3,"button.return_to_list")," "),l.xp6(3),l.hij("",p.getHead()," /"),l.xp6(2),l.Oqu(p.getTail())}}const _=[[["","center-view","center"]],"*"],q=["[center-view=center]","*"];let e=(()=>{class c{constructor(){this.title="",this.isDefault=!0,this.headerReturn=new l.vpe}ngOnInit(){}return(){this.headerReturn.emit(null)}getHead(){const p=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return p.pop(),p.join(" / ")}getTail(){const p=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return p[p.length-1]}}return c.\u0275fac=function(p){return new(p||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["app-container"]],inputs:{title:"title",isDefault:"isDefault"},outputs:{headerReturn:"headerReturn"},ngContentSelectors:q,decls:11,vars:2,consts:[[1,"container-fluid","h-100"],[1,"row","position-relative",2,"height","calc(100% - 40px - 0.5rem)"],[1,"col"],[2,"margin-bottom","0.5rem"],[4,"ngIf"],["style","text-align: right",4,"ngIf"],[1,"col","d-flex","justify-content-center"],[1,"my-0","mb-2"],[1,"p-2"],["id","content",1,"page-title"],[2,"text-align","right"],["type","button","icon","",1,"btn","float-start","tpi-header-return",3,"click"],[1,"fas","fa-arrow-left",2,"margin-right","5px"],[1,"mb-0",2,"font-size","0.8rem","color","#666464"],[1,"mb-0",2,"font-size","0.8rem","color","#ff6e38","font-weight","bold"]],template:function(p,A){1&p&&(l.F$t(_),l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),l.YNc(4,Z,4,3,"div",4),l.YNc(5,u,9,5,"div",5),l.TgZ(6,"div",6),l.Hsn(7),l.qZA()(),l._UZ(8,"hr",7),l.Hsn(9,1),l._UZ(10,"div",8),l.qZA()()()),2&p&&(l.xp6(4),l.Q6J("ngIf",A.isDefault),l.xp6(1),l.Q6J("ngIf",!A.isDefault))},directives:[y.O5],pipes:[v.X$],styles:[".card.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#5a5541}"]}),c})()},86347:(w,C,a)=>{a.d(C,{DL:()=>l.D,u6:()=>v.u});var l=a(81233),v=(a(45240),a(92718));a(45682)},71330:(w,C,a)=>{a.d(C,{l:()=>u});var l=a(92340),y=a(57553),v=a(87587),Z=a(30424);let u=(()=>{class _{constructor(e){this.api=e,this.api.baseUrl=l.N.dpPath}get basePath(){return l.N.isv4?"dgrv4/11":"tsmpdpaa/11"}queryOpenApiKeyByClientId(e){let c={ReqHeader:this.api.getReqHeader(y.Nx.queryOpenApiKeyByClientId),ReqBody:e};return this.api.npPost(`${this.basePath}/DPB0090`,c)}queryOpenApiKeyDetailByPk(e){let c={ReqHeader:this.api.getReqHeader(y.Nx.queryOpenApiKeyDetailByPk),ReqBody:e};return this.api.npPost(`${this.basePath}/DPB0091`,c)}writeOpenApiKeyReq(e){let c={ReqHeader:this.api.getReqHeader(y.Nx.writeOpenApiKeyReq),ReqBody:e};return this.api.npPost(`${this.basePath}/DPB0092`,c)}queryApiLikeList(e){let c={ReqHeader:this.api.getReqHeader(y.Nx.queryApiLikeList),ReqBody:e};return this.api.npPost(`${this.basePath}/DPB0093`,c)}queryOpenApiKeyByDateAndLike_before(){let e={ReqHeader:this.api.getReqHeader(y.Nx.queryOpenApiKeyByDateAndLike),ReqBody:{}};return this.api.npPost(`${this.basePath}/DPB0094?before`,e)}queryOpenApiKeyByDateAndLike_ignore1298(e){let c={ReqHeader:this.api.getReqHeader(y.Nx.queryOpenApiKeyByDateAndLike),ReqBody:e};return this.api.excuteNpPost_ignore1298(`${this.basePath}/DPB0094`,c)}queryOpenApiKeyByDateAndLike(e){let c={ReqHeader:this.api.getReqHeader(y.Nx.queryOpenApiKeyByDateAndLike),ReqBody:e};return this.api.npPost(`${this.basePath}/DPB0094`,c)}queryClientListByRegStatusLike_ignore1298(e){let c={ReqHeader:this.api.getReqHeader(y.Nx.queryClientListByRegStatusLike),ReqBody:e};return this.api.excuteNpPost_ignore1298(`${this.basePath}/DPB0095`,c)}queryClientListByRegStatusLike(e){let c={ReqHeader:this.api.getReqHeader(y.Nx.queryClientListByRegStatusLike),ReqBody:e};return this.api.npPost(`${this.basePath}/DPB0095`,c)}}return _.\u0275fac=function(e){return new(e||_)(v.LFG(Z.K))},_.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()}}]);