"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[1155],{11155:(N,x,r)=>{r.r(x),r.d(x,{Ac0105Module:()=>dt});var c=r(69808),Z=r(99291),A=r(86347),v=r(15861),L=r(14525),_=r(59783),u=r(93075),s=r(1694),f=r(94327),h=r(71764),m=r(57553),e=r(87587),R=r(56435),q=r(45682),U=r(51062),M=r(55679),B=r(41313),E=r(3937),H=r(96614),P=r(86518),j=r(63710),V=r(40845),K=r(4119),G=r(23099),z=r(73407),X=r(61208),W=r(49603),J=r(14036);function ee(n,l){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.AsE("",t.label," (",t.value,")")}}function te(n,l){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.AsE("",t.label," (",t.value,")")}}function ne(n,l){if(1&n&&(e.TgZ(0,"div",15)(1,"small",16),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,t.locale.errors.required))}}const oe=function(){return{value:50}};function ie(n,l){if(1&n&&(e.TgZ(0,"div",15)(1,"small",16),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",16),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,t.funcName.errors.required)),e.xp6(3),e.Oqu(e.xi3(6,4,t.funcName.errors.maxlength,e.DdM(7,oe)))}}const le=function(){return{value:300}};function ce(n,l){if(1&n&&(e.TgZ(0,"div",15)(1,"small",16),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.xi3(3,1,t.funcDesc.errors.maxlength,e.DdM(4,le)))}}const re=function(){return{width:"100%"}};let ae=(()=>{class n{constructor(t,o){this.fb=t,this.toolService=o,this.no=1,this.localeData=[],this.change=new e.vpe,this.remove=new e.vpe}ngOnInit(){var t=this;return(0,v.Z)(function*(){t.form=t.fb.group({locale:new u.NI("",[s.np()]),funcName:new u.NI("",[s.np(),s.dH(50)]),funcDesc:new u.NI("",[s.dH(300)])}),t.form.valueChanges.subscribe(o=>{let i=Object.assign({valid:t.form.valid,no:t.no},o);t.change.emit(i)})})()}deleteItem(){this._ref.destroy(),this.remove.emit(this.no)}get locale(){return this.form.get("locale")}get funcName(){return this.form.get("funcName")}get funcDesc(){return this.form.get("funcDesc")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.qu),e.Y36(q.g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-locale-func-detail"]],inputs:{_ref:"_ref",data:"data",no:"no",localeData:"localeData"},outputs:{change:"change",remove:"remove"},decls:26,vars:26,consts:[[1,"form-group","col","ldapdetail","d-flex",2,"align-items","center",3,"formGroup"],[1,"col-2","mx-2"],["id","locale_label","for","locale",1,"control-label","required"],["formControlName","locale","optionValue","value",3,"options","placeholder"],["pTemplate","selectedItem"],["pTemplate","item"],["class","text-danger",4,"ngIf"],[1,"col-3","mx-2"],["for","funcName",1,"control-label","required"],["type","text","formControlName","funcName",1,"form-control",3,"placeholder"],[1,"col"],["for","funcDesc",1,"control-label"],["type","text","id","funcDesc","formControlName","funcDesc",1,"form-control",3,"placeholder"],["type","button",1,"btn","tpi-primary","ms-1",2,"border-radius","50%",3,"click"],[1,"fa","fa-minus"],[1,"text-danger"],[1,"form-text"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",3),e.ALo(6,"translate"),e.YNc(7,ee,2,2,"ng-template",4),e.YNc(8,te,2,2,"ng-template",5),e.qZA(),e.YNc(9,ne,4,3,"div",6),e.qZA(),e.TgZ(10,"div",7)(11,"label",8),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"input",9),e.ALo(15,"translate"),e.YNc(16,ie,7,8,"div",6),e.qZA(),e.TgZ(17,"div",10)(18,"label",11),e._uU(19),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"input",12),e.ALo(22,"translate"),e.YNc(23,ce,4,5,"div",6),e.qZA(),e.TgZ(24,"button",13),e.NdJ("click",function(){return o.deleteItem()}),e._UZ(25,"i",14),e.qZA()()),2&t&&(e.Q6J("formGroup",o.form),e.xp6(3),e.Oqu(e.lcZ(4,13,"fun_locale")),e.xp6(2),e.Akn(e.DdM(25,re)),e.s9C("placeholder",e.lcZ(6,15,"plz_chs")),e.Q6J("options",o.localeData),e.xp6(4),e.Q6J("ngIf",(null==o.locale?null:o.locale.invalid)&&((null==o.locale?null:o.locale.dirty)||(null==o.locale?null:o.locale.touched))),e.xp6(3),e.Oqu(e.lcZ(13,17,"fun_name")),e.xp6(2),e.s9C("placeholder",e.lcZ(15,19,"fun_name")),e.xp6(2),e.Q6J("ngIf",o.funcName.invalid&&(o.funcName.dirty||o.funcName.touched)),e.xp6(3),e.Oqu(e.lcZ(20,21,"fun_desc")),e.xp6(2),e.s9C("placeholder",e.lcZ(22,23,"fun_desc")),e.xp6(2),e.Q6J("ngIf",o.funcDesc.invalid&&(o.funcDesc.dirty||o.funcDesc.touched)))},directives:[u.JL,u.sg,J.Lt,u.JJ,u.u,_.jx,c.O5,u.Fj],pipes:[U.X$],styles:[".ldapdetail[_ngcontent-%COMP%]{background-color:#eee;padding:10px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background:#eee}"]}),n})();var ue=r(46877);const se=["funcData"];function de(n,l){}let pe=(()=>{class n{constructor(t,o){this.listService=t,this.toolService=o,this.action="",this.disabled=!1,this.no=0,this._funDataList=[],this.localeData=[]}ngOnInit(){}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.funcDataRef.clear(),this._funDataList=[],this.no=0;let o={encodeItemNo:this.toolService.Base64Encoder(this.toolService.BcryptEncoder("RTN_CODE_LOCALE"))+",22",isDefault:"N"};this.listService.querySubItemsByItemNo(o).subscribe(i=>{var a;this.toolService.checkDpSuccess(i.ResHeader)&&(this.localeData=i.RespBody.subItems?null===(a=i.RespBody.subItems)||void 0===a?void 0:a.map(d=>({label:d.subitemName,value:d.subitemNo})):[])}),""==t&&this.addFuncData()}addFuncData(t){let o=this.funcDataRef.createComponent(ae),i={};t||(i.funcDesc="",i.funcName="",i.locale="",i.no=this.no,i.valid=!1),this._funDataList.push(i),o.instance._ref=o,o.instance.no=this.no,o.instance.data=this._funDataList[this.no],o.instance.localeData=this.localeData,this.onChange(""),this.no++,o.instance.change.subscribe(a=>{let d=this._funDataList.findIndex(p=>p.no===a.no);this._funDataList.length>=0&&(this._funDataList[d].funcDesc=a.funcDesc,this._funDataList[d].funcName=a.funcName,this._funDataList[d].locale=a.locale,this._funDataList[d].valid=a.valid),this._funDataList.every(p=>!0===p.valid)?this.onChange(this._funDataList):this.onChange("")}),o.instance.remove.subscribe(a=>{let d=this._funDataList.findIndex(p=>p.no===a);this._funDataList.splice(d,1),0==this._funDataList.length?(this.no=0,this.onChange(""),this.addFuncData()):this.onChange(this._funDataList)})}setDisabledState(t){this.disabled=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ue.X),e.Y36(q.g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-locale-func-form"]],viewQuery:function(t,o){if(1&t&&e.Gf(se,7,e.s_b),2&t){let i;e.iGM(i=e.CRH())&&(o.funcDataRef=i.first)}},inputs:{action:"action"},features:[e._Bn([{provide:u.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:7,vars:1,consts:[[1,"form-group"],["content",""],[1,"col-12"],["funcData",""],["type","button",1,"btn","tpi-second",2,"border-radius","50%",3,"hidden","click"],[1,"fa","fa-plus"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2),e.YNc(3,de,0,0,"ng-template",null,3,e.W1O),e.TgZ(5,"button",4),e.NdJ("click",function(){return o.addFuncData()}),e._UZ(6,"i",5),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("hidden",o.disabled))},styles:[""]}),n})();var me=r(17773),fe=r(19114),_e=r(39646);let ge=(()=>{class n{constructor(t){this.translateService=t}transform(t){let o="";switch(t){case"SYS_RPT":o="1_1";break;case"IFRAME":o="1_2";break;case"LINK":o="1_3"}return""==o?(0,_e.of)(""):this.translateService.get(`embedded_url_tip.${o}`)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(U.sK,16))},n.\u0275pipe=e.Yjl({name:"reportType",type:n,pure:!0}),n})();function ve(n,l){1&n&&e._UZ(0,"col"),2&n&&e.Udp("width",l.$implicit.width)}function he(n,l){if(1&n&&(e.TgZ(0,"colgroup"),e.YNc(1,ve,1,2,"col",52),e.qZA(),e.TgZ(2,"colgroup",53),e._uU(3," Action "),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function be(n,l){if(1&n&&(e.TgZ(0,"th",56),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.Udp("width",t.width),e.xp6(1),e.hij(" ",t.header," ")}}function Ze(n,l){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,be,2,3,"th",54),e.TgZ(2,"th",55),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Oqu(e.lcZ(4,2,"action"))}}function Ae(n,l){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"reportType"),e.qZA()),2&n){const t=l.$implicit,o=e.oxw().$implicit;e.Udp("width",t.width),e.xp6(1),e.hij(" ","reportType"==t.field?e.lcZ(2,3,e.lcZ(3,5,o.reportType)):"localeName"==t.field?o.localeName+" ("+o.locale+")":o[t.field]," ")}}function xe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e.YNc(1,Ae,4,7,"td",52),e.TgZ(2,"td",57)(3,"button",58),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().changePage("detail",a)}),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",59),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().changePage("update",a)}),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",60),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().changePage("delete",a)}),e.ALo(8,"translate"),e.qZA()()()}if(2&n){const t=l.columns,o=e.oxw();e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Q6J("disabled",0==o.canDetail)("pTooltip",e.lcZ(4,6,"button.roles")),e.xp6(2),e.Q6J("disabled",0==o.canUpdate)("pTooltip",e.lcZ(6,8,"button.update")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(8,10,"button.delete"))}}function Te(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",62)(2,"span",63),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",64),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).moreFuncList()}),e._uU(6),e.ALo(7,"translate"),e._UZ(8,"i",65),e.qZA()()()}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(2),e.AsE("",e.lcZ(4,4,"row_count"),": ",o.funcInfoList.length,""),e.xp6(3),e.hij(" ",e.lcZ(7,6,"button.more")," ")}}function ye(n,l){if(1&n&&e.YNc(0,Te,9,8,"tr",61),2&n){const t=e.oxw();e.Q6J("ngIf",t.funcInfoList.length>0)}}function Ce(n,l){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=l.$implicit;e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," ")}}function Le(n,l){if(1&n&&(e.TgZ(0,"div",24)(1,"label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"label",25),e._uU(5),e.ALo(6,"async"),e.ALo(7,"reportType"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"embedded_url_tip.type")),e.xp6(3),e.Oqu(e.lcZ(6,4,e.lcZ(7,6,null==t.currentFuncInfo?null:t.currentFuncInfo.reportType)))}}function Fe(n,l){if(1&n&&(e.TgZ(0,"div",23)(1,"div",28)(2,"label"),e._uU(3,"Embedded URL"),e.qZA(),e._UZ(4,"pre",66),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("innerText",null==t.currentFuncInfo?null:t.currentFuncInfo.reportUrl)}}function Ue(n,l){1&n&&e._UZ(0,"col"),2&n&&e.Udp("width",l.$implicit.width)}function Ne(n,l){if(1&n&&(e.TgZ(0,"colgroup"),e.YNc(1,Ue,1,2,"col",52),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function qe(n,l){if(1&n&&(e.TgZ(0,"th",56),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.Udp("width",t.width),e.xp6(1),e.hij(" ",t.header," ")}}function Ie(n,l){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,qe,2,3,"th",54),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function we(n,l){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=l.$implicit,o=e.oxw().$implicit;e.Udp("width",t.width),e.xp6(1),e.hij(" ",o[t.field]," ")}}function De(n,l){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,we,2,3,"td",52),e.qZA()),2&n){const t=l.columns;e.xp6(1),e.Q6J("ngForOf",t)}}function Se(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",62)(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",64),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).moreRoleList()}),e._uU(6),e.ALo(7,"translate"),e._UZ(8,"i",65),e.qZA()()()}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.uIk("colspan",t.length),e.xp6(2),e.AsE("",e.lcZ(4,4,"row_count"),": ",o.roleInfoList.length,""),e.xp6(3),e.hij(" ",e.lcZ(7,6,"button.more")," ")}}function ke(n,l){if(1&n&&e.YNc(0,Se,9,8,"tr",61),2&n){const t=e.oxw();e.Q6J("ngIf",t.roleInfoList.length>0)}}function Re(n,l){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=l.$implicit;e.xp6(1),e.uIk("colspan",t.length),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," ")}}function Je(n,l){if(1&n&&(e.TgZ(0,"div",31)(1,"label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"label",25),e._uU(5),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"main_func")),e.xp6(3),e.Oqu(t.currentFuncInfo.masterFuncName)}}function Oe(n,l){if(1&n&&(e.TgZ(0,"div",31)(1,"label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"label",25),e._uU(5),e.ALo(6,"async"),e.ALo(7,"reportType"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"embedded_url_tip.type")),e.xp6(3),e.Oqu(e.lcZ(6,4,e.lcZ(7,6,null==t.currentFuncInfo?null:t.currentFuncInfo.reportType)))}}function Ye(n,l){if(1&n&&(e.TgZ(0,"div",74)(1,"small",75),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",75),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"small",75),e._uU(8),e.ALo(9,"translate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(e.xi3(3,3,t.newFuncName.errors.stringalias,t.newFunNameLimitChar)),e.xp6(3),e.Oqu(e.xi3(6,6,t.newFuncName.errors.maxlength,t.newFunNameLimitChar)),e.xp6(3),e.Oqu(e.lcZ(9,9,t.newFuncName.errors.required))}}function Qe(n,l){if(1&n&&(e.TgZ(0,"div",74)(1,"small",75),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(e.xi3(3,1,t.newDesc.errors.maxlength,t.newFunDescLimitChar))}}const Me=function(){return{standalone:!0}};function Be(n,l){if(1&n&&(e.TgZ(0,"div",3)(1,"div",76)(2,"div",40),e._UZ(3,"p-checkbox",77),e.TgZ(4,"label",78),e._uU(5,"Kibana "),e.TgZ(6,"small",79),e._uU(7),e.ALo(8,"translate"),e.ALo(9,"translate"),e.qZA()()()()()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("binary",!0)("ngModel","SYS_RPT"==(null==t.currentFuncInfo?null:t.currentFuncInfo.reportType))("ngModelOptions",e.DdM(10,Me))("readonly",!0),e.xp6(4),e.AsE(" ( ",e.lcZ(8,6,"funcCode_kibana_prefix"),", ",e.lcZ(9,8,"main_func_tip.2")," )")}}const O=function(){return{value:2e3}};function $e(n,l){if(1&n&&(e.TgZ(0,"div",74)(1,"small",75),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",75),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Oqu(e.xi3(3,2,null==t.newReportUrl?null:t.newReportUrl.errors.maxlength,e.DdM(7,O))),e.xp6(3),e.Oqu(e.lcZ(6,5,t.newReportUrl.errors.required))}}function Ee(n,l){if(1&n&&(e.TgZ(0,"div",23)(1,"div",28)(2,"label",80),e._uU(3,"Embedded URL"),e._UZ(4,"i",81),e.TgZ(5,"span",82),e._uU(6,"*"),e.qZA()(),e._UZ(7,"input",83),e.YNc(8,$e,7,8,"div",70),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("pTooltip",t.embbededUrlTip)("escape",!1),e.xp6(4),e.Q6J("ngIf",t.newReportUrl.invalid&&(t.newReportUrl.dirty||t.newReportUrl.touched))}}function He(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"form",36)(1,"div",23)(2,"div",31)(3,"label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"label",25),e._uU(7),e.ALo(8,"translate"),e.ALo(9,"translate"),e.qZA()(),e.YNc(10,Je,6,4,"div",67),e.YNc(11,Oe,8,8,"div",67),e.qZA(),e.TgZ(12,"div",23)(13,"div",31)(14,"label"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"label",25),e._uU(18),e.qZA()(),e.TgZ(19,"div",31)(20,"label"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"label",25),e._uU(24),e.qZA()()(),e.TgZ(25,"div",23)(26,"div",31)(27,"label",68),e._uU(28),e.ALo(29,"translate"),e.qZA(),e._UZ(30,"input",69),e.ALo(31,"translate"),e.YNc(32,Ye,10,11,"div",70),e.qZA(),e.TgZ(33,"div",31)(34,"label",71),e._uU(35),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"input",72),e.YNc(38,Qe,4,4,"div",70),e.qZA()(),e.YNc(39,Be,10,11,"div",47),e.YNc(40,Ee,9,3,"div",27),e.TgZ(41,"div",23)(42,"div",33)(43,"button",73),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateFunc()}),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"button",34),e.NdJ("click",function(){return e.CHM(t),e.oxw().changePage("query")}),e._uU(47),e.ALo(48,"translate"),e.qZA()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(4),e.Oqu(e.lcZ(5,20,"create_type")),e.xp6(3),e.Oqu(t.currentFuncInfo.masterFuncName?e.lcZ(8,22,"sub_func"):e.lcZ(9,24,"main_func")),e.xp6(3),e.Q6J("ngIf",t.currentFuncInfo.masterFuncName),e.xp6(1),e.Q6J("ngIf",null==t.currentFuncInfo?null:t.currentFuncInfo.reportType),e.xp6(4),e.Oqu(e.lcZ(16,26,"fun_code")),e.xp6(3),e.Oqu(t.currentFuncInfo.funcCode),e.xp6(3),e.Oqu(e.lcZ(22,28,"fun_locale")),e.xp6(3),e.AsE("",t.currentFuncInfo.localeName,"(",t.currentFuncInfo.locale,")"),e.xp6(4),e.Oqu(e.lcZ(29,30,"fun_name")),e.xp6(2),e.s9C("placeholder",e.lcZ(31,32,"new_fun_name")),e.xp6(2),e.Q6J("ngIf",t.newFuncName.invalid&&(t.newFuncName.dirty||t.newFuncName.touched)),e.xp6(3),e.Oqu(e.lcZ(36,34,"fun_desc")),e.xp6(3),e.Q6J("ngIf",t.newDesc.invalid&&(t.newDesc.dirty||t.newDesc.touched)),e.xp6(1),e.Q6J("ngIf",t.currentFuncInfo.masterFuncName),e.xp6(1),e.Q6J("ngIf",t.currentFuncInfo.masterFuncName),e.xp6(3),e.Q6J("disabled",t.form.invalid),e.xp6(1),e.hij(" ",e.lcZ(45,36,"button.update")," "),e.xp6(3),e.hij(" ",e.lcZ(48,38,"button.return_to_list")," ")}}function Pe(n,l){1&n&&(e.TgZ(0,"div",3)(1,"div",28)(2,"div",40),e._UZ(3,"p-checkbox",84),e.TgZ(4,"label",78),e._uU(5,"Kibana "),e.TgZ(6,"small",79),e._uU(7),e.ALo(8,"translate"),e.ALo(9,"translate"),e.qZA()()()()()),2&n&&(e.xp6(3),e.Q6J("binary",!0),e.xp6(4),e.AsE(" ( ",e.lcZ(8,3,"funcCode_kibana_prefix"),", ",e.lcZ(9,5,"main_func_tip.2")," )"))}function je(n,l){if(1&n&&(e.TgZ(0,"div",74)(1,"small",75),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,1,t.masterFuncCode.errors.required))}}const Ve=function(){return{width:"100%"}};function Ke(n,l){if(1&n&&(e.TgZ(0,"div",3)(1,"div",37)(2,"label",85),e._uU(3),e.ALo(4,"translate"),e._UZ(5,"i",86),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"p-dropdown",87),e.ALo(8,"translate"),e.YNc(9,je,4,3,"div",70),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.hij("",e.lcZ(4,8,"main_func")," "),e.xp6(2),e.Q6J("pTooltip",e.lcZ(6,10,"main_func_tip.1"))("escape",!1),e.xp6(2),e.Akn(e.DdM(14,Ve)),e.s9C("placeholder",e.lcZ(8,12,"plz_chs")),e.Q6J("options",t.mFuncData),e.xp6(2),e.Q6J("ngIf",(null==t.masterFuncCode?null:t.masterFuncCode.invalid)&&((null==t.masterFuncCode?null:t.masterFuncCode.dirty)||(null==t.masterFuncCode?null:t.masterFuncCode.touched)))}}function Ge(n,l){if(1&n&&(e.TgZ(0,"div",74)(1,"small",75),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",75),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(e.xi3(3,2,null==t.embeddedUrl?null:t.embeddedUrl.errors.maxlength,e.DdM(7,O))),e.xp6(3),e.Oqu(e.lcZ(6,5,null==t.embeddedUrl?null:t.embeddedUrl.errors.required))}}function ze(n,l){if(1&n&&(e.TgZ(0,"div",3)(1,"div",28)(2,"label",88),e._uU(3,"Embedded URL "),e._UZ(4,"i",81),e.qZA(),e._UZ(5,"input",89),e.YNc(6,Ge,7,8,"div",70),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("pTooltip",t.embbededUrlTip)("escape",!1),e.xp6(2),e.Q6J("ngIf",(null==t.embeddedUrl?null:t.embeddedUrl.invalid)&&((null==t.embeddedUrl?null:t.embeddedUrl.dirty)||(null==t.embeddedUrl?null:t.embeddedUrl.touched)))}}function Xe(n,l){1&n&&(e.TgZ(0,"div",91),e._UZ(1,"img",92),e.qZA())}const Y=function(){return{key:"/dgrv4/cus/"}};function We(n,l){1&n&&(e.TgZ(0,"div",91),e._UZ(1,"img",93),e.TgZ(2,"small",74),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.xi3(4,1,"url_contains_keyword",e.DdM(4,Y))))}function et(n,l){1&n&&(e.TgZ(0,"div",91),e._UZ(1,"img",94),e.TgZ(2,"small",74),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.xi3(4,1,"url_dont_contains_keyword",e.DdM(4,Y))))}function tt(n,l){if(1&n&&(e.TgZ(0,"div",3)(1,"div",76),e.YNc(2,Xe,2,0,"div",90),e.YNc(3,We,5,5,"div",90),e.YNc(4,et,5,5,"div",90),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isKibana.value),e.xp6(1),e.Q6J("ngIf",!t.isKibana.value),e.xp6(1),e.Q6J("ngIf",!t.isKibana.value)}}const nt=function(){return{backgroundColor:"var(--red-300)","border-color":"var(--red-300)"}};function ot(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",95)(1,"button",96),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(131).accept()}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",97),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(131).reject()}),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("label",e.lcZ(2,3,"button.confirm")),e.Q6J("ngStyle",e.DdM(7,nt)),e.xp6(2),e.s9C("label",e.lcZ(4,5,"button.cancel")))}const it=function(){return{key:"FUNC_CODE+LOCALE"}},Q=function(){return{"word-break":"break-word"}},lt=function(){return{marginTop:"60px"}},ct=function(){return{width:"50vw"}},rt=[{path:"",component:(()=>{class n extends L.H{constructor(t,o,i,a,d,p,T,C,F,g,b,y){super(t,o),this.fb=i,this.toolService=a,this.translate=d,this.messageService=p,this.funcService=T,this.confirmationService=C,this.serverService=F,this.ngxService=g,this.api=b,this.alertService=y,this.funcInfoList=[],this.currentTitle=this.title,this.pageNum=1,this.newFunNameLimitChar={value:50},this.newFunDescLimitChar={value:300},this.newReportUrlLimitChar={value:2e3},this.currentFuncInfo={funcCode:"",locale:"",funcName:"",funcNameEn:"",funcDesc:"",updateUser:"",updateTime:"",funcType:"",localeName:""},this.funcInfoListCols=[],this.roleInfoListCols=[],this.roleInfoList=[],this.file=null,this.mFuncData=[],this.embbededUrlTip=""}ngOnInit(){var t=this;return(0,v.Z)(function*(){t.form=t.fb.group({keyword:new u.NI(""),newFuncName:new u.NI("",s.rv(t.newFunNameLimitChar.value)),newFuncNameEn:new u.NI("",s.qc(t.newFunNameLimitChar.value)),newDesc:new u.NI("",s.dH(t.newFunDescLimitChar.value)),newReportUrl:new u.NI("",s.dH(t.newReportUrlLimitChar.value))}),t.detailForm=t.fb.group({keyword:new u.NI("")}),t.editForm=t.fb.group({embeddedUrl:new u.NI(""),funcList:new u.NI,type:new u.NI(0),masterFuncCode:new u.NI(""),isKibana:new u.NI(!1)});const i=yield t.toolService.getDict(["fun_code","fun_name","fun_name_en","fun_desc","fun_locale","update_user","update_time","role_name","role_alias","role_desc","embedded_url_tip.type","embedded_url_tip.1","embedded_url_tip.1_1","embedded_url_tip.1_2","embedded_url_tip.1_3","embedded_url_tip.2","embedded_url_tip.2_1","embedded_url_tip.3","embedded_url_tip.3_1","embedded_url_tip.4","embedded_url_tip.4_1","embedded_url_tip.5","embedded_url_tip.6"]);t.funcInfoListCols=[{field:"funcCode",header:i.fun_code},{field:"funcName",header:i.fun_name},{field:"funcDesc",header:i.fun_desc},{field:"reportType",header:i["embedded_url_tip.type"]},{field:"localeName",header:i.fun_locale},{field:"updateUser",header:i.update_user},{field:"updateTime",header:i.update_time}],t.roleInfoListCols=[{field:"roleName",header:i.role_name},{field:"roleAlias",header:i.role_desc}],t.funcService.queryTFuncList_v3_ignore1298({funcType:t.toolService.Base64Encoder(t.toolService.BcryptEncoder("1"))+",1"}).subscribe(a=>{t.toolService.checkDpSuccess(a.ResHeader)&&(t.funcInfoList=a.RespBody.funcInfoList)}),t.embbededUrlTip=`<ol style="padding-inline-start: 20px;margin-block-end: 0;"><li>${i["embedded_url_tip.1"]}<ol style="padding-inline-start: 20px;margin-block-end: 0;"><li>${i["embedded_url_tip.1_1"]}</li><li>${i["embedded_url_tip.1_2"]}</li><li>${i["embedded_url_tip.1_3"]}</li></ol></li><li>${i["embedded_url_tip.2"]}<ol style="padding-inline-start: 20px;margin-block-end: 0;"><li>${i["embedded_url_tip.2_1"]}</li></ol></li><li>${i["embedded_url_tip.3"]}<ol style="padding-inline-start: 20px;margin-block-end: 0;"><li>${i["embedded_url_tip.3_1"]}</li></ol></li><li>${i["embedded_url_tip.4"]}<ol style="padding-inline-start: 20px;margin-block-end: 0;"><li>${i["embedded_url_tip.4_1"]}</li></ol></li><li>${i["embedded_url_tip.5"]}</li><li>${i["embedded_url_tip.6"]}</li></ol>`})()}headerReturn(){this.changePage("query")}queryFuncList(){this.funcInfoList=[];let t={keyword:this.keyword.value,funcType:this.toolService.Base64Encoder(this.toolService.BcryptEncoder("1"))+",1"};this.funcService.queryTFuncList_v3(t).subscribe(o=>{this.toolService.checkDpSuccess(o.ResHeader)&&(this.funcInfoList=o.RespBody.funcInfoList)})}changePage(t,o){var i=this;return(0,v.Z)(function*(){var a,d,p,T,C;const g=yield i.toolService.getDict(["button.update","button.create","cfm_del","fun_code","fun_name","button.roles","message.delete","message.success","include_locale_sub_func","include_locale"]);switch(i.resetFormValidator(i.form),i.resetFormValidator(i.detailForm),null===(a=i.typeSubscription)||void 0===a||a.unsubscribe(),i.currentFuncInfo={},t){case"query":i.currentTitle=i.title,i.pageNum=1;break;case"create":i.funcService.queryCusMasterFunc().subscribe(b=>{var y,I,w;i.toolService.checkDpSuccess(b.ResHeader)&&(i.mFuncData=b.RespBody.funcInfoList,i.currentTitle=`${i.title} > ${g["button.create"]}`,i.embeddedUrl.setValidators([s.dH(2e3)]),null===(y=i.embeddedUrl)||void 0===y||y.setValue(""),null===(I=i.funcList)||void 0===I||I.setValidators(s.np()),null===(w=i.funcList)||void 0===w||w.setValue("",s.np()),i.type.setValue(0,s.np()),i.isKibana.setValue(!0),i.isKibana.valueChanges.subscribe(D=>{D?(i.masterFuncCode.clearValidators(),i.masterFuncCode.updateValueAndValidity()):i.masterFuncCode.setValidators([s.np()]),i.masterFuncCode.setValue("")}),i.typeSubscription=i.type.valueChanges.subscribe(D=>{var S,k;1==D?(null===(S=i.embeddedUrl)||void 0===S||S.setValue(""),null===(k=i.funcList)||void 0===k||k.setValue(""),i.masterFuncCode.setValue(""),i.embeddedUrl.setValidators([s.np(),s.dH(2e3)]),i.masterFuncCode.setValidators([s.np()])):(i.embeddedUrl.clearValidators(),i.embeddedUrl.setValidators(s.dH(2e3)),i.embeddedUrl.updateValueAndValidity(),i.masterFuncCode.clearValidators(),i.masterFuncCode.updateValueAndValidity())}),i.pageNum=4)});break;case"detail":i.currentTitle=`${i.title} > ${g["button.roles"]}`,i.pageNum=2,i.currentFuncInfo=o,i.queryRoleList(!0);break;case"update":i.currentTitle=`${i.title} > ${g["button.update"]}`,i.currentFuncInfo=o,i.newFuncName.setValidators([s.np(),s.dH(i.newFunNameLimitChar.value)]),i.newFuncName.setValue(i.currentFuncInfo.funcName),i.newDesc.setValidators(s.dH(i.newFunDescLimitChar.value)),i.newDesc.setValue(i.currentFuncInfo.funcDesc),i.checkTextAreaHeight(),(null===(d=i.currentFuncInfo)||void 0===d?void 0:d.reportUrl)&&(null===(p=i.newReportUrl)||void 0===p||p.setValue(null===(T=i.currentFuncInfo)||void 0===T?void 0:T.reportUrl),null===(C=i.newReportUrl)||void 0===C||C.setValidators([s.dH(2e3)])),i.pageNum=3;break;case"delete":i.confirmationService.confirm({header:g.cfm_del,message:`${g.fun_code}: ${null==o?void 0:o.funcCode}, ${g.fun_name}: ${null==o?void 0:o.funcName}, ${4==(null==o?void 0:o.funcCode.length)?g.include_locale_sub_func:g.include_locale}`,accept:()=>{i.funcService.deleteReport({funcCode:o.funcCode,locale:o.locale}).subscribe(function(){var b=(0,v.Z)(function*(y){i.toolService.checkDpSuccess(y.ResHeader)&&(i.messageService.add({severity:"success",summary:`${g["message.delete"]}`,detail:`${g["message.delete"]} ${g["message.success"]}!`}),i.queryFuncList())});return function(y){return b.apply(this,arguments)}}())}})}})()}queryRoleList(t=!1){var o;this.roleInfoList=[];let i={keyword:this.d_keyword.value,funcCode:null===(o=this.currentFuncInfo)||void 0===o?void 0:o.funcCode};t?this.funcService.queryTFuncRoleList_ignore1298(i).subscribe(a=>{this.toolService.checkDpSuccess(a.ResHeader)&&(this.roleInfoList=a.RespBody.roleInfoList)}):this.funcService.queryTFuncRoleList(i).subscribe(a=>{this.toolService.checkDpSuccess(a.ResHeader)&&(this.roleInfoList=a.RespBody.roleInfoList)})}checkTextAreaHeight(){const t=document.getElementById("newDescTextArea");this.currentFuncInfo.funcDesc&&t&&0===t.clientHeight&&(t.style.height="254px")}create(){var t=this;let o={type:this.type.value,funcList:this.funcList.value.map(i=>({locale:i.locale,funcName:i.funcName,funcDesc:i.funcDesc}))};1==this.type.value&&(o.embeddedUrl=this.embeddedUrl.value,o.isKibana=this.isKibana.value,this.isKibana.value||(o.masterFuncCode=this.masterFuncCode.value)),this.funcService.addReport(o).subscribe(function(){var i=(0,v.Z)(function*(a){if(t.toolService.checkDpSuccess(a.ResHeader)){const d=["message.create","message.success","message.user"],p=yield t.toolService.getDict(d);t.messageService.add({severity:"success",summary:`${p["message.create"]}`,detail:`${p["message.create"]} ${p["message.success"]}!`}),t.queryFuncList(),t.changePage("query")}});return function(a){return i.apply(this,arguments)}}())}moreFuncList(){let t={funcCode:this.funcInfoList[this.funcInfoList.length-1].funcCode,locale:this.funcInfoList[this.funcInfoList.length-1].locale,keyword:this.keyword.value,funcType:this.toolService.Base64Encoder(this.toolService.BcryptEncoder("1"))+",1"};this.funcService.queryTFuncList_v3(t).subscribe(o=>{this.toolService.checkDpSuccess(o.ResHeader)&&(this.funcInfoList=this.funcInfoList.concat(o.RespBody.funcInfoList))})}updateFunc(){var o,i,a,d,p,t=this;let T={funcCode:null===(o=this.currentFuncInfo)||void 0===o?void 0:o.funcCode,locale:null===(i=this.currentFuncInfo)||void 0===i?void 0:i.locale,desc:null===(a=this.currentFuncInfo)||void 0===a?void 0:a.funcDesc,newDesc:this.newDesc.value,funcName:null===(d=this.currentFuncInfo)||void 0===d?void 0:d.funcName,newFuncName:this.newFuncName.value,reportUrl:null===(p=this.currentFuncInfo)||void 0===p?void 0:p.reportUrl,newReportUrl:this.newReportUrl.value};this.currentFuncInfo.reportType&&(T.isKibana="SYS_RPT"==this.currentFuncInfo.reportType),this.funcService.updateTFunc(T).subscribe(function(){var C=(0,v.Z)(function*(F){if(t.toolService.checkDpSuccess(F.ResHeader)){const g=["message.update","message.func","message.success"],b=yield t.toolService.getDict(g);t.messageService.add({severity:"success",summary:`${b["message.update"]} ${b["message.func"]}`,detail:`${b["message.update"]} ${b["message.success"]}!`}),t.queryFuncList(),t.changePage("query")}});return function(F){return C.apply(this,arguments)}}())}exportTsmpFunc(){this.ngxService.start(),this.serverService.exportTsmpFunc({funcType:this.toolService.Base64Encoder(this.toolService.BcryptEncoder("1"))+",1"}).subscribe(t=>{if("application/json"===t.type){const o=new FileReader;o.onload=()=>{const i=JSON.parse(o.result);this.alertService.ok(i.ResHeader.rtnMsg,"",m.NK.warning,i.ResHeader.txDate+"<br>"+i.ResHeader.txID)},o.readAsText(t)}else{const o=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),i=h(new Date).format("YYYYMMDD_HHmm");f.saveAs(o,`EmbededFunc_${i}.xlsx`)}this.ngxService.stop()})}importTsmpFunc(){var t=this;const o={ReqHeader:this.api.getReqHeader(m.Nx.importTsmpFunc),ReqBody:{funcType:this.toolService.Base64Encoder(this.toolService.BcryptEncoder("1"))+",1"}};this.ngxService.start(),this.serverService.importTsmpFunc(o,this.file).subscribe(function(){var i=(0,v.Z)(function*(a){if(t.toolService.checkDpSuccess(a.ResHeader)){const d=["uploading","message.success","upload_result"],p=yield t.toolService.getDict(d);t.messageService.add({severity:"success",summary:p.upload_result,detail:`${p["message.success"]}!`}),t.file=null,t.queryFuncList()}t.ngxService.stop()});return function(a){return i.apply(this,arguments)}}())}fileChange(t){var o=this;return(0,v.Z)(function*(){let i=t.target.files;yield o.toolService.getDict(["uploading","cfm_img_format","cfm_size","message.success","upload_result","waiting"]),0!=i.length?(o.file=i.item(0),t.target.value=""):(o.file=null,t.target.value="")})()}openFileBrowser(){$("#file").click()}get keyword(){return this.form.get("keyword")}get newFuncName(){return this.form.get("newFuncName")}get newDesc(){return this.form.get("newDesc")}get newReportUrl(){return this.form.get("newReportUrl")}get embeddedUrl(){return this.editForm.get("embeddedUrl")}get funcList(){return this.editForm.get("funcList")}get d_keyword(){return this.detailForm.get("keyword")}get type(){return this.editForm.get("type")}get masterFuncCode(){return this.editForm.get("masterFuncCode")}get isKibana(){return this.editForm.get("isKibana")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.gz),e.Y36(R.W),e.Y36(u.qu),e.Y36(q.g),e.Y36(U.sK),e.Y36(_.ez),e.Y36(M.B),e.Y36(_.YP),e.Y36(B.N),e.Y36(E.LA),e.Y36(H.K),e.Y36(P.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ac0105"]],features:[e._Bn([_.YP]),e.qOj],decls:133,vars:120,consts:[[3,"title","isDefault","headerReturn"],[3,"hidden"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"p-input-icon-right",2,"width","40vw"],[1,"pi","pi-search","tpi-i-search",3,"click"],["type","search","id","keyword","formControlName","keyword",1,"form-control","tpi-i-input",3,"placeholder"],["type","button",1,"btn","tpi-btn","tpi-second","float-end",3,"click"],[1,"col-12","px-0",2,"display","flex","justify-content","space-between"],["type","button",1,"btn","tpi-btn","tpi-primary","me-2",3,"click"],[2,"display","flex","align-items","center"],[1,"ui-inputgroup","me-2"],["type","file","id","file","accept",".xlsx",2,"display","none",3,"change"],["type","text","readOnly","",1,"form-control",3,"value","placeholder"],["pButton","","type","button","icon","pi pi-file","tooltipPosition","top",1,"ms-1","tpi-primary",3,"pTooltip","click"],["type","button",1,"btn","tpi-btn","tpi-primary","me-2",3,"disabled","click"],[1,"far","fa-question-circle",3,"pTooltip","escape"],["selectionMode","single","styleClass","p-datatable-striped","responsiveLayout","scroll",3,"columns","value"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],[1,"form-group","row"],[1,"col-6","col-xl-6","col-lg-6"],[1,"form-control","border-line"],["class","col-6 col-xl-6 col-lg-6",4,"ngIf"],["class","form-group row",4,"ngIf"],[1,"col-12"],[2,"display","block"],["readonly","","rows","2","pInputTextarea","",2,"width","100%",3,"value"],[1,"col-4","col-xl-4","col-lg-4"],["id","keyword_label",1,"control-label"],[1,"col-12","col-lg-12"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start",3,"click"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"col-6"],["id","type_label","for","type",1,"control-label","required"],[1,"p-form-check-line","form-group"],[1,"p-form-check"],["formControlName","type","inputId","type0",3,"value"],["for","type0",1,"ms-2","mb-0"],["formControlName","type","inputId","type1",3,"value"],["for","type1",1,"ms-2","mb-0"],[1,"form-group","col"],["formControlName","funcList"],["class","form-group",4,"ngIf"],["type","button",1,"btn","tpi-btn","tpi-second","float-start","me-3",3,"disabled","click"],["position","top-left"],["icon","pi pi-exclamation-triangle","styleClass","cHeader cContent cIcon"],["cd",""],[3,"width",4,"ngFor","ngForOf"],[2,"width","150px"],["scope","col",3,"width",4,"ngFor","ngForOf"],["scope","col",2,"width","150px"],["scope","col"],[2,"text-align","center","width","150px"],["pButton","","pRipple","","type","button","icon","pi pi-eye","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"disabled","pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-edit","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"disabled","pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-trash-alt","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],[4,"ngIf"],[2,"color","#b7b7b7"],[2,"vertical-align","middle"],["type","button",1,"btn","tpi-header-return",3,"click"],[1,"fas","fa-angle-double-right",2,"margin-left","5px"],[1,"pre-code-style",3,"innerText"],["class","col-4 col-xl-4 col-lg-4",4,"ngIf"],["for","newFuncName",1,"control-label","required"],["type","text","id","newFuncName","formControlName","newFuncName",1,"form-control",3,"placeholder"],["class","text-danger",4,"ngIf"],["for","newDesc"],["type","text","id","newDesc","formControlName","newDesc",1,"form-control"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start","me-3",3,"disabled","click"],[1,"text-danger"],[1,"form-text"],[1,"col-12","row"],["inputId","kibanaReport",3,"binary","ngModel","ngModelOptions","readonly"],["for","kibanaReport",1,"ms-2","mb-0"],[1,"px-2"],["for","newReportUrl"],["tooltipStyleClass","tooltip-custom-w",1,"far","fa-question-circle","tip",3,"pTooltip","escape"],[2,"color","red"],["type","text","id","newReportUrl","formControlName","newReportUrl",1,"form-control"],["inputId","kibanaReport","formControlName","isKibana",3,"binary"],["id","masterFuncCode_label","for","masterFuncCode",1,"control-label","required"],[1,"far","fa-question-circle","tip",3,"pTooltip","escape"],["formControlName","masterFuncCode","optionLabel","funcName","optionValue","funcCode",3,"options","placeholder"],["id","embeddedUrl_label","for","embeddedUrl",1,"control-label","required"],["type","text","id","embeddedUrl","formControlName","embeddedUrl",1,"form-control"],["class","col-4",4,"ngIf"],[1,"col-4"],["src","assets/images/exp_kibana.png","alt","kibana","width","100%","height","300px",1,"imgborder"],["src","assets/images/exp_frame.png","alt","frame","width","100%","height","300px",1,"imgborder"],["src","assets/images/exp_openwin.png","alt","open","width","100%","height","300px",1,"imgborder"],[1,"row",2,"justify-content","center"],["type","button","pButton","","icon","pi pi-check",3,"ngStyle","label","click"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"label","click"]],template:function(t,o){1&t&&(e.TgZ(0,"app-container",0),e.NdJ("headerReturn",function(){return o.headerReturn()}),e.TgZ(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return o.queryFuncList()}),e.TgZ(3,"div",3)(4,"span",4)(5,"i",5),e.NdJ("click",function(){return o.queryFuncList()}),e.qZA(),e._UZ(6,"input",6),e.ALo(7,"translate"),e.ALo(8,"translate"),e.ALo(9,"translate"),e.ALo(10,"translate"),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"button",7),e.NdJ("click",function(){return o.changePage("create")}),e._uU(13),e.ALo(14,"translate"),e.qZA()()(),e.TgZ(15,"div",8)(16,"button",9),e.NdJ("click",function(){return o.exportTsmpFunc()}),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",10)(20,"div",11)(21,"input",12),e.NdJ("change",function(a){return o.fileChange(a)}),e.qZA(),e._UZ(22,"input",13),e.ALo(23,"translate"),e.TgZ(24,"button",14),e.NdJ("click",function(){return o.openFileBrowser()}),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"button",15),e.NdJ("click",function(){return o.importTsmpFunc()}),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"i",16),e.ALo(30,"translate"),e.ALo(31,"translate"),e.qZA()(),e._UZ(32,"hr"),e.TgZ(33,"p-table",17),e.YNc(34,he,4,1,"ng-template",18),e.YNc(35,Ze,5,4,"ng-template",19),e.YNc(36,xe,9,12,"ng-template",20),e.YNc(37,ye,1,1,"ng-template",21),e.YNc(38,Ce,4,4,"ng-template",22),e.qZA()(),e.TgZ(39,"div",1)(40,"div",23)(41,"div",24)(42,"label"),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"label",25),e._uU(46),e.qZA()(),e.TgZ(47,"div",24)(48,"label"),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"label",25),e._uU(52),e.qZA()()(),e.TgZ(53,"div",23)(54,"div",24)(55,"label"),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"label",25),e._uU(59),e.qZA()(),e.YNc(60,Le,8,8,"div",26),e.qZA(),e.YNc(61,Fe,5,1,"div",27),e.TgZ(62,"div",23)(63,"div",28)(64,"label"),e._uU(65),e.ALo(66,"translate"),e.qZA(),e.TgZ(67,"div",29),e._UZ(68,"textarea",30),e.qZA()()(),e._UZ(69,"hr"),e.TgZ(70,"form",2),e.NdJ("ngSubmit",function(){return o.queryRoleList()}),e.TgZ(71,"div",23)(72,"div",31)(73,"label",32),e._uU(74),e.ALo(75,"translate"),e.qZA(),e.TgZ(76,"span",4)(77,"i",5),e.NdJ("click",function(){return o.queryRoleList()}),e.qZA(),e._UZ(78,"input",6),e.ALo(79,"translate"),e.ALo(80,"translate"),e.qZA()()()(),e.TgZ(81,"p-table",17),e.YNc(82,Ne,2,1,"ng-template",18),e.YNc(83,Ie,2,1,"ng-template",19),e.YNc(84,De,2,1,"ng-template",20),e.YNc(85,ke,1,1,"ng-template",21),e.YNc(86,Re,4,4,"ng-template",22),e.qZA(),e._UZ(87,"br"),e.TgZ(88,"div",23)(89,"div",33)(90,"button",34),e.NdJ("click",function(){return o.changePage("query")}),e._uU(91),e.ALo(92,"translate"),e.qZA()()()(),e.TgZ(93,"div",1),e.YNc(94,He,49,40,"form",35),e.qZA(),e.TgZ(95,"div",1)(96,"form",36)(97,"div",3)(98,"div",37)(99,"label",38),e._uU(100),e.ALo(101,"translate"),e.qZA(),e.TgZ(102,"div",39),e.ynx(103),e.TgZ(104,"div",40),e._UZ(105,"p-radioButton",41),e.TgZ(106,"label",42),e._uU(107),e.ALo(108,"translate"),e.qZA()(),e.BQk(),e.ynx(109),e.TgZ(110,"div",40),e._UZ(111,"p-radioButton",43),e.TgZ(112,"label",44),e._uU(113),e.ALo(114,"translate"),e.qZA()(),e.BQk(),e.qZA()()(),e.TgZ(115,"div",45),e._UZ(116,"app-locale-func-form",46),e.qZA(),e.YNc(117,Pe,10,7,"div",47),e.YNc(118,Ke,10,15,"div",47),e.YNc(119,ze,7,3,"div",47),e.YNc(120,tt,5,3,"div",47),e.TgZ(121,"div",3)(122,"div",28)(123,"button",48),e.NdJ("click",function(){return o.create()}),e._uU(124),e.ALo(125,"translate"),e.qZA(),e.TgZ(126,"button",34),e.NdJ("click",function(){return o.changePage("query")}),e._uU(127),e.ALo(128,"translate"),e.qZA()()()()()(),e._UZ(129,"p-toast",49),e.TgZ(130,"p-confirmDialog",50,51),e.YNc(132,ot,5,8,"ng-template",21),e.qZA()),2&t&&(e.Q6J("title",o.currentTitle)("isDefault",1==o.pageNum),e.xp6(1),e.Q6J("hidden",1!=o.pageNum),e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(4),e.XOb("placeholder","",e.lcZ(7,64,"fun_code"),"\u3001",e.lcZ(8,66,"fun_name"),"\u3001",e.lcZ(9,68,"fun_desc"),"\u3001",e.lcZ(10,70,"role_name"),"\u3001",e.lcZ(11,72,"role_alias"),""),e.xp6(7),e.hij(" ",e.lcZ(14,74,"button.create")," "),e.xp6(4),e.Oqu(e.lcZ(18,76,"button.export")),e.xp6(5),e.s9C("placeholder",e.lcZ(23,78,"upload_file")),e.Q6J("value",null==o.file?null:o.file.name),e.xp6(2),e.Q6J("pTooltip",e.lcZ(25,80,"upload_file")),e.xp6(2),e.Q6J("disabled",!(null!=o.file&&o.file.name)),e.xp6(1),e.Oqu(e.lcZ(28,82,"button.import")),e.xp6(2),e.hYB("pTooltip",'<ol style="padding-inline-start: 20px;margin-block-end: 0;"><li>',e.xi3(30,84,"import_key_tip",e.DdM(115,it)),"</li><li>",e.lcZ(31,87,"use_in_multi_language"),"</li></ol>"),e.Q6J("escape",!1),e.xp6(4),e.Akn(e.DdM(116,Q)),e.Q6J("columns",o.funcInfoListCols)("value",o.funcInfoList),e.xp6(6),e.Q6J("hidden",2!=o.pageNum),e.xp6(4),e.Oqu(e.lcZ(44,89,"fun_code")),e.xp6(3),e.Oqu(null==o.currentFuncInfo?null:o.currentFuncInfo.funcCode),e.xp6(3),e.Oqu(e.lcZ(50,91,"fun_locale")),e.xp6(3),e.AsE("",null==o.currentFuncInfo?null:o.currentFuncInfo.localeName," (",null==o.currentFuncInfo?null:o.currentFuncInfo.locale,")"),e.xp6(4),e.Oqu(e.lcZ(57,93,"fun_name")),e.xp6(3),e.Oqu(null==o.currentFuncInfo?null:o.currentFuncInfo.funcName),e.xp6(1),e.Q6J("ngIf",null==o.currentFuncInfo?null:o.currentFuncInfo.reportType),e.xp6(1),e.Q6J("ngIf",null==o.currentFuncInfo?null:o.currentFuncInfo.reportUrl),e.xp6(4),e.Oqu(e.lcZ(66,95,"fun_desc")),e.xp6(3),e.Q6J("value",null==o.currentFuncInfo?null:o.currentFuncInfo.funcDesc),e.xp6(2),e.Q6J("formGroup",o.detailForm),e.xp6(4),e.Oqu(e.lcZ(75,97,"keyword_search")),e.xp6(4),e.hYB("placeholder","",e.lcZ(79,99,"role_name"),"\u3001",e.lcZ(80,101,"role_desc"),""),e.xp6(3),e.Akn(e.DdM(117,Q)),e.Q6J("columns",o.roleInfoListCols)("value",o.roleInfoList),e.xp6(10),e.hij(" ",e.lcZ(92,103,"button.return_to_list")," "),e.xp6(2),e.Q6J("hidden",3!=o.pageNum),e.xp6(1),e.Q6J("ngIf",o.currentFuncInfo),e.xp6(1),e.Q6J("hidden",4!=o.pageNum),e.xp6(1),e.Q6J("formGroup",o.editForm),e.xp6(4),e.Oqu(e.lcZ(101,105,"type")),e.xp6(5),e.Q6J("value",0),e.xp6(2),e.Oqu(e.lcZ(108,107,"main_func")),e.xp6(4),e.Q6J("value",1),e.xp6(2),e.Oqu(e.lcZ(114,109,"sub_func")),e.xp6(4),e.Q6J("ngIf",1==o.type.value),e.xp6(1),e.Q6J("ngIf",1==o.type.value&&!o.isKibana.value),e.xp6(1),e.Q6J("ngIf",1==o.type.value),e.xp6(1),e.Q6J("ngIf",1==o.type.value),e.xp6(3),e.Q6J("disabled",o.editForm.invalid),e.xp6(1),e.hij(" ",e.lcZ(125,111,"button.create")," "),e.xp6(3),e.hij(" ",e.lcZ(128,113,"button.return_to_list")," "),e.xp6(2),e.Akn(e.DdM(118,lt)),e.xp6(1),e.Akn(e.DdM(119,ct)))},directives:[j.e,u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,V.Hq,K.u,G.iA,_.jx,c.sg,c.O5,z.g,X.XZ,u.On,W.EU,pe,J.Lt,me.FN,fe.Q,c.PC],pipes:[U.X$,c.Ov,ge],styles:[".form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background:#F6F6F6}.imgborder[_ngcontent-%COMP%]{border-radius:15px;background-color:#eee;object-fit:contain}"]}),n})(),canActivate:[A.u6]}];let at=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(rt)],Z.Bz]}),n})();var ut=r(78555),st=r(31890);let dt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[A.u6],imports:[[c.ez,at,ut.W,st.m,u.UX,u.u5]]}),n})()},63710:(N,x,r)=>{r.d(x,{e:()=>s});var c=r(87587),Z=r(69808),A=r(51062);function v(f,h){if(1&f&&(c.TgZ(0,"div")(1,"h3",9),c._uU(2),c.ALo(3,"translate"),c.qZA()()),2&f){const m=c.oxw();c.xp6(2),c.Oqu(c.lcZ(3,1,m.title))}}function L(f,h){if(1&f){const m=c.EpF();c.TgZ(0,"div",10)(1,"button",11),c.NdJ("click",function(){return c.CHM(m),c.oxw().return()}),c._UZ(2,"i",12),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.TgZ(5,"span",13),c._uU(6),c.qZA(),c.TgZ(7,"span",14),c._uU(8),c.qZA()()}if(2&f){const m=c.oxw();c.xp6(3),c.hij(" ",c.lcZ(4,3,"button.return_to_list")," "),c.xp6(3),c.hij("",m.getHead()," /"),c.xp6(2),c.Oqu(m.getTail())}}const _=[[["","center-view","center"]],"*"],u=["[center-view=center]","*"];let s=(()=>{class f{constructor(){this.title="",this.isDefault=!0,this.headerReturn=new c.vpe}ngOnInit(){}return(){this.headerReturn.emit(null)}getHead(){const m=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return m.pop(),m.join(" / ")}getTail(){const m=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return m[m.length-1]}}return f.\u0275fac=function(m){return new(m||f)},f.\u0275cmp=c.Xpm({type:f,selectors:[["app-container"]],inputs:{title:"title",isDefault:"isDefault"},outputs:{headerReturn:"headerReturn"},ngContentSelectors:u,decls:11,vars:2,consts:[[1,"container-fluid","h-100"],[1,"row","position-relative",2,"height","calc(100% - 40px - 0.5rem)"],[1,"col"],[2,"margin-bottom","0.5rem"],[4,"ngIf"],["style","text-align: right",4,"ngIf"],[1,"col","d-flex","justify-content-center"],[1,"my-0","mb-2"],[1,"p-2"],["id","content",1,"page-title"],[2,"text-align","right"],["type","button","icon","",1,"btn","float-start","tpi-header-return",3,"click"],[1,"fas","fa-arrow-left",2,"margin-right","5px"],[1,"mb-0",2,"font-size","0.8rem","color","#666464"],[1,"mb-0",2,"font-size","0.8rem","color","#ff6e38","font-weight","bold"]],template:function(m,e){1&m&&(c.F$t(_),c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c.YNc(4,v,4,3,"div",4),c.YNc(5,L,9,5,"div",5),c.TgZ(6,"div",6),c.Hsn(7),c.qZA()(),c._UZ(8,"hr",7),c.Hsn(9,1),c._UZ(10,"div",8),c.qZA()()()),2&m&&(c.xp6(4),c.Q6J("ngIf",e.isDefault),c.xp6(1),c.Q6J("ngIf",!e.isDefault))},directives:[Z.O5],pipes:[A.X$],styles:[".card.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#5a5541}"]}),f})()},86347:(N,x,r)=>{r.d(x,{DL:()=>c.D,u6:()=>A.u});var c=r(81233),A=(r(45240),r(92718));r(45682)},46877:(N,x,r)=>{r.d(x,{X:()=>L});var c=r(92340),Z=r(57553),A=r(87587),v=r(96614);let L=(()=>{class _{constructor(s){this.api=s,this.api.baseUrl=c.N.dpPath}get basePath(){return c.N.isv4?"dgrv4/11":"tsmpdpaa/11"}querySubItemsByItemNo(s){let f={ReqHeader:this.api.getReqHeader(Z.Nx.querySubItemsByItemNo),ReqBody:s};return this.api.npPost(`${this.basePath}/DPB0047`,f)}queryNewsStatusList(s){let f={ReqHeader:this.api.getReqHeader(Z.Nx.querySubItemsByItemNo),ReqBody:s};return this.api.npPost(`${this.basePath}/DPB0048`,f)}}return _.\u0275fac=function(s){return new(s||_)(A.LFG(v.K))},_.\u0275prov=A.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()}}]);