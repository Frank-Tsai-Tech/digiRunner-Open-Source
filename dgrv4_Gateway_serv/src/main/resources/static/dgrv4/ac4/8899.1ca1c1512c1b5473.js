"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[8899],{5437:(A,R,p)=>{p.d(R,{D:()=>a});var t=p(87587),c=p(69808),e=p(93075),C=p(51062);const f=function(i){return{container:i}},y=function(i,r,d){return{"mx-auto":i,"col-md-10":r,"col-md-12":d}};function v(i,r){if(1&i&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"form")(4,"div",4)(5,"div",5)(6,"label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"label",6),t._uU(10),t.qZA()(),t.TgZ(11,"div",7)(12,"label"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"label",6),t._uU(16),t.qZA()(),t.TgZ(17,"div",5)(18,"label"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"label",6),t._uU(22),t.qZA()()(),t.TgZ(23,"div",4)(24,"div",8)(25,"label"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"label",6),t._uU(29),t.qZA()(),t.TgZ(30,"div",8)(31,"label"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"label",6),t._uU(35),t.qZA()()(),t.TgZ(36,"div",4)(37,"div",9)(38,"label"),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"label",6),t._uU(42),t.qZA()(),t.TgZ(43,"div",9)(44,"label"),t._uU(45),t.ALo(46,"translate"),t.qZA(),t.TgZ(47,"label",6),t._uU(48),t.qZA()(),t.TgZ(49,"div",9)(50,"label"),t._uU(51),t.ALo(52,"translate"),t.qZA(),t.TgZ(53,"label",6),t._uU(54),t.qZA()()(),t.TgZ(55,"div",4)(56,"div",9)(57,"label"),t._uU(58,"IUID"),t.qZA(),t.TgZ(59,"label",6),t._uU(60),t.qZA()(),t.TgZ(61,"div",9)(62,"label"),t._uU(63,"SUID"),t.qZA(),t.TgZ(64,"label",6),t._uU(65),t.qZA()(),t.TgZ(66,"div",9)(67,"label"),t._uU(68,"Key Size"),t.qZA(),t.TgZ(69,"label",6),t._uU(70),t.qZA()()(),t.TgZ(71,"div",4)(72,"div",10)(73,"label"),t._uU(74),t.ALo(75,"translate"),t.qZA(),t.TgZ(76,"textarea",11),t._uU(77),t.qZA()()()()()()()),2&i){const d=t.oxw();t.Q6J("ngClass",t.VKq(41,f,d.center)),t.xp6(2),t.Q6J("ngClass",t.kEZ(43,y,d.center,d.center,!d.center)),t.xp6(5),t.Oqu(t.lcZ(8,23,"ca_file_name")),t.xp6(3),t.Oqu(d.data.clientFileName),t.xp6(3),t.Oqu(t.lcZ(14,25,"ca_version")),t.xp6(3),t.Oqu(d.data.certVersion),t.xp6(3),t.Oqu(t.lcZ(20,27,"issuer_name")),t.xp6(3),t.Oqu(d.data.issuerName),t.xp6(4),t.Oqu(t.lcZ(27,29,"ca_create_time")),t.xp6(3),t.Oqu(d.data.createAt),t.xp6(3),t.Oqu(t.lcZ(33,31,"ca_expired_time")),t.xp6(3),t.Oqu(d.data.expiredAt),t.xp6(4),t.Oqu(t.lcZ(40,33,"ca_serial_number")),t.xp6(3),t.Oqu(d.data.certSerialNum),t.xp6(3),t.Oqu(t.lcZ(46,35,"signature_algorithm")),t.xp6(3),t.Oqu(d.data.sAlgorithmID),t.xp6(3),t.Oqu(t.lcZ(52,37,"encryption_algorithm")),t.xp6(3),t.Oqu(d.data.alogorithmID),t.xp6(6),t.Oqu(d.data.iuId),t.xp6(5),t.Oqu(d.data.sUid),t.xp6(5),t.Oqu(d.data.keySize),t.xp6(4),t.Oqu(t.lcZ(75,39,"pub_key")),t.xp6(3),t.Oqu(d.data.pubKey)}}let a=(()=>{class i{constructor(){this.center=!0}ngOnInit(){}}return i.\u0275fac=function(d){return new(d||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-ca-detail"]],inputs:{data:"data",center:"center"},decls:1,vars:1,consts:[["class","py-1",3,"ngClass",4,"ngIf"],[1,"py-1",3,"ngClass"],[1,"row"],[3,"ngClass"],[1,"form-group","row"],[1,"col-sm-5"],[1,"form-control","border-line"],[1,"col-sm-2"],[1,"col-sm-6"],[1,"col-sm-4"],[1,"col-sm-12"],["rows","10","readonly","","autoResize","autoResize",1,"form-control",2,"resize","none"]],template:function(d,B){1&d&&t.YNc(0,v,78,47,"div",0),2&d&&t.Q6J("ngIf",B.data)},directives:[c.O5,c.mk,e._Y,e.JL,e.F],pipes:[C.X$],styles:[""]}),i})()},41792:(A,R,p)=>{p.d(R,{X:()=>at});var t=p(15861),c=p(57553),e=p(87587),C=p(59783),f=p(71764),v=p(17445),a=p(63900),i=p(18505),r=p(45682),d=p(41454),B=p(86518),x=p(62805),T=p(99291),P=p(93075),q=p(40845),U=p(69808),L=p(23099),O=p(4119),N=p(86561),Z=p(19114),M=p(51062);const H=["dialog"],J=["upload_file"];function k(_,m){1&_&&e._UZ(0,"col"),2&_&&e.Udp("width",m.$implicit.width)}function w(_,m){if(1&_&&(e.TgZ(0,"colgroup"),e.YNc(1,k,1,2,"col",19),e.qZA(),e.TgZ(2,"colgroup",20),e._uU(3),e.ALo(4,"translate"),e.qZA()),2&_){const s=m.$implicit;e.xp6(1),e.Q6J("ngForOf",s),e.xp6(2),e.Oqu(e.lcZ(4,2,"action"))}}function Q(_,m){if(1&_&&(e.TgZ(0,"th",23),e._uU(1),e.qZA()),2&_){const s=m.$implicit;e.xp6(1),e.hij(" ",s.header," ")}}function W(_,m){if(1&_&&(e.TgZ(0,"tr"),e.YNc(1,Q,2,1,"th",21),e.TgZ(2,"th",22),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&_){const s=m.$implicit;e.xp6(1),e.Q6J("ngForOf",s),e.xp6(2),e.hij("",e.lcZ(4,2,"action")," ")}}function F(_,m){if(1&_&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&_){const s=e.oxw().$implicit,o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o[s.field]," ")}}function K(_,m){if(1&_&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&_){const s=e.oxw().$implicit,o=e.oxw().$implicit,n=e.oxw(2);e.Udp("color",n.highlight(o[s.field])),e.xp6(1),e.hij(" ",o[s.field]," ")}}function G(_,m){if(1&_&&(e.TgZ(0,"td"),e.YNc(1,F,2,1,"span",29),e.YNc(2,K,2,3,"span",30),e.qZA()),2&_){const s=m.$implicit;e.Udp("width",s.width),e.xp6(1),e.Q6J("ngIf","expiredAt"!=s.field),e.xp6(1),e.Q6J("ngIf","expiredAt"==s.field)}}function Y(_,m){if(1&_){const s=e.EpF();e.TgZ(0,"tr"),e.YNc(1,G,3,4,"td",19),e.TgZ(2,"td",24)(3,"div",25)(4,"button",26),e.NdJ("click",function(){const l=e.CHM(s).$implicit,u=e.oxw(2);return u.showDialog(l,u.formOperate.detail)}),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"button",27),e.NdJ("click",function(){const l=e.CHM(s).$implicit,u=e.oxw(2);return u.showDialog(l,u.formOperate.delete)}),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",28),e.NdJ("click",function(){const l=e.CHM(s).$implicit;return e.oxw(2).download(l)}),e.ALo(9,"translate"),e.qZA()()()()}if(2&_){const s=m.columns;e.xp6(1),e.Q6J("ngForOf",s),e.xp6(3),e.Q6J("pTooltip",e.lcZ(5,4,"button.detail")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(7,6,"button.delete")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(9,8,"button.download"))}}function j(_,m){if(1&_&&(e.TgZ(0,"tr")(1,"td")(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&_){const s=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.uIk("colspan",s.length+1),e.xp6(2),e.AsE("",e.lcZ(4,3,"row_count"),": ",o.rowcount,"")}}function z(_,m){if(1&_&&e.YNc(0,j,5,5,"tr",29),2&_){const s=e.oxw(2);e.Q6J("ngIf",s.rowcount)}}function V(_,m){if(1&_&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&_){const s=m.$implicit;e.xp6(1),e.uIk("colspan",s.length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," ")}}const X=function(){return{"word-break":"break-word"}};function tt(_,m){if(1&_&&(e.TgZ(0,"p-table",14),e.YNc(1,w,5,4,"ng-template",15),e.YNc(2,W,5,4,"ng-template",16),e.YNc(3,Y,10,10,"ng-template",17),e.YNc(4,z,1,1,"ng-template",13),e.YNc(5,V,4,4,"ng-template",18),e.qZA()),2&_){const s=e.oxw();e.Akn(e.DdM(4,X)),e.Q6J("columns",s.cols)("value",s.certList)}}function et(_,m){if(1&_){const s=e.EpF();e.TgZ(0,"div",31)(1,"button",32),e.NdJ("click",function(n){return e.CHM(s),e.oxw().bindData(n)}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"app-ca-card",33),e.TgZ(5,"app-ca-stat",34),e.NdJ("restart",function(n){return e.CHM(s),e.oxw().restart(n)}),e.qZA()()}if(2&_){const s=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,7,"interface_cert")),e.xp6(2),e.Q6J("cards",s.cards),e.xp6(1),e.Q6J("type",s.selectedAction)("apptJobId",s.apptJobId)("stackTrace",s.stackTrace)("statusName",s.statusName)("cgRespBody",s.cgRespBody)}}const ot=function(){return{backgroundColor:"var(--red-300)","border-color":"var(--red-300)"}};function st(_,m){if(1&_){const s=e.EpF();e.TgZ(0,"div",35)(1,"button",36),e.NdJ("click",function(){return e.CHM(s),e.oxw(),e.MAs(18).accept()}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",37),e.NdJ("click",function(){return e.CHM(s),e.oxw(),e.MAs(18).reject()}),e.ALo(4,"translate"),e.qZA()()}2&_&&(e.xp6(1),e.s9C("label",e.lcZ(2,3,"button.confirm")),e.Q6J("ngStyle",e.DdM(7,ot)),e.xp6(2),e.s9C("label",e.lcZ(4,5,"button.cancel")))}const it=function(){return{width:"50vw"}};let at=(()=>{class _{constructor(s,o,n,l,u,h,g){this.tool=s,this.message=o,this.clientCA=n,this.alert=l,this.cusService=u,this.route=h,this.confirmationService=g,this.rowDataHandler=new e.vpe,this.cols=[],this.certList=new Array,this.rowcount=0,this.dialogTitle="",this.currentClientId="",this.formOperate=c.mi,this.fileName="",this._fileName="",this.fileContent="",this.today=new Date,this.colETB=[],this.apptJobId=0,this.statusName="",this.stackTrace="",this.cgRespBody=""}ngOnInit(){var s=this;return(0,t.Z)(function*(){var o,n;const u=yield s.tool.getDict(["ca_file_name","ca_create_time","ca_expired_time"]);s.cols=[{field:"clientFileName",header:u.ca_file_name},{field:"createAt",header:u.ca_create_time},{field:"expiredAt",header:u.ca_expired_time}],s.colETB=[{field:"tspId",header:"\u6191\u8b49ID"},{field:"dy",header:"\u52d5\u614b\u5c55\u958b..."}],s.currentClientId=null===(o=s.data)||void 0===o?void 0:o.data.clientId,s.rowcount=s.certList.length,s.clientCA.queryClientByCid(null===(n=s.data)||void 0===n?void 0:n.data.ReqBody).subscribe(h=>{h.RespBody&&h.RespBody.certList&&(s.certList=h.RespBody.certList)})})()}highlight(s){return this.today.getTime()-f(s).toDate().getTime()>2592e6?"#FF0000":this.today.getTime()-f(s).toDate().getTime()<=2592e6&&0<=this.today.getTime()-f(s).toDate().getTime()?"#FF8000":"unset"}fileChange(s){var o=this;return(0,t.Z)(function*(){const l=yield o.tool.getDict(["uploading","cfm_img_format","cfm_size","message.success","upload_result","waiting","upload_fail","message.ca_file_limit","plz_del_one","limit_pem","message.upload","certificate_authority","message.success"]);if(s&&s[0]){let u=s.item(0).name.split(".");if("pem"!=u[u.length-1])return void o.alert.ok(l.upload_fail,l.limit_pem,void 0);if(2==o.certList.length)return void o.alert.ok(l.upload_fail,`${l["message.ca_file_limit"]}\uff0c${l.plz_del_one}`,void 0);o.message.add({severity:"success",summary:l.uploading,detail:`${l.waiting}!`});let h=new FileReader;h.onloadend=()=>{var g,b;o._fileName=s.item(0).name;let S={clientId:o.currentClientId,fileName:o._fileName,fileContent:h.result.toString().split("base64,")[1],encodeCertType:o.convertEncodeCertType(null===(g=o.data)||void 0===g?void 0:g.data.type)};switch(null===(b=o.data)||void 0===b?void 0:b.data.type){case"JWE":if(o.certList.length>0){let E={};E[o.certList[0].clientCertId]=o.certList[0].lv,S.lockVersions=E}break;case"TLS":if(o.certList.length>0){let E={};E[o.certList[0].clientCert2Id]=o.certList[0].lv,S.lockVersions=E}}"Y"===o.isCusEnable?(o.selectedAction=c.PO.UPLOAD,o.DPB0085ReqObject=S,o.invokeCUS0005(S)):o.clientCA.uploadClientCA(S).subscribe(I=>{o.tool.checkDpSuccess(I.ResHeader)&&(o._fileName="",o.fileName="",o.message.add({severity:"success",summary:`${l["message.upload"]} ${l.certificate_authority}`,detail:`${l["message.upload"]} ${l["message.success"]}!`}),o.loadClientCA())})},h.readAsDataURL(s.item(0))}})()}openFileBrowser(){$("#fileName").click()}bindData(s){this.selectedAction=c.PO.SHOW,this.invokeCUS0004(this.currentClientId)}invokeCUS0004(s){this.stop(),this.cusService.queryQmInvokeCUS0004({tspid:s}).subscribe(n=>{if(n.RespBody.apptJobId){const l=this.apptJobId=n.RespBody.apptJobId;this.statusName="\u8655\u7406\u4e2d...",this.loopStatusCUS004(l)}else n.RespBody.showUI&&n.RespBody.showUI.cgRespBody&&(this.cards=n.RespBody.showUI.cgRespBody.data)})}loopStatusCUS004(s){var o=this;this.intervalSubscription=(0,v.F)(1e3).pipe((0,a.w)(()=>this.cusService.queryQmLoopStatusCUS0004({apptJobId:s}))).subscribe(function(){var n=(0,t.Z)(function*(l){[c.vp.\u5b8c\u6210,c.vp.\u5931\u6557,c.vp.\u53d6\u6d88].includes(l.RespBody.commLoopStatus.status)&&(o.stop(),l.RespBody.commLoopStatus.status===c.vp.\u5b8c\u6210&&(yield o.resultCUS0004(s).toPromise())),o.stackTrace=l.RespBody.commLoopStatus.stackTrace,o.statusName=l.RespBody.commLoopStatus.statusName});return function(l){return n.apply(this,arguments)}}())}resultCUS0004(s){return this.cusService.queryQmResultCUS0004({apptJobId:s}).pipe((0,i.b)(o=>{this.statusName=o.RespBody.result.commLoopStatus.statusName,this.cgRespBody=JSON.stringify(o.RespBody.result.showUI.cgRespBody),this.stackTrace=o.RespBody.result.commLoopStatus.stackTrace,o.RespBody.result.showUI&&o.RespBody.result.showUI.cgRespBody&&(this.cards=o.RespBody.result.showUI.cgRespBody.data)}))}invokeCUS0005(s){this.stop(),this.cusService.queryQmInvokeCUS0005({tspid:s.clientId,fileContent:s.fileContent}).subscribe(n=>{var l,u;if(n.RespBody.apptJobId){const h=this.apptJobId=n.RespBody.apptJobId;this.statusName="\u8655\u7406\u4e2d...",this.loopStatusCUS005(h,s)}else this.cgRespBody=JSON.stringify(null===(l=n.RespBody.showUI)||void 0===l?void 0:l.cgRespBody),(null===(u=n.RespBody.showUI)||void 0===u?void 0:u.cgRespBody.code)==c.xV.\u6210\u529f&&this.actualUpload(n.RespBody.showUI.cgRespBody.data,s)})}loopStatusCUS005(s,o){var n=this;this.intervalSubscription=(0,v.F)(1e3).pipe((0,a.w)(()=>this.cusService.queryQmLoopStatusCUS0005({apptJobId:s}))).subscribe(function(){var l=(0,t.Z)(function*(u){[c.vp.\u5b8c\u6210,c.vp.\u5931\u6557,c.vp.\u53d6\u6d88].includes(u.RespBody.commLoopStatus.status)&&(n.stop(),u.RespBody.commLoopStatus.status===c.vp.\u5b8c\u6210&&n.resultCUS0005(s).subscribe(h=>{h&&n.tool.checkDpSuccess(h.ResHeader)&&n.cusService.uploadClientCert({clientId:o.clientId,fileContent:o.fileContent,fileName:o.fileName,cusCertId:h.RespBody.result.showUI.cgRespBody.data}).subscribe(g=>{let b={clientId:o.clientId,encodeCertType:n.tool.Base64Encoder(n.tool.BcryptEncoder("JWE"))+",0"};n.clientCA.queryClientByCid(b).subscribe(S=>{S.RespBody&&S.RespBody.certList&&(n.certList=S.RespBody.certList)})})})),n.stackTrace=u.RespBody.commLoopStatus.stackTrace,n.statusName=u.RespBody.commLoopStatus.statusName});return function(u){return l.apply(this,arguments)}}())}resultCUS0005(s){return this.cusService.queryQmResultCUS0005({apptJobId:s}).pipe((0,i.b)(o=>{this.statusName=o.RespBody.result.commLoopStatus.statusName,this.cgRespBody=JSON.stringify(o.RespBody.result.showUI.cgRespBody)}))}actualUpload(s,o){this.cusService.uploadClientCert({clientId:o.clientId,fileContent:o.fileContent,fileName:o.fileName,cusCertId:s}).subscribe(n=>{if(n&&this.tool.checkDpSuccess(n.ResHeader)){this.certList=new Array;let l={clientId:this.currentClientId,encodeCertType:this.tool.Base64Encoder(this.tool.BcryptEncoder("JWE"))+",0"};this.clientCA.queryClientByCid(l).subscribe(u=>{u&&this.tool.checkDpSuccess(u.ResHeader)&&(this.certList=u.RespBody.certList)})}})}invokeCUS0006(s){this.stop(),this.cusService.queryQmInvokeCUS0006({clientCertId:s}).subscribe(n=>{var l,u;if(n.RespBody.apptJobId){const h=this.apptJobId=n.RespBody.apptJobId;this.statusName="\u8655\u7406\u4e2d...",this.loopStatusCUS006(h)}else this.cgRespBody=JSON.stringify(null===(l=n.RespBody.showUI)||void 0===l?void 0:l.cgRespBody),(null===(u=n.RespBody.showUI)||void 0===u?void 0:u.cgRespBody.code)==c.xV.\u6210\u529f&&this.actualDelete()})}loopStatusCUS006(s){var o=this;this.intervalSubscription=(0,v.F)(1e3).pipe((0,a.w)(()=>this.cusService.queryQmLoopStatusCUS0006({apptJobId:s}))).subscribe(function(){var n=(0,t.Z)(function*(l){var u;if([c.vp.\u5b8c\u6210,c.vp.\u5931\u6557,c.vp.\u53d6\u6d88].includes(l.RespBody.commLoopStatus.status)&&(o.stop(),l.RespBody.commLoopStatus.status===c.vp.\u5b8c\u6210)){const h=yield o.resultCUS0006(s).toPromise();h&&o.tool.checkDpSuccess(h.ResHeader)&&o.cusService.deleteClientCert({clientId:o.currentClientId,clientCertId:null===(u=o.currentCert)||void 0===u?void 0:u.clientCertId}).subscribe(g=>{let b={clientId:o.currentClientId,encodeCertType:o.tool.Base64Encoder(o.tool.BcryptEncoder("JWE"))+",0"};o.clientCA.queryClientByCid(b).subscribe(S=>{S.RespBody&&S.RespBody.certList&&(o.certList=S.RespBody.certList)})})}o.stackTrace=l.RespBody.commLoopStatus.stackTrace,o.statusName=l.RespBody.commLoopStatus.statusName});return function(l){return n.apply(this,arguments)}}())}resultCUS0006(s){return this.cusService.queryQmResultCUS0006({apptJobId:s}).pipe((0,i.b)(o=>{this.statusName=o.RespBody.result.commLoopStatus.statusName,this.stackTrace=o.RespBody.result.commLoopStatus.stackTrace,this.cgRespBody=JSON.stringify(o.RespBody.result.showUI.cgRespBody),o&&this.tool.checkDpSuccess(o.ResHeader)&&this.actualDelete()}))}actualDelete(){var s;this.cusService.deleteClientCert({clientId:this.currentClientId,clientCertId:null===(s=this.currentCert)||void 0===s?void 0:s.clientCertId}).subscribe(o=>{if(o&&this.tool.checkDpSuccess(o.ResHeader)){this.certList=new Array;let n={clientId:this.currentClientId,encodeCertType:this.tool.Base64Encoder(this.tool.BcryptEncoder("JWE"))+",0"};this.clientCA.queryClientByCid(n).subscribe(l=>{l&&this.tool.checkDpSuccess(l.ResHeader)&&(this.certList=l.RespBody.certList)})}})}invokeCUS0007(s,o){this.stop(),this.cusService.queryQmInvokeCUS0007({clientCertId:s}).subscribe(l=>{var u,h;if(l.RespBody.apptJobId){const g=this.apptJobId=l.RespBody.apptJobId;this.statusName="\u8655\u7406\u4e2d...",this.loopStatusCUS007(g,o)}else this.cgRespBody=JSON.stringify(null===(u=l.RespBody.showUI)||void 0===u?void 0:u.cgRespBody),(null===(h=l.RespBody.showUI)||void 0===h?void 0:h.cgRespBody.code)==c.xV.\u6210\u529f&&this.downloadFile(l.RespBody.showUI.cgRespBody.data,o)})}loopStatusCUS007(s,o){var n=this;this.intervalSubscription=(0,v.F)(1e3).pipe((0,a.w)(()=>this.cusService.queryQmLoopStatusCUS0007({apptJobId:s}))).subscribe(function(){var l=(0,t.Z)(function*(u){[c.vp.\u5b8c\u6210,c.vp.\u5931\u6557,c.vp.\u53d6\u6d88].includes(u.RespBody.cusCommLoopStatus.status)&&(n.stop(),u.RespBody.cusCommLoopStatus.status===c.vp.\u5b8c\u6210&&(yield n.resultCUS0007(s,o).toPromise())),n.stackTrace=u.RespBody.cusCommLoopStatus.stackTrace,n.statusName=u.RespBody.cusCommLoopStatus.statusName});return function(u){return l.apply(this,arguments)}}())}resultCUS0007(s,o){return this.cusService.queryQmResultCUS0007({apptJobId:s}).pipe((0,i.b)(n=>{this.statusName=n.RespBody.result.commLoopStatus.statusName,this.cgRespBody=JSON.stringify(n.RespBody.result.showUI.cgRespBody),n.RespBody.result.commLoopStatus.status===c.vp.\u5b8c\u6210&&this.downloadFile(n.RespBody.result.showUI.cgRespBody.data,o)}))}stop(){this.intervalSubscription&&this.intervalSubscription.unsubscribe()}showDialog(s,o){var n=this;return(0,t.Z)(function*(){const u=yield n.tool.getDict(["dialog.detail_query","cfm_del","ca_file_name","system_alert"]);switch(n.currentCert=s,o){case c.mi.detail:n.dialogTitle=u["dialog.detail_query"],n.rowDataHandler.emit(n.currentCert);break;case c.mi.delete:n.message.clear(),n.confirmationService.confirm({header:u.system_alert,message:u.cfm_del,accept:()=>{n.onDeleteConfirm()}})}})()}loadClientCA(){var s;this.certList=[],this.rowcount=this.certList.length;let o={clientId:this.currentClientId,encodeCertType:this.convertEncodeCertType(null===(s=this.data)||void 0===s?void 0:s.data.type)};this.clientCA.queryClientByCid(o).subscribe(n=>{this.tool.checkDpSuccess(n.ResHeader)&&(this.certList=n.RespBody.certList,this.rowcount=this.certList.length)})}onDeleteConfirm(){var o,n,l,u,h,s=this;if(this.message.clear(),"Y"===this.isCusEnable)this.selectedAction=c.PO.DELETE,this.invokeCUS0006(this.currentCert.clientCertId.toString());else{let g={clientId:null===(o=this.currentCert)||void 0===o?void 0:o.clientId,encodeCertType:this.convertEncodeCertType(null===(n=this.data)||void 0===n?void 0:n.data.type)};switch(null===(l=this.data)||void 0===l?void 0:l.data.type){case"JWE":g.clientCertId=null===(u=this.currentCert)||void 0===u?void 0:u.clientCertId;break;case"TLS":g.clientCert2Id=null===(h=this.currentCert)||void 0===h?void 0:h.clientCert2Id}this.clientCA.deleteClientCA(g).subscribe(function(){var b=(0,t.Z)(function*(S){if(s.tool.checkDpSuccess(S.ResHeader)){const I=["message.delete","certificate_authority","message.success"],D=yield s.tool.getDict(I);s.message.clear(),s.message.add({severity:"success",summary:`${D["message.delete"]} ${D.certificate_authority}`,detail:`${D["message.delete"]} ${D["message.success"]}!`}),s.loadClientCA()}});return function(S){return b.apply(this,arguments)}}())}}onReject(){this.message.clear()}convertEncodeCertType(s){switch(s){case"JWE":return this.tool.Base64Encoder(this.tool.BcryptEncoder(s))+",0";case"TLS":return this.tool.Base64Encoder(this.tool.BcryptEncoder(s))+",1";default:return""}}download(s){"Y"===this.isCusEnable?(this.selectedAction=c.PO.DOWNLOAD,this.DPB0084certItem=s,this.invokeCUS0007(s.clientCertId.toString(),s.clientFileName)):this.downloadFile(s.clientFileContent,s.clientFileName)}downloadFile(s,o){let n=new Blob([this.tool.Base64Decoder(s)]);const l=new FileReader;l.onloadend=function(){const u=new File([n],o),h=window.URL.createObjectURL(u),g=document.createElement("a");document.body.appendChild(g),g.setAttribute("style","display: none"),g.href=h,g.download=o,g.click(),window.URL.revokeObjectURL(h),g.remove()},l.readAsText(n)}restart(s){var o=this;return(0,t.Z)(function*(){switch(o.stackTrace="",o.cgRespBody="",o.selectedAction){case c.PO.UPLOAD:const n=["upload_fail","message.ca_file_limit","plz_del_one"],l=yield o.tool.getDict(n);if(o.certList.length>=2)return void o.alert.ok(l.upload_fail,`${l["message.ca_file_limit"]}\uff0c${l.plz_del_one}`,void 0);o.DPB0085ReqObject&&o.resultCUS0005(o.apptJobId).subscribe(u=>{u&&o.tool.checkDpSuccess(u.ResHeader)&&u.RespBody.result.commLoopStatus.status===c.vp.\u5b8c\u6210&&o.cusService.uploadClientCert({clientId:o.DPB0085ReqObject.clientId,fileContent:o.DPB0085ReqObject.fileContent,fileName:o.DPB0085ReqObject.fileName,cusCertId:u.RespBody.result.showUI.cgRespBody.data}).subscribe(h=>{let g={clientId:o.DPB0085ReqObject.clientId,encodeCertType:o.tool.Base64Encoder(o.tool.BcryptEncoder("JWE"))+",0"};o.clientCA.queryClientByCid(g).subscribe(b=>{b.RespBody&&b.RespBody.certList&&(o.certList=b.RespBody.certList)})})});break;case c.PO.DELETE:o.resultCUS0006(o.apptJobId).subscribe(u=>{u&&o.tool.checkDpSuccess(u.ResHeader)&&u.RespBody.result.commLoopStatus.status===c.vp.\u5b8c\u6210&&o.cusService.deleteClientCert({clientId:o.currentClientId,clientCertId:o.currentCert.clientCertId}).subscribe(h=>{let g={clientId:o.currentClientId,encodeCertType:o.tool.Base64Encoder(o.tool.BcryptEncoder("JWE"))+",0"};o.clientCA.queryClientByCid_ignore1298(g).subscribe(b=>{"1298"===b.ResHeader.rtnCode?o.certList=[]:b.RespBody&&b.RespBody.certList&&(o.certList=b.RespBody.certList)})})});break;case c.PO.DOWNLOAD:o.DPB0084certItem&&(yield o.resultCUS0007(o.apptJobId,o.DPB0084certItem.clientFileName).toPromise());break;case c.PO.SHOW:o.resultCUS0004(o.apptJobId).subscribe()}})()}}return _.\u0275fac=function(s){return new(s||_)(e.Y36(r.g),e.Y36(C.ez),e.Y36(d.p),e.Y36(B.c),e.Y36(x.V),e.Y36(T.gz),e.Y36(C.YP))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-client-ca"]],viewQuery:function(s,o){if(1&s&&(e.Gf(H,5),e.Gf(J,5)),2&s){let n;e.iGM(n=e.CRH())&&(o._dialog=n.first),e.iGM(n=e.CRH())&&(o.upload_file=n.first)}},inputs:{data:"data",close:"close",isCusEnable:"isCusEnable"},outputs:{rowDataHandler:"rowDataHandler"},features:[e._Bn([C.YP])],decls:20,vars:12,consts:[[1,"py-1"],[1,"row"],[1,"col-md-12"],[1,"ui-inputgroup"],["type","file","id","fileName","accept",".pem",2,"display","none",3,"ngModel","change","ngModelChange"],["type","text","disabled","",1,"form-control",2,"display","unset",3,"placeholder","value"],["pButton","","type","button","icon","pi pi-upload",1,"tpi-night","ml-1",3,"click"],["selectionMode","single","styleClass","p-datatable-striped",3,"columns","value","style",4,"ngIf"],["class","col-md-12 mt-2",4,"ngIf"],[3,"title","width"],["dialog",""],["icon","pi pi-exclamation-triangle","styleClass","cHeader cContent cIcon"],["cd",""],["pTemplate","footer"],["selectionMode","single","styleClass","p-datatable-striped",3,"columns","value"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"width",4,"ngFor","ngForOf"],[2,"width","280px"],["scope","col",4,"ngFor","ngForOf"],["scope","col",2,"width","280px"],["scope","col"],[2,"text-align","center","width","280px"],[2,"flex-wrap","wrap"],["pButton","","pRipple","","type","button","icon","pi pi-eye","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-trash-alt","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-download","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],[4,"ngIf"],[3,"color",4,"ngIf"],[1,"col-md-12","mt-2"],["type","button",1,"btn","btn-warning","mr-3","mb-1",3,"click"],[3,"cards"],[3,"type","apptJobId","stackTrace","statusName","cgRespBody","restart"],[1,"row",2,"justify-content","center"],["type","button","pButton","","icon","pi pi-check",3,"ngStyle","label","click"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"label","click"]],template:function(s,o){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",1)(4,"div",2)(5,"div",3)(6,"input",4),e.NdJ("change",function(l){return o.fileChange(l.target.files)})("ngModelChange",function(l){return o.fileName=l}),e.qZA(),e._UZ(7,"input",5),e.ALo(8,"translate"),e.TgZ(9,"button",6),e.NdJ("click",function(){return o.openFileBrowser()}),e.qZA()()()(),e._UZ(10,"br"),e.TgZ(11,"div",1)(12,"div",2),e.YNc(13,tt,6,5,"p-table",7),e.qZA(),e.YNc(14,et,6,9,"div",8),e.qZA()()()(),e._UZ(15,"app-dialog",9,10),e.TgZ(17,"p-confirmDialog",11,12),e.YNc(19,st,5,8,"ng-template",13),e.qZA()),2&s&&(e.xp6(6),e.Q6J("ngModel",o.fileName),e.xp6(1),e.s9C("placeholder",e.lcZ(8,9,"upload_file")),e.s9C("value",o._fileName),e.xp6(6),e.Q6J("ngIf",o.cols),e.xp6(1),e.Q6J("ngIf","Y"===o.isCusEnable),e.xp6(1),e.Q6J("title",o.dialogTitle)("width",800),e.xp6(2),e.Akn(e.DdM(11,it)))},directives:[P.Fj,P.JJ,P.On,q.Hq,U.O5,L.iA,C.jx,U.sg,O.u,N.a,Z.Q,U.PC],pipes:[M.X$],styles:[""]}),_})()},63710:(A,R,p)=>{p.d(R,{e:()=>a});var t=p(87587),c=p(69808),e=p(51062);function C(i,r){if(1&i&&(t.TgZ(0,"div")(1,"h3",9),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&i){const d=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,1,d.title))}}function f(i,r){if(1&i){const d=t.EpF();t.TgZ(0,"div",10)(1,"button",11),t.NdJ("click",function(){return t.CHM(d),t.oxw().return()}),t._UZ(2,"i",12),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",13),t._uU(6),t.qZA(),t.TgZ(7,"span",14),t._uU(8),t.qZA()()}if(2&i){const d=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,3,"button.return_to_list")," "),t.xp6(3),t.hij("",d.getHead()," /"),t.xp6(2),t.Oqu(d.getTail())}}const y=[[["","center-view","center"]],"*"],v=["[center-view=center]","*"];let a=(()=>{class i{constructor(){this.title="",this.isDefault=!0,this.headerReturn=new t.vpe}ngOnInit(){}return(){this.headerReturn.emit(null)}getHead(){const d=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return d.pop(),d.join(" / ")}getTail(){const d=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return d[d.length-1]}}return i.\u0275fac=function(d){return new(d||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-container"]],inputs:{title:"title",isDefault:"isDefault"},outputs:{headerReturn:"headerReturn"},ngContentSelectors:v,decls:11,vars:2,consts:[[1,"container-fluid","h-100"],[1,"row","position-relative",2,"height","calc(100% - 40px - 0.5rem)"],[1,"col"],[2,"margin-bottom","0.5rem"],[4,"ngIf"],["style","text-align: right",4,"ngIf"],[1,"col","d-flex","justify-content-center"],[1,"my-0","mb-2"],[1,"p-2"],["id","content",1,"page-title"],[2,"text-align","right"],["type","button","icon","",1,"btn","float-start","tpi-header-return",3,"click"],[1,"fas","fa-arrow-left",2,"margin-right","5px"],[1,"mb-0",2,"font-size","0.8rem","color","#666464"],[1,"mb-0",2,"font-size","0.8rem","color","#ff6e38","font-weight","bold"]],template:function(d,B){1&d&&(t.F$t(y),t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,C,4,3,"div",4),t.YNc(5,f,9,5,"div",5),t.TgZ(6,"div",6),t.Hsn(7),t.qZA()(),t._UZ(8,"hr",7),t.Hsn(9,1),t._UZ(10,"div",8),t.qZA()()()),2&d&&(t.xp6(4),t.Q6J("ngIf",B.isDefault),t.xp6(1),t.Q6J("ngIf",!B.isDefault))},directives:[c.O5],pipes:[e.X$],styles:[".card.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#5a5541}"]}),i})()},86561:(A,R,p)=>{p.d(R,{a:()=>v});var t=p(87587),c=p(3937),e=p(15315);const C=["content"];function f(a,i){}const y=function(){return{height:"70vh"}};let v=(()=>{class a{constructor(r){this.ngxService=r,this.visible=!1,this.title="",this.closable=!0,this.width=300}open(r,d){this.contentRef.clear(),this.componentRef=this.contentRef.createComponent(r),this.componentRef.instance.data=d,this.componentRef.instance.close=this.onHide.bind(this),this.visible=!0}onHide(r){let d=this.componentRef.instance.data;this.componentRef.destroy(),this.visible=!1,r?r.subscribe(B=>{d&&d.afterCloseCallback&&d.afterCloseCallback(B),this.ngxService.stop()}):d&&d.afterCloseCallback&&(d.afterCloseCallback(),this.ngxService.stop())}setWidth(){return this.width+"px"}}return a.\u0275fac=function(r){return new(r||a)(t.Y36(c.LA))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-dialog"]],viewQuery:function(r,d){if(1&r&&t.Gf(C,7,t.s_b),2&r){let B;t.iGM(B=t.CRH())&&(d.contentRef=B.first)}},inputs:{visible:"visible",title:"title",closable:"closable",contentStyle:"contentStyle",width:"width"},decls:3,vars:10,consts:[["modal","true",3,"contentStyle","dismissableMask","header","visible","maximizable","draggable","closable","visibleChange","onHide"],["content",""]],template:function(r,d){1&r&&(t.TgZ(0,"p-dialog",0),t.NdJ("visibleChange",function(x){return d.visible=x})("onHide",function(){return d.onHide()}),t.YNc(1,f,0,0,"ng-template",null,1,t.W1O),t.qZA()),2&r&&(t.Akn(t.DdM(9,y)),t.Q6J("contentStyle",d.contentStyle)("dismissableMask",!0)("header",d.title)("visible",d.visible)("maximizable",!1)("draggable",!1)("closable",d.closable))},directives:[e.V],styles:[""]}),a})()},92718:(A,R,p)=>{p.d(R,{u:()=>r});var t=p(54004),c=p(70262),e=p(62843),C=p(87587),f=p(45682),y=p(89709),v=p(99291),a=p(3937),i=p(60991);let r=(()=>{class d{constructor(x,T,P,q,U){this.toolService=x,this.tokenService=T,this.router=P,this.ngxService=q,this.logoutService=U}canActivate(){return this.ngxService.stopAll(),!this.toolService.isTokenExpired()||this.toolService.refreshToken().pipe((0,t.U)(x=>!!x.access_token),(0,c.K)(this.handleError.bind(this)))}handleError(x){return setTimeout(()=>this.logoutService.logout()),(0,e._)(()=>x)}}return d.\u0275fac=function(x){return new(x||d)(C.LFG(f.g),C.LFG(y.B),C.LFG(v.F0),C.LFG(a.LA),C.LFG(i.P))},d.\u0275prov=C.Yz7({token:d,factory:d.\u0275fac}),d})()},86347:(A,R,p)=>{p.d(R,{DL:()=>t.D,u6:()=>e.u});var t=p(81233),e=(p(45240),p(92718));p(45682)},41454:(A,R,p)=>{p.d(R,{p:()=>f});var t=p(92340),c=p(57553),e=p(87587),C=p(30424);let f=(()=>{class y{constructor(a){this.api=a,this.api.baseUrl=t.N.dpPath}get basePath(){return t.N.isv4?"dgrv4/11":"tsmpdpaa/11"}queryClientByCid(a){let i={ReqHeader:this.api.getReqHeader(c.Nx.queryClientByCid),ReqBody:a};return this.api.npPost(`${this.basePath}/DPB0084`,i)}queryClientByCid_ignore1298(a){let i={ReqHeader:this.api.getReqHeader(c.Nx.queryClientByCid),ReqBody:a};return this.api.excuteNpPost_ignore1298(`${this.basePath}/DPB0084`,i)}uploadClientCA(a){let i={ReqHeader:this.api.getReqHeader(c.Nx.uploadClientCA),ReqBody:a};return this.api.npPost(`${this.basePath}/DPB0085`,i)}deleteClientCA(a){let i={ReqHeader:this.api.getReqHeader(c.Nx.deleteClientCA),ReqBody:a};return this.api.npPost(`${this.basePath}/DPB0086`,i)}downLoadPEMFile(a){let i={ReqHeader:this.api.getReqHeader(c.Nx.downLoadPEMFile),ReqBody:a};return this.api.excuteDpGetPEMFile(`${this.basePath}/DPB0087`,i)}queryCaListByDate_ignore1298(a){let i={ReqHeader:this.api.getReqHeader(c.Nx.queryCaListByDate),ReqBody:a};return this.api.excuteNpPost_ignore1298(`${this.basePath}/DPB0088`,i)}queryCaListByDate(a){let i={ReqHeader:this.api.getReqHeader(c.Nx.queryCaListByDate),ReqBody:a};return this.api.npPost(`${this.basePath}/DPB0088`,i)}returnTextFIle(a){let i={ReqHeader:this.api.getReqHeader(c.Nx.returnTextFIle),ReqBody:a};return this.api.npPost(`${this.basePath}/DPB0089`,i)}queryCusUrl(){return this.api.getReqHeader(c.Nx.returnTextFIle),this.api.excuteDpGet(`${this.basePath}/DPB0119?1`,c.Nx.queryCusEnabl)}queryCusEnable(){return this.api.getReqHeader(c.Nx.returnTextFIle),this.api.excuteDpGet(`${this.basePath}/DPB0120?1`,c.Nx.queryCusEnable)}querySiteList(){let a={ReqHeader:this.api.getReqHeader(c.Nx.querySiteList),ReqBody:{}};return this.api.excuteNpPost(`${this.basePath}/DPB0229`,a)}querySiteList_ignore1298(){let a={ReqHeader:this.api.getReqHeader(c.Nx.querySiteList),ReqBody:{}};return this.api.excuteNpPost_ignore1298(`${this.basePath}/DPB0229`,a)}createClientCert(a){let i={ReqHeader:this.api.getReqHeader(c.Nx.createClientCert),ReqBody:a};return this.api.excuteNpPost(`${this.basePath}/DPB0225`,i)}createClientCert_before(){let a={ReqHeader:this.api.getReqHeader(c.Nx.createClientCert),ReqBody:{}};return this.api.excuteNpPost(`${this.basePath}/DPB0225?before`,a)}updateClientCert(a){let i={ReqHeader:this.api.getReqHeader(c.Nx.updateClientCert),ReqBody:a};return this.api.excuteNpPost(`${this.basePath}/DPB0226`,i)}updateClientCert_before(){let a={ReqHeader:this.api.getReqHeader(c.Nx.updateClientCert),ReqBody:{}};return this.api.excuteNpPost(`${this.basePath}/DPB0226?before`,a)}deleteClientCert(a){let i={ReqHeader:this.api.getReqHeader(c.Nx.deleteClientCert),ReqBody:a};return this.api.excuteNpPost(`${this.basePath}/DPB0227`,i)}queryClientCertDetail(a){let i={ReqHeader:this.api.getReqHeader(c.Nx.queryClientCertDetail),ReqBody:a};return this.api.excuteNpPost(`${this.basePath}/DPB0228`,i)}enableClientCert(a){let i={ReqHeader:this.api.getReqHeader(c.Nx.enableSite),ReqBody:a};return this.api.excuteNpPost(`${this.basePath}/DPB0230`,i)}checkMtlsConnection(a){let i={ReqHeader:this.api.getReqHeader(c.Nx.checkMtlsConnection),ReqBody:a};return this.api.excuteNpPost(`${this.basePath}/DPB0231`,i)}SSLDecoder(a){let i={ReqHeader:this.api.getReqHeader(c.Nx.SSLDecoder),ReqBody:a};return this.api.excuteNpPost("dgrv4/SSLDecoder",i)}}return y.\u0275fac=function(a){return new(a||y)(e.LFG(C.K))},y.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},62805:(A,R,p)=>{p.d(R,{V:()=>f});var t=p(57553),c=p(87587),e=p(30424),C=p(45682);let f=(()=>{class y{constructor(a,i){this.api=a,this.toolService=i,this.count=2}set basePath(a){this._basePath=a}querySettings(a){let i={ReqHeader:this.api.getReqHeader(t.Nx.CUS0001),ReqBody:a};return this.api.excuteNpPost(`${this._basePath}/CUS0001`,i)}uploadClientCert(a){let i={ReqHeader:this.api.getReqHeader(t.Nx.CUS0002),ReqBody:a};return this.api.excuteNpPost(`${this._basePath}/CUS0002`,i)}queryQmInvokeCUS0003(a){console.log("call cus0003 invoke");let i={ReqHeader:this.api.getReqHeader(t.Nx.queryQmInvokeCUS0003),ReqBody:a};return this.api.excuteNpPost(`${this._basePath}/CUS0003?invoke`,i)}queryQmLoopStatusCUS0003(a){return console.log("call cus0003 loopstatus"),this.api.excuteDpGet(`${this._basePath}/CUS0003?loopStatus&apptJobId=${a.apptJobId}`,t.Nx.queryQmLoopStatusCUS0003)}queryQmResultCUS0003(a){return console.log("call cus0003 result"),this.api.excuteDpGet(`${this._basePath}/CUS0003?result&apptJobId=${a.apptJobId}`,t.Nx.queryQmResultCUS0003)}queryQmInvokeCUS0004(a){console.log("call cus0004 invoke");let i={ReqHeader:this.api.getReqHeader(t.Nx.queryQmInvokeCUS0004),ReqBody:a};return this.api.excuteNpPost(`${this._basePath}/CUS0004?invoke`,i)}queryQmLoopStatusCUS0004(a){return console.log("call cus0004 loopstatus"),this.api.excuteDpGet(`${this._basePath}/CUS0004?loopStatus&apptJobId=${a.apptJobId}`,t.Nx.queryQmLoopStatusCUS0004)}queryQmResultCUS0004(a){return console.log("call cus0004 result"),this.api.excuteDpGet(`${this._basePath}/CUS0004?result&apptJobId=${a.apptJobId}`,t.Nx.queryQmResultCUS0004)}queryQmInvokeCUS0005(a){console.log("call cus0005 invoke");let i={ReqHeader:this.api.getReqHeader(t.Nx.queryQmInvokeCUS0005),ReqBody:a};return this.api.excuteNpPost(`${this._basePath}/CUS0005?invoke`,i)}queryQmLoopStatusCUS0005(a){return console.log("call cus0005 loopstatus"),this.api.excuteDpGet(`${this._basePath}/CUS0005?loopStatus&apptJobId=${a.apptJobId}`,t.Nx.queryQmLoopStatusCUS0005)}queryQmResultCUS0005(a){return console.log("call cus0005 result"),this.api.excuteDpGet(`${this._basePath}/CUS0005?result&apptJobId=${a.apptJobId}`,t.Nx.queryQmResultCUS0005)}queryQmInvokeCUS0006(a){console.log("call cus0006 invoke");let i={ReqHeader:this.api.getReqHeader(t.Nx.queryQmInvokeCUS0006),ReqBody:a};return this.api.excuteNpPost(`${this._basePath}/CUS0006?invoke`,i)}queryQmLoopStatusCUS0006(a){return console.log("call cus0006 loopstatus"),this.api.excuteDpGet(`${this._basePath}/CUS0006?loopStatus&apptJobId=${a.apptJobId}`,t.Nx.queryQmLoopStatusCUS0006)}queryQmResultCUS0006(a){return console.log("call cus0006 result"),this.api.excuteDpGet(`${this._basePath}/CUS0006?result&apptJobId=${a.apptJobId}`,t.Nx.queryQmResultCUS0006)}queryQmInvokeCUS0007(a){console.log("call cus0007 invoke");let i={ReqHeader:this.api.getReqHeader(t.Nx.queryQmInvokeCUS0007),ReqBody:a};return this.api.excuteNpPost(`${this._basePath}/CUS0007?invoke`,i)}queryQmLoopStatusCUS0007(a){return console.log("call cus0007 loopstatus"),this.api.excuteDpGet(`${this._basePath}/CUS0007?loopStatus&apptJobId=${a.apptJobId}`,t.Nx.queryQmLoopStatusCUS0007)}queryQmResultCUS0007(a){return console.log("call cus0007 result"),this.api.excuteDpGet(`${this._basePath}/CUS0007?result&apptJobId=${a.apptJobId}`,t.Nx.queryQmResultCUS0007)}deleteClientCert(a){let i={ReqHeader:this.api.getReqHeader(t.Nx.deleteClientCert),ReqBody:a};return this.api.excuteNpPost(`${this._basePath}/CUS0008`,i)}excuteCusJob(a,i,r){a()}}return y.\u0275fac=function(a){return new(a||y)(c.LFG(e.K),c.LFG(C.g))},y.\u0275prov=c.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},17445:(A,R,p)=>{p.d(R,{F:()=>e});var t=p(34986),c=p(5963);function e(C=0,f=t.z){return C<0&&(C=0),(0,c.H)(C,C,f)}}}]);