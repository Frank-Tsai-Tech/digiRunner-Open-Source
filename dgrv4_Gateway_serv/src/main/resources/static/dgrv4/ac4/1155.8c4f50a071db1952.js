"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[1155],{11155:(U,x,r)=>{r.r(x),r.d(x,{Ac0105Module:()=>pt});var c=r(69808),v=r(99291),b=r(86347),g=r(15861),T=r(14525),p=r(59783),u=r(93075),s=r(1694),f=r(94327),Z=r(71764),_=r(57553),e=r(87587),R=r(56435),N=r(4516),I=r(51062),M=r(55679),E=r(41313),B=r(38441),P=r(30424),H=r(86518),j=r(63710),K=r(74856),V=r(40845),G=r(4119),X=r(23099),z=r(73407),W=r(61208),ee=r(49603),J=r(14036);function te(o,l){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=l.$implicit;e.xp6(1),e.AsE("",t.label," (",t.value,")")}}function ne(o,l){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=l.$implicit;e.xp6(1),e.AsE("",t.label," (",t.value,")")}}function oe(o,l){if(1&o&&(e.TgZ(0,"div",15)(1,"small",16),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,t.locale.errors.required))}}const ie=function(){return{value:50}};function le(o,l){if(1&o&&(e.TgZ(0,"div",15)(1,"small",16),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",16),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,t.funcName.errors.required)),e.xp6(3),e.Oqu(e.xi3(6,4,t.funcName.errors.maxlength,e.DdM(7,ie)))}}const ce=function(){return{value:300}};function re(o,l){if(1&o&&(e.TgZ(0,"div",15)(1,"small",16),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(e.xi3(3,1,t.funcDesc.errors.maxlength,e.DdM(4,ce)))}}const ae=function(){return{width:"100%"}};let ue=(()=>{class o{constructor(t,n){this.fb=t,this.toolService=n,this.no=1,this.localeData=[],this.change=new e.vpe,this.remove=new e.vpe}ngOnInit(){var t=this;return(0,g.Z)(function*(){t.form=t.fb.group({locale:new u.NI("",[s.np()]),funcName:new u.NI("",[s.np(),s.dH(50)]),funcDesc:new u.NI("",[s.dH(300)])}),t.form.valueChanges.subscribe(n=>{let i=Object.assign({valid:t.form.valid,no:t.no},n);t.change.emit(i)})})()}deleteItem(){this._ref.destroy(),this.remove.emit(this.no)}get locale(){return this.form.get("locale")}get funcName(){return this.form.get("funcName")}get funcDesc(){return this.form.get("funcDesc")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.qu),e.Y36(N.g))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-locale-func-detail"]],inputs:{_ref:"_ref",data:"data",no:"no",localeData:"localeData"},outputs:{change:"change",remove:"remove"},decls:26,vars:26,consts:[[1,"form-group","col","ldapdetail","d-flex",2,"align-items","center",3,"formGroup"],[1,"col-2","mx-2"],["id","locale_label","for","locale",1,"control-label","required"],["formControlName","locale","optionValue","value",3,"options","placeholder"],["pTemplate","selectedItem"],["pTemplate","item"],["class","text-danger",4,"ngIf"],[1,"col-3","mx-2"],["for","funcName",1,"control-label","required"],["type","text","formControlName","funcName",1,"form-control",3,"placeholder"],[1,"col"],["for","funcDesc",1,"control-label"],["type","text","id","funcDesc","formControlName","funcDesc",1,"form-control",3,"placeholder"],["type","button",1,"btn","tpi-primary","ms-1",2,"border-radius","50%",3,"click"],[1,"fa","fa-minus"],[1,"text-danger"],[1,"form-text"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",3),e.ALo(6,"translate"),e.YNc(7,te,2,2,"ng-template",4),e.YNc(8,ne,2,2,"ng-template",5),e.qZA(),e.YNc(9,oe,4,3,"div",6),e.qZA(),e.TgZ(10,"div",7)(11,"label",8),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"input",9),e.ALo(15,"translate"),e.YNc(16,le,7,8,"div",6),e.qZA(),e.TgZ(17,"div",10)(18,"label",11),e._uU(19),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"input",12),e.ALo(22,"translate"),e.YNc(23,re,4,5,"div",6),e.qZA(),e.TgZ(24,"button",13),e.NdJ("click",function(){return n.deleteItem()}),e._UZ(25,"i",14),e.qZA()()),2&t&&(e.Q6J("formGroup",n.form),e.xp6(3),e.Oqu(e.lcZ(4,13,"fun_locale")),e.xp6(2),e.Akn(e.DdM(25,ae)),e.s9C("placeholder",e.lcZ(6,15,"plz_chs")),e.Q6J("options",n.localeData),e.xp6(4),e.Q6J("ngIf",(null==n.locale?null:n.locale.invalid)&&((null==n.locale?null:n.locale.dirty)||(null==n.locale?null:n.locale.touched))),e.xp6(3),e.Oqu(e.lcZ(13,17,"fun_name")),e.xp6(2),e.s9C("placeholder",e.lcZ(15,19,"fun_name")),e.xp6(2),e.Q6J("ngIf",n.funcName.invalid&&(n.funcName.dirty||n.funcName.touched)),e.xp6(3),e.Oqu(e.lcZ(20,21,"fun_desc")),e.xp6(2),e.s9C("placeholder",e.lcZ(22,23,"fun_desc")),e.xp6(2),e.Q6J("ngIf",n.funcDesc.invalid&&(n.funcDesc.dirty||n.funcDesc.touched)))},directives:[u.JL,u.sg,J.Lt,u.JJ,u.u,p.jx,c.O5,u.Fj],pipes:[I.X$],styles:[".ldapdetail[_ngcontent-%COMP%]{background-color:#eee;padding:10px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background:#eee}"]}),o})();var se=r(46877);const de=["funcData"];function pe(o,l){}let me=(()=>{class o{constructor(t,n){this.listService=t,this.toolService=n,this.action="",this.disabled=!1,this.no=0,this._funDataList=[],this.localeData=[]}ngOnInit(){}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.funcDataRef.clear(),this._funDataList=[],this.no=0;let n={encodeItemNo:this.toolService.Base64Encoder(this.toolService.BcryptEncoder("RTN_CODE_LOCALE"))+",22",isDefault:"N"};this.listService.querySubItemsByItemNo(n).subscribe(i=>{var a;this.toolService.checkDpSuccess(i.ResHeader)&&(this.localeData=i.RespBody.subItems?null===(a=i.RespBody.subItems)||void 0===a?void 0:a.map(d=>({label:d.subitemName,value:d.subitemNo})):[])}),""==t&&this.addFuncData()}addFuncData(t){let n=this.funcDataRef.createComponent(ue),i={};t||(i.funcDesc="",i.funcName="",i.locale="",i.no=this.no,i.valid=!1),this._funDataList.push(i),n.instance._ref=n,n.instance.no=this.no,n.instance.data=this._funDataList[this.no],n.instance.localeData=this.localeData,this.onChange(""),this.no++,n.instance.change.subscribe(a=>{let d=this._funDataList.findIndex(m=>m.no===a.no);this._funDataList.length>=0&&(this._funDataList[d].funcDesc=a.funcDesc,this._funDataList[d].funcName=a.funcName,this._funDataList[d].locale=a.locale,this._funDataList[d].valid=a.valid),this._funDataList.every(m=>!0===m.valid)?this.onChange(this._funDataList):this.onChange("")}),n.instance.remove.subscribe(a=>{let d=this._funDataList.findIndex(m=>m.no===a);this._funDataList.splice(d,1),0==this._funDataList.length?(this.no=0,this.onChange(""),this.addFuncData()):this.onChange(this._funDataList)})}setDisabledState(t){this.disabled=t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(se.X),e.Y36(N.g))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-locale-func-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(de,7,e.s_b),2&t){let i;e.iGM(i=e.CRH())&&(n.funcDataRef=i.first)}},inputs:{action:"action"},features:[e._Bn([{provide:u.JU,useExisting:(0,e.Gpc)(()=>o),multi:!0}])],decls:7,vars:1,consts:[[1,"form-group"],["content",""],[1,"col-12"],["funcData",""],["type","button",1,"btn","tpi-second",2,"border-radius","50%",3,"hidden","click"],[1,"fa","fa-plus"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2),e.YNc(3,pe,0,0,"ng-template",null,3,e.W1O),e.TgZ(5,"button",4),e.NdJ("click",function(){return n.addFuncData()}),e._UZ(6,"i",5),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("hidden",n.disabled))},styles:[""]}),o})();var fe=r(17773),_e=r(19114),ge=r(39646);let he=(()=>{class o{constructor(t){this.translateService=t}transform(t){let n="";switch(t){case"SYS_RPT":n="1_1";break;case"IFRAME":n="1_2";break;case"LINK":n="1_3"}return""==n?(0,ge.of)(""):this.translateService.get(`embedded_url_tip.${n}`)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(I.sK,16))},o.\u0275pipe=e.Yjl({name:"reportType",type:o,pure:!0}),o})();function ve(o,l){1&o&&e._UZ(0,"col"),2&o&&e.Udp("width",l.$implicit.width)}function be(o,l){if(1&o&&(e.TgZ(0,"colgroup"),e.YNc(1,ve,1,2,"col",50),e.qZA(),e.TgZ(2,"colgroup",51),e._uU(3," Action "),e.qZA()),2&o){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function Ze(o,l){if(1&o&&(e.TgZ(0,"th",54),e._uU(1),e.qZA()),2&o){const t=l.$implicit;e.Udp("width",t.width),e.xp6(1),e.hij(" ",t.header," ")}}function Ae(o,l){if(1&o&&(e.TgZ(0,"tr"),e.YNc(1,Ze,2,3,"th",52),e.TgZ(2,"th",53),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&o){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Oqu(e.lcZ(4,2,"action"))}}function xe(o,l){if(1&o&&(e.TgZ(0,"td"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"reportType"),e.qZA()),2&o){const t=l.$implicit,n=e.oxw().$implicit;e.Udp("width",t.width),e.xp6(1),e.hij(" ","reportType"==t.field?e.lcZ(2,3,e.lcZ(3,5,n.reportType)):"localeName"==t.field?n.localeName+" ("+n.locale+")":n[t.field]," ")}}function Te(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.YNc(1,xe,4,7,"td",50),e.TgZ(2,"td",55)(3,"button",56),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().changePage("detail",a)}),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",57),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().changePage("update",a)}),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",58),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().changePage("delete",a)}),e.ALo(8,"translate"),e.qZA()()()}if(2&o){const t=l.columns,n=e.oxw();e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Q6J("disabled",0==n.canDetail)("pTooltip",e.lcZ(4,6,"button.roles")),e.xp6(2),e.Q6J("disabled",0==n.canUpdate)("pTooltip",e.lcZ(6,8,"button.update")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(8,10,"button.delete"))}}function ye(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",60)(2,"span",61),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",62),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).moreFuncList()}),e._uU(6),e.ALo(7,"translate"),e._UZ(8,"i",63),e.qZA()()()}if(2&o){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(2),e.AsE("",e.lcZ(4,4,"row_count"),": ",n.funcInfoList.length,""),e.xp6(3),e.hij(" ",e.lcZ(7,6,"button.more")," ")}}function Ce(o,l){if(1&o&&e.YNc(0,ye,9,8,"tr",59),2&o){const t=e.oxw();e.Q6J("ngIf",t.funcInfoList.length>0)}}function Fe(o,l){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=l.$implicit;e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," ")}}function Le(o,l){if(1&o&&(e.TgZ(0,"div",23)(1,"label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"label",24),e._uU(5),e.ALo(6,"async"),e.ALo(7,"reportType"),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"embedded_url_tip.type")),e.xp6(3),e.Oqu(e.lcZ(6,4,e.lcZ(7,6,null==t.currentFuncInfo?null:t.currentFuncInfo.reportType)))}}function Ue(o,l){if(1&o&&(e.TgZ(0,"div",22)(1,"div",27)(2,"label"),e._uU(3,"Embedded URL"),e.qZA(),e._UZ(4,"pre",64),e.qZA()()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("innerText",null==t.currentFuncInfo?null:t.currentFuncInfo.reportUrl)}}function Ie(o,l){1&o&&e._UZ(0,"col"),2&o&&e.Udp("width",l.$implicit.width)}function Ne(o,l){if(1&o&&(e.TgZ(0,"colgroup"),e.YNc(1,Ie,1,2,"col",50),e.qZA()),2&o){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function qe(o,l){if(1&o&&(e.TgZ(0,"th",54),e._uU(1),e.qZA()),2&o){const t=l.$implicit;e.Udp("width",t.width),e.xp6(1),e.hij(" ",t.header," ")}}function we(o,l){if(1&o&&(e.TgZ(0,"tr"),e.YNc(1,qe,2,3,"th",52),e.qZA()),2&o){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function De(o,l){if(1&o&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&o){const t=l.$implicit,n=e.oxw().$implicit;e.Udp("width",t.width),e.xp6(1),e.hij(" ",n[t.field]," ")}}function Se(o,l){if(1&o&&(e.TgZ(0,"tr"),e.YNc(1,De,2,3,"td",50),e.qZA()),2&o){const t=l.columns;e.xp6(1),e.Q6J("ngForOf",t)}}function ke(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",60)(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",62),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).moreRoleList()}),e._uU(6),e.ALo(7,"translate"),e._UZ(8,"i",63),e.qZA()()()}if(2&o){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.uIk("colspan",t.length),e.xp6(2),e.AsE("",e.lcZ(4,4,"row_count"),": ",n.roleInfoList.length,""),e.xp6(3),e.hij(" ",e.lcZ(7,6,"button.more")," ")}}function Re(o,l){if(1&o&&e.YNc(0,ke,9,8,"tr",59),2&o){const t=e.oxw();e.Q6J("ngIf",t.roleInfoList.length>0)}}function Je(o,l){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=l.$implicit;e.xp6(1),e.uIk("colspan",t.length),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," ")}}function Oe(o,l){if(1&o&&(e.TgZ(0,"div",30)(1,"label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"label",24),e._uU(5),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"main_func")),e.xp6(3),e.Oqu(t.currentFuncInfo.masterFuncName)}}function Ye(o,l){if(1&o&&(e.TgZ(0,"div",30)(1,"label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"label",24),e._uU(5),e.ALo(6,"async"),e.ALo(7,"reportType"),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"embedded_url_tip.type")),e.xp6(3),e.Oqu(e.lcZ(6,4,e.lcZ(7,6,null==t.currentFuncInfo?null:t.currentFuncInfo.reportType)))}}function Qe(o,l){if(1&o&&(e.TgZ(0,"div",72)(1,"small",73),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",73),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"small",73),e._uU(8),e.ALo(9,"translate"),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(e.xi3(3,3,t.newFuncName.errors.stringalias,t.newFunNameLimitChar)),e.xp6(3),e.Oqu(e.xi3(6,6,t.newFuncName.errors.maxlength,t.newFunNameLimitChar)),e.xp6(3),e.Oqu(e.lcZ(9,9,t.newFuncName.errors.required))}}function Me(o,l){if(1&o&&(e.TgZ(0,"div",72)(1,"small",73),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(e.xi3(3,1,t.newDesc.errors.maxlength,t.newFunDescLimitChar))}}const Ee=function(){return{standalone:!0}};function Be(o,l){if(1&o&&(e.TgZ(0,"div",3)(1,"div",74)(2,"div",38),e._UZ(3,"p-checkbox",75),e.TgZ(4,"label",76),e._uU(5,"Kibana "),e.TgZ(6,"small",77),e._uU(7),e.ALo(8,"translate"),e.ALo(9,"translate"),e.qZA()()()()()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("binary",!0)("ngModel","SYS_RPT"==(null==t.currentFuncInfo?null:t.currentFuncInfo.reportType))("ngModelOptions",e.DdM(10,Ee))("readonly",!0),e.xp6(4),e.AsE(" ( ",e.lcZ(8,6,"funcCode_kibana_prefix"),", ",e.lcZ(9,8,"main_func_tip.2")," )")}}const O=function(){return{value:2e3}};function $e(o,l){if(1&o&&(e.TgZ(0,"div",72)(1,"small",73),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",73),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(2),e.Oqu(e.xi3(3,2,null==t.newReportUrl?null:t.newReportUrl.errors.maxlength,e.DdM(7,O))),e.xp6(3),e.Oqu(e.lcZ(6,5,t.newReportUrl.errors.required))}}function Pe(o,l){if(1&o&&(e.TgZ(0,"div",22)(1,"div",27)(2,"label",78),e._uU(3,"Embedded URL"),e._UZ(4,"i",79),e.TgZ(5,"span",80),e._uU(6,"*"),e.qZA()(),e._UZ(7,"input",81),e.YNc(8,$e,7,8,"div",68),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("pTooltip",t.embbededUrlTip)("escape",!1),e.xp6(4),e.Q6J("ngIf",t.newReportUrl.invalid&&(t.newReportUrl.dirty||t.newReportUrl.touched))}}function He(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"form",2)(1,"div",22)(2,"div",30)(3,"label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"label",24),e._uU(7),e.ALo(8,"translate"),e.ALo(9,"translate"),e.qZA()(),e.YNc(10,Oe,6,4,"div",65),e.YNc(11,Ye,8,8,"div",65),e.qZA(),e.TgZ(12,"div",22)(13,"div",30)(14,"label"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"label",24),e._uU(18),e.qZA()(),e.TgZ(19,"div",30)(20,"label"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"label",24),e._uU(24),e.qZA()()(),e.TgZ(25,"div",22)(26,"div",30)(27,"label",66),e._uU(28),e.ALo(29,"translate"),e.qZA(),e._UZ(30,"input",67),e.ALo(31,"translate"),e.YNc(32,Qe,10,11,"div",68),e.qZA(),e.TgZ(33,"div",30)(34,"label",69),e._uU(35),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"input",70),e.YNc(38,Me,4,4,"div",68),e.qZA()(),e.YNc(39,Be,10,11,"div",45),e.YNc(40,Pe,9,3,"div",26),e.TgZ(41,"div",22)(42,"div",32)(43,"button",71),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateFunc()}),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().changePage("query")}),e._uU(47),e.ALo(48,"translate"),e.qZA()()()()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(4),e.Oqu(e.lcZ(5,20,"create_type")),e.xp6(3),e.Oqu(t.currentFuncInfo.masterFuncName?e.lcZ(8,22,"sub_func"):e.lcZ(9,24,"main_func")),e.xp6(3),e.Q6J("ngIf",t.currentFuncInfo.masterFuncName),e.xp6(1),e.Q6J("ngIf",null==t.currentFuncInfo?null:t.currentFuncInfo.reportType),e.xp6(4),e.Oqu(e.lcZ(16,26,"fun_code")),e.xp6(3),e.Oqu(t.currentFuncInfo.funcCode),e.xp6(3),e.Oqu(e.lcZ(22,28,"fun_locale")),e.xp6(3),e.AsE("",t.currentFuncInfo.localeName,"(",t.currentFuncInfo.locale,")"),e.xp6(4),e.Oqu(e.lcZ(29,30,"fun_name")),e.xp6(2),e.s9C("placeholder",e.lcZ(31,32,"new_fun_name")),e.xp6(2),e.Q6J("ngIf",t.newFuncName.invalid&&(t.newFuncName.dirty||t.newFuncName.touched)),e.xp6(3),e.Oqu(e.lcZ(36,34,"fun_desc")),e.xp6(3),e.Q6J("ngIf",t.newDesc.invalid&&(t.newDesc.dirty||t.newDesc.touched)),e.xp6(1),e.Q6J("ngIf",t.currentFuncInfo.masterFuncName),e.xp6(1),e.Q6J("ngIf",t.currentFuncInfo.masterFuncName),e.xp6(3),e.Q6J("disabled",t.form.invalid),e.xp6(1),e.hij(" ",e.lcZ(45,36,"button.update")," "),e.xp6(3),e.hij(" ",e.lcZ(48,38,"button.return_to_list")," ")}}function je(o,l){1&o&&(e.TgZ(0,"div",3)(1,"div",27)(2,"div",38),e._UZ(3,"p-checkbox",82),e.TgZ(4,"label",76),e._uU(5,"Kibana "),e.TgZ(6,"small",77),e._uU(7),e.ALo(8,"translate"),e.ALo(9,"translate"),e.qZA()()()()()),2&o&&(e.xp6(3),e.Q6J("binary",!0),e.xp6(4),e.AsE(" ( ",e.lcZ(8,3,"funcCode_kibana_prefix"),", ",e.lcZ(9,5,"main_func_tip.2")," )"))}function Ke(o,l){if(1&o&&(e.TgZ(0,"div",72)(1,"small",73),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,1,t.masterFuncCode.errors.required))}}const Ve=function(){return{width:"100%"}};function Ge(o,l){if(1&o&&(e.TgZ(0,"div",3)(1,"div",35)(2,"label",83),e._uU(3),e.ALo(4,"translate"),e._UZ(5,"i",84),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"p-dropdown",85),e.ALo(8,"translate"),e.YNc(9,Ke,4,3,"div",68),e.qZA()()),2&o){const t=e.oxw();e.xp6(3),e.hij("",e.lcZ(4,8,"main_func")," "),e.xp6(2),e.Q6J("pTooltip",e.lcZ(6,10,"main_func_tip.1"))("escape",!1),e.xp6(2),e.Akn(e.DdM(14,Ve)),e.s9C("placeholder",e.lcZ(8,12,"plz_chs")),e.Q6J("options",t.mFuncData),e.xp6(2),e.Q6J("ngIf",(null==t.masterFuncCode?null:t.masterFuncCode.invalid)&&((null==t.masterFuncCode?null:t.masterFuncCode.dirty)||(null==t.masterFuncCode?null:t.masterFuncCode.touched)))}}function Xe(o,l){if(1&o&&(e.TgZ(0,"div",72)(1,"small",73),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",73),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(e.xi3(3,2,null==t.embeddedUrl?null:t.embeddedUrl.errors.maxlength,e.DdM(7,O))),e.xp6(3),e.Oqu(e.lcZ(6,5,null==t.embeddedUrl?null:t.embeddedUrl.errors.required))}}function ze(o,l){if(1&o&&(e.TgZ(0,"div",3)(1,"div",27)(2,"label",86),e._uU(3,"Embedded URL "),e._UZ(4,"i",79),e.qZA(),e._UZ(5,"input",87),e.YNc(6,Xe,7,8,"div",68),e.qZA()()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("pTooltip",t.embbededUrlTip)("escape",!1),e.xp6(2),e.Q6J("ngIf",(null==t.embeddedUrl?null:t.embeddedUrl.invalid)&&((null==t.embeddedUrl?null:t.embeddedUrl.dirty)||(null==t.embeddedUrl?null:t.embeddedUrl.touched)))}}function We(o,l){1&o&&(e.TgZ(0,"div",89),e._UZ(1,"img",90),e.qZA())}const Y=function(){return{key:"/dgrv4/cus/"}};function et(o,l){1&o&&(e.TgZ(0,"div",89),e._UZ(1,"img",91),e.TgZ(2,"small",72),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&o&&(e.xp6(3),e.Oqu(e.xi3(4,1,"url_contains_keyword",e.DdM(4,Y))))}function tt(o,l){1&o&&(e.TgZ(0,"div",89),e._UZ(1,"img",92),e.TgZ(2,"small",72),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&o&&(e.xp6(3),e.Oqu(e.xi3(4,1,"url_dont_contains_keyword",e.DdM(4,Y))))}function nt(o,l){if(1&o&&(e.TgZ(0,"div",3)(1,"div",74),e.YNc(2,We,2,0,"div",88),e.YNc(3,et,5,5,"div",88),e.YNc(4,tt,5,5,"div",88),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isKibana.value),e.xp6(1),e.Q6J("ngIf",!t.isKibana.value),e.xp6(1),e.Q6J("ngIf",!t.isKibana.value)}}const ot=function(){return{backgroundColor:"var(--red-300)","border-color":"var(--red-300)"}};function it(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",93)(1,"button",94),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(128).accept()}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",95),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(128).reject()}),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(1),e.s9C("label",e.lcZ(2,3,"button.confirm")),e.Q6J("ngStyle",e.DdM(7,ot)),e.xp6(2),e.s9C("label",e.lcZ(4,5,"button.cancel")))}const lt=function(){return{key:"FUNC_CODE+LOCALE"}},Q=function(){return{"word-break":"break-word"}},ct=function(){return{marginTop:"60px"}},rt=function(){return{width:"50vw"}},at=[{path:"",component:(()=>{class o extends T.H{constructor(t,n,i,a,d,m,y,F,L,h,A,C){super(t,n),this.fb=i,this.toolService=a,this.translate=d,this.messageService=m,this.funcService=y,this.confirmationService=F,this.serverService=L,this.ngxService=h,this.api=A,this.alertService=C,this.funcInfoList=[],this.currentTitle=this.title,this.pageNum=1,this.newFunNameLimitChar={value:50},this.newFunDescLimitChar={value:300},this.newReportUrlLimitChar={value:2e3},this.currentFuncInfo={funcCode:"",locale:"",funcName:"",funcNameEn:"",funcDesc:"",updateUser:"",updateTime:"",funcType:"",localeName:""},this.funcInfoListCols=[],this.roleInfoListCols=[],this.roleInfoList=[],this.file=null,this.mFuncData=[],this.embbededUrlTip=""}ngOnInit(){var t=this;return(0,g.Z)(function*(){t.form=t.fb.group({keyword:new u.NI(""),newFuncName:new u.NI("",s.rv(t.newFunNameLimitChar.value)),newFuncNameEn:new u.NI("",s.qc(t.newFunNameLimitChar.value)),newDesc:new u.NI("",s.dH(t.newFunDescLimitChar.value)),newReportUrl:new u.NI("",s.dH(t.newReportUrlLimitChar.value))}),t.detailForm=t.fb.group({keyword:new u.NI("")}),t.editForm=t.fb.group({embeddedUrl:new u.NI(""),funcList:new u.NI,type:new u.NI(0),masterFuncCode:new u.NI(""),isKibana:new u.NI(!1)});const i=yield t.toolService.getDict(["fun_code","fun_name","fun_name_en","fun_desc","fun_locale","update_user","update_time","role_name","role_alias","role_desc","embedded_url_tip.type","embedded_url_tip.1","embedded_url_tip.1_1","embedded_url_tip.1_2","embedded_url_tip.1_3","embedded_url_tip.2","embedded_url_tip.2_1","embedded_url_tip.3","embedded_url_tip.3_1","embedded_url_tip.4","embedded_url_tip.4_1","embedded_url_tip.5","embedded_url_tip.6"]);t.funcInfoListCols=[{field:"funcCode",header:i.fun_code},{field:"funcName",header:i.fun_name},{field:"funcDesc",header:i.fun_desc},{field:"reportType",header:i["embedded_url_tip.type"]},{field:"localeName",header:i.fun_locale},{field:"updateUser",header:i.update_user},{field:"updateTime",header:i.update_time}],t.roleInfoListCols=[{field:"roleName",header:i.role_name},{field:"roleAlias",header:i.role_desc}],t.funcService.queryTFuncList_v3_ignore1298({funcType:t.toolService.Base64Encoder(t.toolService.BcryptEncoder("1"))+",1"}).subscribe(a=>{t.toolService.checkDpSuccess(a.ResHeader)&&(t.funcInfoList=a.RespBody.funcInfoList)}),t.embbededUrlTip=`<ol style="padding-inline-start: 20px;margin-block-end: 0;"><li>${i["embedded_url_tip.1"]}<ol style="padding-inline-start: 20px;margin-block-end: 0;"><li>${i["embedded_url_tip.1_1"]}</li><li>${i["embedded_url_tip.1_2"]}</li><li>${i["embedded_url_tip.1_3"]}</li></ol></li><li>${i["embedded_url_tip.2"]}<ol style="padding-inline-start: 20px;margin-block-end: 0;"><li>${i["embedded_url_tip.2_1"]}</li></ol></li><li>${i["embedded_url_tip.3"]}<ol style="padding-inline-start: 20px;margin-block-end: 0;"><li>${i["embedded_url_tip.3_1"]}</li></ol></li><li>${i["embedded_url_tip.4"]}<ol style="padding-inline-start: 20px;margin-block-end: 0;"><li>${i["embedded_url_tip.4_1"]}</li></ol></li><li>${i["embedded_url_tip.5"]}</li><li>${i["embedded_url_tip.6"]}</li></ol>`})()}headerReturn(){this.changePage("query")}queryFuncList(){this.funcInfoList=[];let t={keyword:this.keyword.value,funcType:this.toolService.Base64Encoder(this.toolService.BcryptEncoder("1"))+",1"};this.funcService.queryTFuncList_v3(t).subscribe(n=>{this.toolService.checkDpSuccess(n.ResHeader)&&(this.funcInfoList=n.RespBody.funcInfoList)})}changePage(t,n){var i=this;return(0,g.Z)(function*(){var a,d,m,y,F;const h=yield i.toolService.getDict(["button.update","button.create","cfm_del","fun_code","fun_name","button.roles","message.delete","message.success","include_locale_sub_func","include_locale"]);switch(i.resetFormValidator(i.form),i.resetFormValidator(i.detailForm),null===(a=i.typeSubscription)||void 0===a||a.unsubscribe(),i.currentFuncInfo={},t){case"query":i.currentTitle=i.title,i.pageNum=1;break;case"create":i.funcService.queryCusMasterFunc().subscribe(A=>{var C,q,w;i.toolService.checkDpSuccess(A.ResHeader)&&(i.mFuncData=A.RespBody.funcInfoList,i.currentTitle=`${i.title} > ${h["button.create"]}`,i.embeddedUrl.setValidators([s.dH(2e3)]),null===(C=i.embeddedUrl)||void 0===C||C.setValue(""),null===(q=i.funcList)||void 0===q||q.setValidators(s.np()),null===(w=i.funcList)||void 0===w||w.setValue("",s.np()),i.type.setValue(0,s.np()),i.isKibana.setValue(!0),i.isKibana.valueChanges.subscribe(D=>{D?(i.masterFuncCode.clearValidators(),i.masterFuncCode.updateValueAndValidity()):i.masterFuncCode.setValidators([s.np()]),i.masterFuncCode.setValue("")}),i.typeSubscription=i.type.valueChanges.subscribe(D=>{var S,k;1==D?(null===(S=i.embeddedUrl)||void 0===S||S.setValue(""),null===(k=i.funcList)||void 0===k||k.setValue(""),i.masterFuncCode.setValue(""),i.embeddedUrl.setValidators([s.np(),s.dH(2e3)]),i.masterFuncCode.setValidators([s.np()])):(i.embeddedUrl.clearValidators(),i.embeddedUrl.setValidators(s.dH(2e3)),i.embeddedUrl.updateValueAndValidity(),i.masterFuncCode.clearValidators(),i.masterFuncCode.updateValueAndValidity())}),i.pageNum=4)});break;case"detail":i.currentTitle=`${i.title} > ${h["button.roles"]}`,i.pageNum=2,i.currentFuncInfo=n,i.queryRoleList(!0);break;case"update":i.currentTitle=`${i.title} > ${h["button.update"]}`,i.currentFuncInfo=n,i.newFuncName.setValidators([s.np(),s.dH(i.newFunNameLimitChar.value)]),i.newFuncName.setValue(i.currentFuncInfo.funcName),i.newDesc.setValidators(s.dH(i.newFunDescLimitChar.value)),i.newDesc.setValue(i.currentFuncInfo.funcDesc),i.checkTextAreaHeight(),(null===(d=i.currentFuncInfo)||void 0===d?void 0:d.reportUrl)&&(null===(m=i.newReportUrl)||void 0===m||m.setValue(null===(y=i.currentFuncInfo)||void 0===y?void 0:y.reportUrl),null===(F=i.newReportUrl)||void 0===F||F.setValidators([s.dH(2e3)])),i.pageNum=3;break;case"delete":i.confirmationService.confirm({header:h.cfm_del,message:`${h.fun_code}: ${null==n?void 0:n.funcCode}, ${h.fun_name}: ${null==n?void 0:n.funcName}, ${4==(null==n?void 0:n.funcCode.length)?h.include_locale_sub_func:h.include_locale}`,accept:()=>{i.funcService.deleteReport({funcCode:n.funcCode,locale:n.locale}).subscribe(function(){var A=(0,g.Z)(function*(C){i.toolService.checkDpSuccess(C.ResHeader)&&(i.messageService.add({severity:"success",summary:`${h["message.delete"]}`,detail:`${h["message.delete"]} ${h["message.success"]}!`}),i.queryFuncList())});return function(C){return A.apply(this,arguments)}}())}})}})()}queryRoleList(t=!1){var n;this.roleInfoList=[];let i={keyword:this.d_keyword.value,funcCode:null===(n=this.currentFuncInfo)||void 0===n?void 0:n.funcCode};t?this.funcService.queryTFuncRoleList_ignore1298(i).subscribe(a=>{this.toolService.checkDpSuccess(a.ResHeader)&&(this.roleInfoList=a.RespBody.roleInfoList)}):this.funcService.queryTFuncRoleList(i).subscribe(a=>{this.toolService.checkDpSuccess(a.ResHeader)&&(this.roleInfoList=a.RespBody.roleInfoList)})}checkTextAreaHeight(){const t=document.getElementById("newDescTextArea");this.currentFuncInfo.funcDesc&&t&&0===t.clientHeight&&(t.style.height="254px")}create(){var t=this;let n={type:this.type.value,funcList:this.funcList.value.map(i=>({locale:i.locale,funcName:i.funcName,funcDesc:i.funcDesc}))};1==this.type.value&&(n.embeddedUrl=this.embeddedUrl.value,n.isKibana=this.isKibana.value,this.isKibana.value||(n.masterFuncCode=this.masterFuncCode.value)),this.funcService.addReport(n).subscribe(function(){var i=(0,g.Z)(function*(a){if(t.toolService.checkDpSuccess(a.ResHeader)){const d=["message.create","message.success","message.user"],m=yield t.toolService.getDict(d);t.messageService.add({severity:"success",summary:`${m["message.create"]}`,detail:`${m["message.create"]} ${m["message.success"]}!`}),t.queryFuncList(),t.changePage("query")}});return function(a){return i.apply(this,arguments)}}())}moreFuncList(){let t={funcCode:this.funcInfoList[this.funcInfoList.length-1].funcCode,locale:this.funcInfoList[this.funcInfoList.length-1].locale,keyword:this.keyword.value,funcType:this.toolService.Base64Encoder(this.toolService.BcryptEncoder("1"))+",1"};this.funcService.queryTFuncList_v3(t).subscribe(n=>{this.toolService.checkDpSuccess(n.ResHeader)&&(this.funcInfoList=this.funcInfoList.concat(n.RespBody.funcInfoList))})}updateFunc(){var n,i,a,d,m,t=this;let y={funcCode:null===(n=this.currentFuncInfo)||void 0===n?void 0:n.funcCode,locale:null===(i=this.currentFuncInfo)||void 0===i?void 0:i.locale,desc:null===(a=this.currentFuncInfo)||void 0===a?void 0:a.funcDesc,newDesc:this.newDesc.value,funcName:null===(d=this.currentFuncInfo)||void 0===d?void 0:d.funcName,newFuncName:this.newFuncName.value,reportUrl:null===(m=this.currentFuncInfo)||void 0===m?void 0:m.reportUrl,newReportUrl:this.newReportUrl.value};this.currentFuncInfo.reportType&&(y.isKibana="SYS_RPT"==this.currentFuncInfo.reportType),this.funcService.updateTFunc(y).subscribe(function(){var F=(0,g.Z)(function*(L){if(t.toolService.checkDpSuccess(L.ResHeader)){const h=["message.update","message.func","message.success"],A=yield t.toolService.getDict(h);t.messageService.add({severity:"success",summary:`${A["message.update"]} ${A["message.func"]}`,detail:`${A["message.update"]} ${A["message.success"]}!`}),t.queryFuncList(),t.changePage("query")}});return function(L){return F.apply(this,arguments)}}())}exportTsmpFunc(){this.ngxService.start(),this.serverService.exportTsmpFunc({funcType:this.toolService.Base64Encoder(this.toolService.BcryptEncoder("1"))+",1"}).subscribe(t=>{if("application/json"===t.type){const n=new FileReader;n.onload=()=>{const i=JSON.parse(n.result);this.alertService.ok(i.ResHeader.rtnMsg,"",_.NK.warning,i.ResHeader.txDate+"<br>"+i.ResHeader.txID)},n.readAsText(t)}else{const n=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),i=Z(new Date).format("YYYYMMDD_HHmm");f.saveAs(n,`EmbededFunc_${i}.xlsx`)}this.ngxService.stop()})}importTsmpFunc(){var t=this;const n={ReqHeader:this.api.getReqHeader(_.Nx.importTsmpFunc),ReqBody:{funcType:this.toolService.Base64Encoder(this.toolService.BcryptEncoder("1"))+",1"}};this.ngxService.start(),this.serverService.importTsmpFunc(n,this.file).subscribe(function(){var i=(0,g.Z)(function*(a){if(t.toolService.checkDpSuccess(a.ResHeader)){const d=["uploading","message.success","upload_result"],m=yield t.toolService.getDict(d);t.messageService.add({severity:"success",summary:m.upload_result,detail:`${m["message.success"]}!`}),t.file=null,t.queryFuncList()}t.ngxService.stop()});return function(a){return i.apply(this,arguments)}}())}fileChange(t){var n=this;return(0,g.Z)(function*(){let i=t.target.files;yield n.toolService.getDict(["uploading","cfm_img_format","cfm_size","message.success","upload_result","waiting"]),0!=i.length?(n.file=i.item(0),t.target.value=""):(n.file=null,t.target.value="")})()}openFileBrowser(){$("#file").click()}get keyword(){return this.form.get("keyword")}get newFuncName(){return this.form.get("newFuncName")}get newDesc(){return this.form.get("newDesc")}get newReportUrl(){return this.form.get("newReportUrl")}get embeddedUrl(){return this.editForm.get("embeddedUrl")}get funcList(){return this.editForm.get("funcList")}get d_keyword(){return this.detailForm.get("keyword")}get type(){return this.editForm.get("type")}get masterFuncCode(){return this.editForm.get("masterFuncCode")}get isKibana(){return this.editForm.get("isKibana")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(v.gz),e.Y36(R.W),e.Y36(u.qu),e.Y36(N.g),e.Y36(I.sK),e.Y36(p.ez),e.Y36(M.B),e.Y36(p.YP),e.Y36(E.N),e.Y36(B.LA),e.Y36(P.K),e.Y36(H.c))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ac0105"]],features:[e._Bn([p.YP]),e.qOj],decls:130,vars:124,consts:[[3,"title","isDefault","headerReturn"],[3,"hidden"],[3,"formGroup"],[1,"form-group"],[1,"col-12","d-flex","align-items-center"],[1,"col-9","col-lg-4","col-sm-6",3,"placeholder","control","searchFn"],["type","button",1,"btn","tpi-btn","tpi-second","ms-auto",3,"click"],[1,"col-12","px-0",2,"display","flex","justify-content","space-between"],["type","button",1,"btn","tpi-btn","tpi-primary","me-2",3,"click"],[2,"display","flex","align-items","center"],[1,"ui-inputgroup","me-2"],["type","file","id","file","accept",".xlsx",2,"display","none",3,"change"],["type","text","readOnly","",1,"form-control",3,"value","placeholder"],["pButton","","type","button","icon","pi pi-file","tooltipPosition","top",1,"ms-1","tpi-primary",3,"pTooltip","click"],["type","button",1,"btn","tpi-btn","tpi-primary","me-2",3,"disabled","click"],[1,"far","fa-question-circle",3,"pTooltip","escape"],["selectionMode","single","styleClass","p-datatable-striped","responsiveLayout","scroll",3,"columns","value"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],[1,"form-group","row"],[1,"col-6","col-xl-6","col-lg-6"],[1,"form-control","border-line"],["class","col-6 col-xl-6 col-lg-6",4,"ngIf"],["class","form-group row",4,"ngIf"],[1,"col-12"],[2,"display","block"],["readonly","","rows","2","pInputTextarea","",2,"width","100%",3,"value"],[1,"col-4","col-xl-4","col-lg-4"],["id","keyword_label",1,"control-label"],[1,"col-12","col-lg-12"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start",3,"click"],[3,"formGroup",4,"ngIf"],[1,"col-6"],["id","type_label","for","type",1,"control-label","required"],[1,"p-form-check-line","form-group"],[1,"p-form-check"],["formControlName","type","inputId","type0",3,"value"],["for","type0",1,"ms-2","mb-0"],["formControlName","type","inputId","type1",3,"value"],["for","type1",1,"ms-2","mb-0"],[1,"form-group","col"],["formControlName","funcList"],["class","form-group",4,"ngIf"],["type","button",1,"btn","tpi-btn","tpi-second","float-start","me-3",3,"disabled","click"],["position","top-left"],["icon","pi pi-exclamation-triangle","styleClass","cHeader cContent cIcon"],["cd",""],[3,"width",4,"ngFor","ngForOf"],[2,"width","150px"],["scope","col",3,"width",4,"ngFor","ngForOf"],["scope","col",2,"width","150px"],["scope","col"],[2,"text-align","center","width","150px"],["pButton","","pRipple","","type","button","icon","pi pi-eye","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"disabled","pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-edit","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"disabled","pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-trash-alt","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],[4,"ngIf"],[2,"color","#b7b7b7"],[2,"vertical-align","middle"],["type","button",1,"btn","tpi-header-return",3,"click"],[1,"fas","fa-angle-double-right",2,"margin-left","5px"],[1,"pre-code-style",3,"innerText"],["class","col-4 col-xl-4 col-lg-4",4,"ngIf"],["for","newFuncName",1,"control-label","required"],["type","text","id","newFuncName","formControlName","newFuncName",1,"form-control",3,"placeholder"],["class","text-danger",4,"ngIf"],["for","newDesc"],["type","text","id","newDesc","formControlName","newDesc",1,"form-control"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start","me-3",3,"disabled","click"],[1,"text-danger"],[1,"form-text"],[1,"col-12","row"],["inputId","kibanaReport",3,"binary","ngModel","ngModelOptions","readonly"],["for","kibanaReport",1,"ms-2","mb-0"],[1,"px-2"],["for","newReportUrl"],["tooltipStyleClass","tooltip-custom-w",1,"far","fa-question-circle","tip",3,"pTooltip","escape"],[2,"color","red"],["type","text","id","newReportUrl","formControlName","newReportUrl",1,"form-control"],["inputId","kibanaReport","formControlName","isKibana",3,"binary"],["id","masterFuncCode_label","for","masterFuncCode",1,"control-label","required"],[1,"far","fa-question-circle","tip",3,"pTooltip","escape"],["formControlName","masterFuncCode","optionLabel","funcName","optionValue","funcCode",3,"options","placeholder"],["id","embeddedUrl_label","for","embeddedUrl",1,"control-label","required"],["type","text","id","embeddedUrl","formControlName","embeddedUrl",1,"form-control"],["class","col-4",4,"ngIf"],[1,"col-4"],["src","assets/images/exp_kibana.png","alt","kibana","width","100%","height","300px",1,"imgborder"],["src","assets/images/exp_frame.png","alt","frame","width","100%","height","300px",1,"imgborder"],["src","assets/images/exp_openwin.png","alt","open","width","100%","height","300px",1,"imgborder"],[1,"row",2,"justify-content","center"],["type","button","pButton","","icon","pi pi-check",3,"ngStyle","label","click"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"label","click"]],template:function(t,n){1&t&&(e.TgZ(0,"app-container",0),e.NdJ("headerReturn",function(){return n.headerReturn()}),e.TgZ(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4),e._UZ(5,"app-search-input",5),e.ALo(6,"translate"),e.ALo(7,"translate"),e.ALo(8,"translate"),e.ALo(9,"translate"),e.ALo(10,"translate"),e.TgZ(11,"button",6),e.NdJ("click",function(){return n.changePage("create")}),e._uU(12),e.ALo(13,"translate"),e.qZA()()()(),e.TgZ(14,"div",7)(15,"button",8),e.NdJ("click",function(){return n.exportTsmpFunc()}),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",9)(19,"div",10)(20,"input",11),e.NdJ("change",function(a){return n.fileChange(a)}),e.qZA(),e._UZ(21,"input",12),e.ALo(22,"translate"),e.TgZ(23,"button",13),e.NdJ("click",function(){return n.openFileBrowser()}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"button",14),e.NdJ("click",function(){return n.importTsmpFunc()}),e._uU(26),e.ALo(27,"translate"),e.qZA(),e._UZ(28,"i",15),e.ALo(29,"translate"),e.ALo(30,"translate"),e.qZA()(),e._UZ(31,"hr"),e.TgZ(32,"p-table",16),e.YNc(33,be,4,1,"ng-template",17),e.YNc(34,Ae,5,4,"ng-template",18),e.YNc(35,Te,9,12,"ng-template",19),e.YNc(36,Ce,1,1,"ng-template",20),e.YNc(37,Fe,4,4,"ng-template",21),e.qZA()(),e.TgZ(38,"div",1)(39,"div",22)(40,"div",23)(41,"label"),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"label",24),e._uU(45),e.qZA()(),e.TgZ(46,"div",23)(47,"label"),e._uU(48),e.ALo(49,"translate"),e.qZA(),e.TgZ(50,"label",24),e._uU(51),e.qZA()()(),e.TgZ(52,"div",22)(53,"div",23)(54,"label"),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"label",24),e._uU(58),e.qZA()(),e.YNc(59,Le,8,8,"div",25),e.qZA(),e.YNc(60,Ue,5,1,"div",26),e.TgZ(61,"div",22)(62,"div",27)(63,"label"),e._uU(64),e.ALo(65,"translate"),e.qZA(),e.TgZ(66,"div",28),e._UZ(67,"textarea",29),e.qZA()()(),e._UZ(68,"hr"),e.TgZ(69,"form",2)(70,"div",22)(71,"div",30)(72,"label",31),e._uU(73),e.ALo(74,"translate"),e.qZA(),e._UZ(75,"app-search-input",5),e.ALo(76,"translate"),e.ALo(77,"translate"),e.qZA()()(),e.TgZ(78,"p-table",16),e.YNc(79,Ne,2,1,"ng-template",17),e.YNc(80,we,2,1,"ng-template",18),e.YNc(81,Se,2,1,"ng-template",19),e.YNc(82,Re,1,1,"ng-template",20),e.YNc(83,Je,4,4,"ng-template",21),e.qZA(),e._UZ(84,"br"),e.TgZ(85,"div",22)(86,"div",32)(87,"button",33),e.NdJ("click",function(){return n.changePage("query")}),e._uU(88),e.ALo(89,"translate"),e.qZA()()()(),e.TgZ(90,"div",1),e.YNc(91,He,49,40,"form",34),e.qZA(),e.TgZ(92,"div",1)(93,"form",2)(94,"div",3)(95,"div",35)(96,"label",36),e._uU(97),e.ALo(98,"translate"),e.qZA(),e.TgZ(99,"div",37),e.ynx(100),e.TgZ(101,"div",38),e._UZ(102,"p-radioButton",39),e.TgZ(103,"label",40),e._uU(104),e.ALo(105,"translate"),e.qZA()(),e.BQk(),e.ynx(106),e.TgZ(107,"div",38),e._UZ(108,"p-radioButton",41),e.TgZ(109,"label",42),e._uU(110),e.ALo(111,"translate"),e.qZA()(),e.BQk(),e.qZA()()(),e.TgZ(112,"div",43),e._UZ(113,"app-locale-func-form",44),e.qZA(),e.YNc(114,je,10,7,"div",45),e.YNc(115,Ge,10,15,"div",45),e.YNc(116,ze,7,3,"div",45),e.YNc(117,nt,5,3,"div",45),e.TgZ(118,"div",3)(119,"div",27)(120,"button",46),e.NdJ("click",function(){return n.create()}),e._uU(121),e.ALo(122,"translate"),e.qZA(),e.TgZ(123,"button",33),e.NdJ("click",function(){return n.changePage("query")}),e._uU(124),e.ALo(125,"translate"),e.qZA()()()()()(),e._UZ(126,"p-toast",47),e.TgZ(127,"p-confirmDialog",48,49),e.YNc(129,it,5,8,"ng-template",20),e.qZA()),2&t&&(e.Q6J("title",n.currentTitle)("isDefault",1==n.pageNum),e.xp6(1),e.Q6J("hidden",1!=n.pageNum),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(3),e.XOb("placeholder","",e.lcZ(6,68,"fun_code"),"\u3001",e.lcZ(7,70,"fun_name"),"\u3001",e.lcZ(8,72,"fun_desc"),"\u3001",e.lcZ(9,74,"role_name"),"\u3001",e.lcZ(10,76,"role_alias"),""),e.Q6J("control",n.form.get("keyword"))("searchFn",n.queryFuncList.bind(n)),e.xp6(7),e.hij(" ",e.lcZ(13,78,"button.create")," "),e.xp6(4),e.Oqu(e.lcZ(17,80,"button.export")),e.xp6(5),e.s9C("placeholder",e.lcZ(22,82,"upload_file")),e.Q6J("value",null==n.file?null:n.file.name),e.xp6(2),e.Q6J("pTooltip",e.lcZ(24,84,"upload_file")),e.xp6(2),e.Q6J("disabled",!(null!=n.file&&n.file.name)),e.xp6(1),e.Oqu(e.lcZ(27,86,"button.import")),e.xp6(2),e.hYB("pTooltip",'<ol style="padding-inline-start: 20px;margin-block-end: 0;"><li>',e.xi3(29,88,"import_key_tip",e.DdM(119,lt)),"</li><li>",e.lcZ(30,91,"use_in_multi_language"),"</li></ol>"),e.Q6J("escape",!1),e.xp6(4),e.Akn(e.DdM(120,Q)),e.Q6J("columns",n.funcInfoListCols)("value",n.funcInfoList),e.xp6(6),e.Q6J("hidden",2!=n.pageNum),e.xp6(4),e.Oqu(e.lcZ(43,93,"fun_code")),e.xp6(3),e.Oqu(null==n.currentFuncInfo?null:n.currentFuncInfo.funcCode),e.xp6(3),e.Oqu(e.lcZ(49,95,"fun_locale")),e.xp6(3),e.AsE("",null==n.currentFuncInfo?null:n.currentFuncInfo.localeName," (",null==n.currentFuncInfo?null:n.currentFuncInfo.locale,")"),e.xp6(4),e.Oqu(e.lcZ(56,97,"fun_name")),e.xp6(3),e.Oqu(null==n.currentFuncInfo?null:n.currentFuncInfo.funcName),e.xp6(1),e.Q6J("ngIf",null==n.currentFuncInfo?null:n.currentFuncInfo.reportType),e.xp6(1),e.Q6J("ngIf",null==n.currentFuncInfo?null:n.currentFuncInfo.reportUrl),e.xp6(4),e.Oqu(e.lcZ(65,99,"fun_desc")),e.xp6(3),e.Q6J("value",null==n.currentFuncInfo?null:n.currentFuncInfo.funcDesc),e.xp6(2),e.Q6J("formGroup",n.detailForm),e.xp6(4),e.Oqu(e.lcZ(74,101,"keyword_search")),e.xp6(2),e.hYB("placeholder","",e.lcZ(76,103,"role_name"),"\u3001",e.lcZ(77,105,"role_desc"),""),e.Q6J("control",n.detailForm.get("keyword"))("searchFn",n.queryRoleList.bind(n)),e.xp6(3),e.Akn(e.DdM(121,Q)),e.Q6J("columns",n.roleInfoListCols)("value",n.roleInfoList),e.xp6(10),e.hij(" ",e.lcZ(89,107,"button.return_to_list")," "),e.xp6(2),e.Q6J("hidden",3!=n.pageNum),e.xp6(1),e.Q6J("ngIf",n.currentFuncInfo),e.xp6(1),e.Q6J("hidden",4!=n.pageNum),e.xp6(1),e.Q6J("formGroup",n.editForm),e.xp6(4),e.Oqu(e.lcZ(98,109,"type")),e.xp6(5),e.Q6J("value",0),e.xp6(2),e.Oqu(e.lcZ(105,111,"main_func")),e.xp6(4),e.Q6J("value",1),e.xp6(2),e.Oqu(e.lcZ(111,113,"sub_func")),e.xp6(4),e.Q6J("ngIf",1==n.type.value),e.xp6(1),e.Q6J("ngIf",1==n.type.value&&!n.isKibana.value),e.xp6(1),e.Q6J("ngIf",1==n.type.value),e.xp6(1),e.Q6J("ngIf",1==n.type.value),e.xp6(3),e.Q6J("disabled",n.editForm.invalid),e.xp6(1),e.hij(" ",e.lcZ(122,115,"button.create")," "),e.xp6(3),e.hij(" ",e.lcZ(125,117,"button.return_to_list")," "),e.xp6(2),e.Akn(e.DdM(122,ct)),e.xp6(1),e.Akn(e.DdM(123,rt)))},directives:[j.e,u._Y,u.JL,u.sg,K.J,V.Hq,G.u,X.iA,p.jx,c.sg,c.O5,z.g,u.Fj,u.JJ,u.u,W.XZ,u.On,ee.EU,me,J.Lt,fe.FN,_e.Q,c.PC],pipes:[I.X$,c.Ov,he],styles:[".form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background:#F6F6F6}.imgborder[_ngcontent-%COMP%]{border-radius:15px;background-color:#eee;object-fit:contain}"]}),o})(),canActivate:[b.u6]}];let ut=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[v.Bz.forChild(at)],v.Bz]}),o})();var st=r(78555),dt=r(31890);let pt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[b.u6],imports:[[c.ez,ut,st.W,dt.m,u.UX,u.u5]]}),o})()},74856:(U,x,r)=>{r.d(x,{J:()=>b});var c=r(87587),v=r(93075);let b=(()=>{class g{constructor(){this.placeholder="",this.class=""}onSearch(){this.searchFn&&this.searchFn()}onKeydown(p){p.isComposing||this.onSearch()}}return g.\u0275fac=function(p){return new(p||g)},g.\u0275cmp=c.Xpm({type:g,selectors:[["app-search-input"]],inputs:{placeholder:"placeholder",control:"control",searchFn:"searchFn",class:"class"},decls:3,vars:2,consts:[[1,"p-input-icon-right","w-100"],[1,"pi","pi-search","tpi-i-search",3,"click"],["type","search",1,"form-control","tpi-i-input",3,"placeholder","formControl","keydown.enter"]],template:function(p,u){1&p&&(c.TgZ(0,"span",0)(1,"i",1),c.NdJ("click",function(){return u.onSearch()}),c.qZA(),c.TgZ(2,"input",2),c.NdJ("keydown.enter",function(f){return u.onKeydown(f)}),c.qZA()()),2&p&&(c.xp6(2),c.Q6J("placeholder",u.placeholder)("formControl",u.control))},directives:[v.Fj,v.JJ,v.oH],styles:[""]}),g})()},63710:(U,x,r)=>{r.d(x,{e:()=>s});var c=r(87587),v=r(69808),b=r(51062);function g(f,Z){if(1&f&&(c.TgZ(0,"div")(1,"h3",9),c._uU(2),c.ALo(3,"translate"),c.qZA()()),2&f){const _=c.oxw();c.xp6(2),c.Oqu(c.lcZ(3,1,_.title))}}function T(f,Z){if(1&f){const _=c.EpF();c.TgZ(0,"div",10)(1,"button",11),c.NdJ("click",function(){return c.CHM(_),c.oxw().return()}),c._UZ(2,"i",12),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.TgZ(5,"span",13),c._uU(6),c.qZA(),c.TgZ(7,"span",14),c._uU(8),c.qZA()()}if(2&f){const _=c.oxw();c.xp6(3),c.hij(" ",c.lcZ(4,3,"button.return_to_list")," "),c.xp6(3),c.hij("",_.getHead()," /"),c.xp6(2),c.Oqu(_.getTail())}}const p=[[["","center-view","center"]],"*"],u=["[center-view=center]","*"];let s=(()=>{class f{constructor(){this.title="",this.isDefault=!0,this.headerReturn=new c.vpe}ngOnInit(){}return(){this.headerReturn.emit(null)}getHead(){const _=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return _.pop(),_.join(" / ")}getTail(){const _=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return _[_.length-1]}}return f.\u0275fac=function(_){return new(_||f)},f.\u0275cmp=c.Xpm({type:f,selectors:[["app-container"]],inputs:{title:"title",isDefault:"isDefault"},outputs:{headerReturn:"headerReturn"},ngContentSelectors:u,decls:11,vars:2,consts:[[1,"container-fluid","h-100"],[1,"row","position-relative",2,"height","calc(100% - 40px - 0.5rem)"],[1,"col"],[2,"margin-bottom","0.5rem"],[4,"ngIf"],["style","text-align: right",4,"ngIf"],[1,"col","d-flex","justify-content-center"],[1,"my-0","mb-2"],[1,"p-2"],["id","content",1,"page-title"],[2,"text-align","right"],["type","button","icon","",1,"btn","float-start","tpi-header-return",3,"click"],[1,"fas","fa-arrow-left",2,"margin-right","5px"],[1,"mb-0",2,"font-size","0.8rem","color","#666464"],[1,"mb-0",2,"font-size","0.8rem","color","#ff6e38","font-weight","bold"]],template:function(_,e){1&_&&(c.F$t(p),c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c.YNc(4,g,4,3,"div",4),c.YNc(5,T,9,5,"div",5),c.TgZ(6,"div",6),c.Hsn(7),c.qZA()(),c._UZ(8,"hr",7),c.Hsn(9,1),c._UZ(10,"div",8),c.qZA()()()),2&_&&(c.xp6(4),c.Q6J("ngIf",e.isDefault),c.xp6(1),c.Q6J("ngIf",!e.isDefault))},directives:[v.O5],pipes:[b.X$],styles:[".card.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#5a5541}"]}),f})()},86347:(U,x,r)=>{r.d(x,{DL:()=>c.D,u6:()=>b.u});var c=r(81233),b=(r(45240),r(92718));r(4516)},46877:(U,x,r)=>{r.d(x,{X:()=>T});var c=r(92340),v=r(57553),b=r(87587),g=r(30424);let T=(()=>{class p{constructor(s){this.api=s,this.api.baseUrl=c.N.dpPath}get basePath(){return c.N.isv4?"dgrv4/11":"tsmpdpaa/11"}querySubItemsByItemNo(s){let f={ReqHeader:this.api.getReqHeader(v.Nx.querySubItemsByItemNo),ReqBody:s};return this.api.npPost(`${this.basePath}/DPB0047`,f)}queryNewsStatusList(s){let f={ReqHeader:this.api.getReqHeader(v.Nx.querySubItemsByItemNo),ReqBody:s};return this.api.npPost(`${this.basePath}/DPB0048`,f)}}return p.\u0275fac=function(s){return new(s||p)(b.LFG(g.K))},p.\u0275prov=b.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()}}]);