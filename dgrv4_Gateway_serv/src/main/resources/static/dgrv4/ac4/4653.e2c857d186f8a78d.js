"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[4653],{75923:(P,u,n)=>{n.d(u,{j:()=>h});var t=n(87587),r=n(93075),c=n(45682);let p=(()=>{class o{constructor(e,i){this.fb=e,this.toolService=i,this.disabled=!1,this.headerPolicy="0",this.headerPolicyNum=0,this.headerPolicyMask="*",this.change=new t.vpe,this.remove=new t.vpe,this.fieldExp=""}ngOnInit(){var e,i,a;this.form=this.fb.group({field:new r.NI(this.data?this.data.field:"")}),this.fieldExp="0"==this.headerPolicy||""==(null===(e=this.form.get("field"))||void 0===e?void 0:e.value)?"":`${null===(i=this.form.get("field"))||void 0===i?void 0:i.value}: [${this.toolService.maskStringByPolicy(null===(a=this.form.get("field"))||void 0===a?void 0:a.value,this.headerPolicy,this.headerPolicyNum,this.headerPolicyMask)}]`,this.form.valueChanges.subscribe(l=>{this.fieldExp=`${l.field}: [${this.toolService.maskStringByPolicy(l.field,this.headerPolicy,this.headerPolicyNum,this.headerPolicyMask)}]`,this.change.emit({field:l.field,no:this.no})})}delete(e){this._ref.destroy(),this.remove.emit(this.no)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.qu),t.Y36(c.g))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-fields-form-detail"]],inputs:{data:"data",_ref:"_ref",no:"no",disabled:"disabled",headerPolicy:"headerPolicy",headerPolicyNum:"headerPolicyNum",headerPolicyMask:"headerPolicyMask"},outputs:{change:"change",remove:"remove"},decls:8,vars:3,consts:[[1,"mb-1","col-12","px-0",2,"align-items","center","display","flex",3,"formGroup"],[1,"control-label","required","me-1"],["type","text","name","field","formControlName","field",1,"form-control","col-6"],["type","button",1,"btn","tpi-primary","ms-1",2,"border-radius","50%",3,"hidden","click"],[1,"fa","fa-minus"],[1,"control-label","ms-1","col"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"label",1),t._uU(2,"Field"),t.qZA(),t._UZ(3,"input",2),t.TgZ(4,"button",3),t.NdJ("click",function(l){return i.delete(l)}),t._UZ(5,"i",4),t.qZA(),t.TgZ(6,"label",5),t._uU(7),t.qZA()()),2&e&&(t.Q6J("formGroup",i.form),t.xp6(4),t.Q6J("hidden",i.disabled),t.xp6(3),t.Oqu(i.fieldExp))},directives:[r.JL,r.sg,r.Fj,r.JJ,r.u],styles:[""]}),o})();const m=["fields"];function d(o,s){}let h=(()=>{class o{constructor(){this.disabled=!1,this.no=0,this.fieldList=[],this.headerPolicy="0",this.headerPolicyNum=0,this.headerPolicyMask="*"}ngOnInit(){}ngOnChanges(e){(e.headerPolicy||e.headerPolicyNum||e.headerPolicyMask)&&(e.headerPolicy&&(this.headerPolicy=e.headerPolicy.currentValue),e.headerPolicyNum&&(this.headerPolicyNum=e.headerPolicyNum.currentValue),e.headerPolicyMask&&(this.headerPolicyMask=e.headerPolicyMask.currentValue),this.refactFielsByChange())}refactFielsByChange(){this.fieldsRef.clear(),this.fieldList.forEach((e,i)=>{let a=this.fieldsRef.createComponent(p);a.instance._ref=a,a.instance.no=e.no,a.instance.data=this.fieldList[i],a.instance.headerPolicy=this.headerPolicy,a.instance.headerPolicyNum=this.headerPolicyNum,a.instance.headerPolicyMask=this.headerPolicyMask,a.instance.change.subscribe(l=>{let f=this.fieldList.findIndex(y=>y.no===l.no);this.fieldList[f].field=l.field,this.fieldList[f].no=l.no,this.onChange(this.formatFieldsToString(this.fieldList))}),a.instance.remove.subscribe(l=>{let f=this.fieldList.findIndex(y=>y.no===l);this.fieldList.splice(f,1),0==this.fieldList.length?(this.no=0,this.onChange(void 0),this.addFields()):this.onChange(this.formatFieldsToString(this.fieldList))})})}addFields(e){let i=this.fieldsRef.createComponent(p);this.fieldList.push(e?{field:e,no:this.no}:{field:"",no:this.no}),i.instance._ref=i,i.instance.no=this.no,i.instance.data=this.fieldList[this.no],i.instance.headerPolicy=this.headerPolicy,i.instance.headerPolicyNum=this.headerPolicyNum,i.instance.headerPolicyMask=this.headerPolicyMask,this.no++,this.onChange&&this.onChange(this.formatFieldsToString(this.fieldList)),i.instance.change.subscribe(a=>{let l=this.fieldList.findIndex(f=>f.no===a.no);this.fieldList[l].field=a.field,this.fieldList[l].no=a.no,this.onChange(this.formatFieldsToString(this.fieldList))}),i.instance.remove.subscribe(a=>{let l=this.fieldList.findIndex(f=>f.no===a);this.fieldList.splice(l,1),0==this.fieldList.length?(this.no=0,this.onChange(void 0),this.addFields()):this.onChange(this.formatFieldsToString(this.fieldList))})}formatFieldsToString(e){return e?e.map(i=>i.field.trim()).filter(i=>i&&""!=i.trim()).join(","):""}writeValue(e){this.initFields(e)}initFields(e){this.no=0,this.fieldList=[],this.fieldsRef.clear(),e&&""!=e.trim()?null==e||e.split(",").forEach(i=>{this.addFields(i)}):this.addFields()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-fields-form"]],viewQuery:function(e,i){if(1&e&&t.Gf(m,7,t.s_b),2&e){let a;t.iGM(a=t.CRH())&&(i.fieldsRef=a.first)}},inputs:{headerPolicy:"headerPolicy",headerPolicyNum:"headerPolicyNum",headerPolicyMask:"headerPolicyMask"},features:[t._Bn([{provide:r.JU,useExisting:(0,t.Gpc)(()=>o),multi:!0}]),t.TTD],decls:7,vars:0,consts:[[1,"row"],["content",""],[1,"col-12","pe-0"],["fields",""],["type","button",1,"btn","tpi-second",2,"border-radius","50%",3,"click"],[1,"fa","fa-plus"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0,1)(2,"div",2),t.YNc(3,d,0,0,"ng-template",null,3,t.W1O),t.TgZ(5,"button",4),t.NdJ("click",function(){return i.addFields()}),t._UZ(6,"i",5),t.qZA()()())},styles:[""]}),o})()},22734:(P,u,n)=>{n.d(u,{I:()=>m});var t=n(92340),r=n(57553),c=n(87587),p=n(30424);let m=(()=>{class d{constructor(o){this.api=o,this.api.baseUrl=t.N.dpPath}get basePath(){return t.N.isv4?"dgrv4/11":"tsmpdpaa/11"}downloadFile(o){return this.api.excuteDpGetFile(`${this.basePath}/DPB0078?filePath=${o.filePath}`)}uploadFile2(o){return this.api.excuteFileUpload(`${this.basePath}/DPB0082`,o)}exportClientRelated(){let o={ReqHeader:this.api.getReqHeader(r.Nx.exportClientRelated),ReqBody:{}};return this.api.excutePostGetFile(`${this.basePath}/AA1120`,o)}importClientRelated(o,s){return this.api.excuteTsmpSetting(`${this.basePath}/AA1121`,s,o)}importClientRelatedAllCover(o){let s={ReqHeader:this.api.getReqHeader(r.Nx.importClientRelatedAllCover),ReqBody:o};return this.api.npPost(`${this.basePath}/AA1128`,s)}importClientRelatedConfirm(o){let s={ReqHeader:this.api.getReqHeader(r.Nx.importClientRelatedConfirm),ReqBody:o};return this.api.npPost(`${this.basePath}/AA1129`,s)}}return d.\u0275fac=function(o){return new(o||d)(c.LFG(p.K))},d.\u0275prov=c.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},46877:(P,u,n)=>{n.d(u,{X:()=>m});var t=n(92340),r=n(57553),c=n(87587),p=n(30424);let m=(()=>{class d{constructor(o){this.api=o,this.api.baseUrl=t.N.dpPath}get basePath(){return t.N.isv4?"dgrv4/11":"tsmpdpaa/11"}querySubItemsByItemNo(o){let s={ReqHeader:this.api.getReqHeader(r.Nx.querySubItemsByItemNo),ReqBody:o};return this.api.npPost(`${this.basePath}/DPB0047`,s)}queryNewsStatusList(o){let s={ReqHeader:this.api.getReqHeader(r.Nx.querySubItemsByItemNo),ReqBody:o};return this.api.npPost(`${this.basePath}/DPB0048`,s)}}return d.\u0275fac=function(o){return new(o||d)(c.LFG(p.K))},d.\u0275prov=c.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},20563:(P,u,n)=>{n.d(u,{F:()=>d});var t=n(57553),r=n(92340),c=n(87587),p=n(30424),m=n(45682);let d=(()=>{class h{constructor(s,e){this.api=s,this.tool=e}get npBasePath(){return r.N.isv4?"dgrv4/11":"tsmpdpaa/11"}addRegHost_before(){let s={ReqHeader:this.api.getReqHeader(t.Nx.addRegHost),ReqBody:{}};return this.api.npPost(`${this.npBasePath}/AA0801?before`,s)}addRegHost(s){let e={ReqHeader:this.api.getReqHeader(t.Nx.addRegHost),ReqBody:s};return this.api.npPost(`${this.npBasePath}/AA0801`,e)}updateRegHost_before(){let s={ReqHeader:this.api.getReqHeader(t.Nx.updateRegHost),ReqBody:{}};return this.api.npPost(`${this.npBasePath}/AA0803?before`,s)}updateRegHost(s){let e={ReqHeader:this.api.getReqHeader(t.Nx.updateRegHost),ReqBody:s};return this.api.npPost(`${this.npBasePath}/AA0803`,e)}deleteRegHost(s){let e={ReqHeader:this.api.getReqHeader(t.Nx.deleteRegHost),ReqBody:s};return this.api.npPost(`${this.npBasePath}/AA0804`,e)}queryRegHostList_1_ignore1298(s){let e={ReqHeader:this.api.getReqHeader(t.Nx.queryRegHostList_1),ReqBody:s};return this.api.excuteNpPost_ignore1298(`${this.npBasePath}/AA0806`,e)}queryRegHostList_1(s){let e={ReqHeader:this.api.getReqHeader(t.Nx.queryRegHostList_1),ReqBody:s};return this.api.npPost(`${this.npBasePath}/AA0806`,e)}queryRegHostByRegHostID(s){let e={ReqHeader:this.api.getReqHeader(t.Nx.queryRegHostByRegHostID),ReqBody:s};return this.api.npPost(`${this.npBasePath}/AA0807`,e)}}return h.\u0275fac=function(s){return new(s||h)(c.LFG(p.K),c.LFG(m.g))},h.\u0275prov=c.Yz7({token:h,factory:h.\u0275fac}),h})()}}]);