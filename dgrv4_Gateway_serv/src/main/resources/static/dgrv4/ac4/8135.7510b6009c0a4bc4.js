"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[8135],{48135:(C,T,c)=>{c.r(T),c.d(T,{Ac0101Module:()=>Ze});var l=c(69808),p=c(99291),g=c(15861),d=c(93075),Z=c(14525),m=c(1694),y=c(94327),a=c(71764),r=c(57553),e=c(87587),f=c(56435),q=c(55679),F=c(45682),N=c(51062),B=c(1955),I=c(59783),P=c(41313),H=c(3937),S=c(96614),M=c(86518),k=c(63710),O=c(40845),J=c(4119),Y=c(23099),E=c(73407),Q=c(17773);function j(o,s){1&o&&e._UZ(0,"col"),2&o&&e.Udp("width",s.$implicit.width)}function G(o,s){if(1&o&&(e.TgZ(0,"colgroup"),e.YNc(1,j,1,2,"col",34),e.qZA(),e.TgZ(2,"colgroup",35),e._uU(3," Action "),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function K(o,s){if(1&o&&(e.TgZ(0,"th",38),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Udp("width",t.width),e.xp6(1),e.hij(" ",t.header," ")}}function z(o,s){if(1&o&&(e.TgZ(0,"tr"),e.YNc(1,K,2,3,"th",36),e.TgZ(2,"th",37),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Oqu(e.lcZ(4,2,"action"))}}function V(o,s){if(1&o&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&o){const t=s.$implicit,i=e.oxw().$implicit;e.Udp("width",t.width),e.xp6(1),e.hij(" ","locale"==t.field?i.localeName+" ("+i.locale+")":i[t.field]," ")}}function W(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.YNc(1,V,2,3,"td",34),e.TgZ(2,"td",39)(3,"button",40),e.NdJ("click",function(){const u=e.CHM(t).$implicit;return e.oxw().changePage("detail",u)}),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",41),e.NdJ("click",function(){const u=e.CHM(t).$implicit;return e.oxw().changePage("update",u)}),e.ALo(6,"translate"),e.qZA()()()}if(2&o){const t=s.columns,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Q6J("disabled",0==i.canDetail)("pTooltip",e.lcZ(4,5,"button.roles")),e.xp6(2),e.Q6J("disabled",0==i.canUpdate)("pTooltip",e.lcZ(6,7,"button.update"))}}function X(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",43)(2,"span",44),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).moreFuncList()}),e._uU(6),e.ALo(7,"translate"),e._UZ(8,"i",46),e.qZA()()()}if(2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(2),e.AsE("",e.lcZ(4,4,"row_count"),": ",i.funcInfoList.length,""),e.xp6(3),e.hij(" ",e.lcZ(7,6,"button.more")," ")}}function ee(o,s){if(1&o&&e.YNc(0,X,9,8,"tr",42),2&o){const t=e.oxw();e.Q6J("ngIf",t.funcInfoList.length>0)}}function te(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=s.$implicit;e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," ")}}function ne(o,s){if(1&o&&(e.TgZ(0,"div",22)(1,"div",26)(2,"label"),e._uU(3,"Report URL"),e.qZA(),e._UZ(4,"pre",47),e.qZA()()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("innerText",null==t.currentFuncInfo?null:t.currentFuncInfo.reportUrl)}}function oe(o,s){1&o&&e._UZ(0,"col"),2&o&&e.Udp("width",s.$implicit.width)}function ie(o,s){if(1&o&&(e.TgZ(0,"colgroup"),e.YNc(1,oe,1,2,"col",34),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function re(o,s){if(1&o&&(e.TgZ(0,"th",38),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Udp("width",t.width),e.xp6(1),e.hij(" ",t.header," ")}}function le(o,s){if(1&o&&(e.TgZ(0,"tr"),e.YNc(1,re,2,3,"th",36),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function ae(o,s){if(1&o&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&o){const t=s.$implicit,i=e.oxw().$implicit;e.Udp("width",t.width),e.xp6(1),e.hij(" ",i[t.field]," ")}}function ce(o,s){if(1&o&&(e.TgZ(0,"tr"),e.YNc(1,ae,2,3,"td",34),e.qZA()),2&o){const t=s.columns;e.xp6(1),e.Q6J("ngForOf",t)}}function se(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",43)(2,"span",44),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).moreRoleList()}),e._uU(6),e.ALo(7,"translate"),e._UZ(8,"i",46),e.qZA()()()}if(2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.uIk("colspan",t.length),e.xp6(2),e.AsE("",e.lcZ(4,4,"row_count"),": ",null==i.roleInfoList?null:i.roleInfoList.length,""),e.xp6(3),e.hij(" ",e.lcZ(7,6,"button.more")," ")}}function ue(o,s){if(1&o&&e.YNc(0,se,9,8,"tr",42),2&o){const t=e.oxw();e.Q6J("ngIf",(null==t.roleInfoList?null:t.roleInfoList.length)>0)}}function pe(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=s.$implicit;e.xp6(1),e.uIk("colspan",t.length),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," ")}}function de(o,s){if(1&o&&(e.TgZ(0,"div",57)(1,"small",58),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",58),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"small",58),e._uU(8),e.ALo(9,"translate"),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(e.xi3(3,3,t.newFuncName.errors.stringalias,t.newFunNameLimitChar)),e.xp6(3),e.Oqu(e.xi3(6,6,t.newFuncName.errors.maxlength,t.newFunNameLimitChar)),e.xp6(3),e.Oqu(e.lcZ(9,9,t.newFuncName.errors.required))}}function fe(o,s){if(1&o&&(e.TgZ(0,"div",57)(1,"small",58),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",58),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(2),e.Oqu(e.lcZ(3,2,t.newReportUrl.errors.required)),e.xp6(3),e.Oqu(e.xi3(6,4,t.newReportUrl.errors.maxlength,t.newReportUrlLimitChar))}}function me(o,s){if(1&o&&(e.TgZ(0,"div",3)(1,"div")(2,"label",59),e._uU(3,"Report URL"),e.TgZ(4,"span",60),e._uU(5,"*"),e.qZA()(),e.TgZ(6,"small",61),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e._UZ(9,"input",62),e.YNc(10,fe,7,7,"div",51),e.qZA()),2&o){const t=e.oxw(2);e.xp6(7),e.hij(" ( ",e.lcZ(8,2,"funcCode_kibana_prefix"),")"),e.xp6(3),e.Q6J("ngIf",t.newReportUrl.invalid&&(t.newReportUrl.dirty||t.newReportUrl.touched))}}function he(o,s){if(1&o&&(e.TgZ(0,"div",57)(1,"small",58),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(e.xi3(3,1,t.newDesc.errors.maxlength,t.newFunDescLimitChar))}}function _e(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"form",48)(1,"div",22)(2,"div",23)(3,"label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"label",24),e._uU(7),e.qZA()(),e.TgZ(8,"div",23)(9,"label"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"label",24),e._uU(13),e.qZA()()(),e.TgZ(14,"div",22)(15,"div",23)(16,"label",49),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"input",50),e.ALo(20,"translate"),e.YNc(21,de,10,11,"div",51),e.qZA()(),e.YNc(22,me,11,4,"div",52),e.TgZ(23,"div",22)(24,"div",30)(25,"label",53),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"div",54),e._UZ(29,"textarea",55),e.ALo(30,"translate"),e.qZA(),e.YNc(31,he,4,4,"div",51),e.qZA()(),e.TgZ(32,"div",22)(33,"div",30)(34,"button",56),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateFunc()}),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"button",31),e.NdJ("click",function(){return e.CHM(t),e.oxw().changePage("query")}),e._uU(38),e.ALo(39,"translate"),e.qZA()()()()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(4),e.Oqu(e.lcZ(5,16,"fun_code")),e.xp6(3),e.Oqu(t.currentFuncInfo.funcCode),e.xp6(3),e.Oqu(e.lcZ(11,18,"fun_locale")),e.xp6(3),e.Oqu(t.currentFuncInfo.locale),e.xp6(4),e.Oqu(e.lcZ(18,20,"fun_name")),e.xp6(2),e.s9C("placeholder",e.lcZ(20,22,"new_fun_name")),e.xp6(2),e.Q6J("ngIf",t.newFuncName.invalid&&(t.newFuncName.dirty||t.newFuncName.touched)),e.xp6(1),e.Q6J("ngIf",null==t.currentFuncInfo?null:t.currentFuncInfo.reportUrl),e.xp6(4),e.Oqu(e.lcZ(27,24,"fun_desc")),e.xp6(3),e.s9C("placeholder",e.lcZ(30,26,"new_fun_desc")),e.Q6J("rows",5),e.xp6(2),e.Q6J("ngIf",t.newDesc.invalid&&(t.newDesc.dirty||t.newDesc.touched)),e.xp6(3),e.Q6J("disabled",t.form.invalid),e.xp6(1),e.hij(" ",e.lcZ(36,28,"button.update")," "),e.xp6(3),e.hij(" ",e.lcZ(39,30,"button.return_to_list")," ")}}const ge=function(){return{key:"FUNC_CODE+LOCALE"}},U=function(){return{"word-break":"break-word"}},ve=function(){return{marginTop:"60px"}};let Ae=(()=>{class o extends Z.H{constructor(t,i,n,u,h,_,v,A,x,b,R,L){super(t,i),this.funcService=n,this.fb=u,this.toolService=h,this.translate=_,this.roleService=v,this.messageService=A,this.serverService=x,this.ngxService=b,this.api=R,this.alertService=L,this.dialogTitle="",this.funcInfoList=[],this.funcInfoListCols=[],this.canUpdate=!1,this.canDetail=!1,this.currentTitle=this.title,this.pageNum=1,this.roleInfoList=[],this.roleInfoListCols=[],this.newFunNameLimitChar={value:50},this.newFunDescLimitChar={value:300},this.newReportUrlLimitChar={value:2e3},this.file=null,this.form=this.fb.group({keyword:new d.NI(""),newFuncName:new d.NI("",m.rv(this.newFunNameLimitChar.value)),newFuncNameEn:new d.NI("",m.qc(this.newFunNameLimitChar.value)),newDesc:new d.NI("",m.dH(this.newFunDescLimitChar.value)),newReportUrl:new d.NI("",m.dH(this.newReportUrlLimitChar.value))}),this.detailForm=this.fb.group({keyword:new d.NI("")})}ngOnInit(){this.roleService.queryRTMapByUk({txIdList:["AA0102","AA0104"]}).subscribe(n=>{this.toolService.checkDpSuccess(n.ResHeader)&&(this.canUpdate=!!n.RespBody.dataList.find(u=>"AA0102"===u.txId)&&n.RespBody.dataList.find(u=>"AA0102"===u.txId).available,this.canDetail=!!n.RespBody.dataList.find(u=>"AA0104"===u.txId)&&n.RespBody.dataList.find(u=>"AA0104"===u.txId).available)}),this.translate.get(["fun_code","fun_name","fun_name_en","fun_desc","fun_locale","update_user","update_time","role_name","role_alias","role_desc"]).subscribe(n=>{this.funcInfoListCols=[{field:"funcCode",header:n.fun_code},{field:"funcName",header:n.fun_name},{field:"funcDesc",header:n.fun_desc},{field:"locale",header:n.fun_locale},{field:"updateUser",header:n.update_user},{field:"updateTime",header:n.update_time}],this.roleInfoListCols=[{field:"roleName",header:n.role_name},{field:"roleAlias",header:n.role_desc}]}),this.funcInfoList=[];let i={keyword:this.keyword.value,funcType:this.toolService.Base64Encoder(this.toolService.BcryptEncoder("0"))+",0"};this.funcService.queryTFuncList_v3_ignore1298(i).subscribe(n=>{this.toolService.checkDpSuccess(n.ResHeader)&&(this.funcInfoList=n.RespBody.funcInfoList)})}queryFuncList(){this.funcInfoList=[];let t={keyword:this.keyword.value,funcType:this.toolService.Base64Encoder(this.toolService.BcryptEncoder("0"))+",0"};this.funcService.queryTFuncList_v3(t).subscribe(i=>{this.toolService.checkDpSuccess(i.ResHeader)&&(this.funcInfoList=i.RespBody.funcInfoList)})}moreFuncList(){let t={funcCode:this.funcInfoList[this.funcInfoList.length-1].funcCode,locale:this.funcInfoList[this.funcInfoList.length-1].locale,keyword:this.keyword.value,funcType:this.toolService.Base64Encoder(this.toolService.BcryptEncoder("0"))+",0"};this.funcService.queryTFuncList_v3(t).subscribe(i=>{this.toolService.checkDpSuccess(i.ResHeader)&&(this.funcInfoList=this.funcInfoList.concat(i.RespBody.funcInfoList))})}queryRoleList(t=!1){var i;this.roleInfoList=[];let n={keyword:this.d_keyword.value,funcCode:null===(i=this.currentFuncInfo)||void 0===i?void 0:i.funcCode};t?this.funcService.queryTFuncRoleList_ignore1298(n).subscribe(u=>{this.toolService.checkDpSuccess(u.ResHeader)&&(this.roleInfoList=u.RespBody.roleInfoList)}):this.funcService.queryTFuncRoleList(n).subscribe(u=>{this.toolService.checkDpSuccess(u.ResHeader)&&(this.roleInfoList=u.RespBody.roleInfoList)})}moreRoleList(){var t;let i={roleId:this.roleInfoList[this.roleInfoList.length-1].roleId,keyword:this.keyword.value,funcCode:null===(t=this.currentFuncInfo)||void 0===t?void 0:t.funcCode};this.funcService.queryTFuncRoleList(i).subscribe(n=>{this.toolService.checkDpSuccess(n.ResHeader)&&(this.roleInfoList=this.roleInfoList.concat(n.RespBody.roleInfoList))})}changePage(t,i){var n=this;return(0,g.Z)(function*(){var u,h,_,v,A,x;const R=yield n.toolService.getDict(["button.update","button.roles"]);let L=null===(u=n.keyword)||void 0===u?void 0:u.value;switch(n.resetFormValidator(n.form),n.resetFormValidator(n.detailForm),null===(h=n.keyword)||void 0===h||h.setValue(L),n.currentFuncInfo={},t){case"query":n.currentTitle=n.title,n.pageNum=1;break;case"detail":n.currentTitle=`${n.title} > ${R["button.roles"]}`,n.pageNum=2,n.currentFuncInfo=i,n.queryRoleList(!0);break;case"update":n.currentTitle=`${n.title} > ${R["button.update"]}`,n.pageNum=3,n.currentFuncInfo=i,n.newFuncName.setValidators([m.np(),m.dH(n.newFunNameLimitChar.value)]),n.newFuncName.setValue(n.currentFuncInfo.funcName),n.newDesc.setValidators(m.dH(n.newFunDescLimitChar.value)),n.newDesc.setValue(n.currentFuncInfo.funcDesc),(null===(_=n.currentFuncInfo)||void 0===_?void 0:_.reportUrl)&&(null===(v=n.newReportUrl)||void 0===v||v.setValue(null===(A=n.currentFuncInfo)||void 0===A?void 0:A.reportUrl),null===(x=n.newReportUrl)||void 0===x||x.setValidators([m.np(),m.dH(n.newReportUrlLimitChar.value)])),n.checkTextAreaHeight(),n.pageNum=3}})()}checkTextAreaHeight(){const t=document.getElementById("newDescTextArea");this.currentFuncInfo.funcDesc&&t&&0===t.clientHeight&&(t.style.height="254px")}updateFunc(){var i,n,u,h,_,v,A,t=this;let x={funcCode:null===(i=this.currentFuncInfo)||void 0===i?void 0:i.funcCode,locale:null===(n=this.currentFuncInfo)||void 0===n?void 0:n.locale,desc:null===(u=this.currentFuncInfo)||void 0===u?void 0:u.funcDesc,newDesc:this.newDesc.value,funcName:null===(h=this.currentFuncInfo)||void 0===h?void 0:h.funcName,newFuncName:this.newFuncName.value};(null===(_=this.currentFuncInfo)||void 0===_?void 0:_.reportUrl)&&(x.reportUrl=null===(v=this.currentFuncInfo)||void 0===v?void 0:v.reportUrl,x.newReportUrl=null===(A=this.newReportUrl)||void 0===A?void 0:A.value),this.funcService.updateTFunc(x).subscribe(function(){var b=(0,g.Z)(function*(R){if(t.toolService.checkDpSuccess(R.ResHeader)){const L=["message.update","message.func","message.success"],w=yield t.toolService.getDict(L);t.messageService.add({severity:"success",summary:`${w["message.update"]} ${w["message.func"]}`,detail:`${w["message.update"]} ${w["message.success"]}!`}),t.queryFuncList(),t.changePage("query")}});return function(R){return b.apply(this,arguments)}}())}headerReturn(){this.changePage("query")}exportTsmpFunc(){this.ngxService.start(),this.serverService.exportTsmpFunc({funcType:this.toolService.Base64Encoder(this.toolService.BcryptEncoder("0"))+",0"}).subscribe(t=>{if("application/json"===t.type){const i=new FileReader;i.onload=()=>{const n=JSON.parse(i.result);this.alertService.ok(n.ResHeader.rtnMsg,"",r.NK.warning,n.ResHeader.txDate+"<br>"+n.ResHeader.txID)},i.readAsText(t)}else{const i=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),n=a(new Date).format("YYYYMMDD_HHmm");y.saveAs(i,`TsmpFunc_${n}.xlsx`)}this.ngxService.stop()})}importTsmpFunc(){var t=this;const i={ReqHeader:this.api.getReqHeader(r.Nx.importTsmpFunc),ReqBody:{funcType:this.toolService.Base64Encoder(this.toolService.BcryptEncoder("0"))+",0"}};this.ngxService.start(),this.serverService.importTsmpFunc(i,this.file).subscribe(function(){var n=(0,g.Z)(function*(u){if(t.toolService.checkDpSuccess(u.ResHeader)){const h=["uploading","message.success","upload_result"],_=yield t.toolService.getDict(h);t.messageService.add({severity:"success",summary:_.upload_result,detail:`${_["message.success"]}!`}),t.file=null,t.queryFuncList()}t.ngxService.stop()});return function(u){return n.apply(this,arguments)}}())}fileChange(t){var i=this;return(0,g.Z)(function*(){let n=t.target.files;yield i.toolService.getDict(["uploading","cfm_img_format","cfm_size","message.success","upload_result","waiting"]),0!=n.length?(i.file=n.item(0),t.target.value=""):(i.file=null,t.target.value="")})()}openFileBrowser(){$("#file").click()}get keyword(){return this.form.get("keyword")}get newFuncName(){return this.form.get("newFuncName")}get newDesc(){return this.form.get("newDesc")}get newReportUrl(){return this.form.get("newReportUrl")}get d_keyword(){return this.detailForm.get("keyword")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.gz),e.Y36(f.W),e.Y36(q.B),e.Y36(d.qu),e.Y36(F.g),e.Y36(N.sK),e.Y36(B.N),e.Y36(I.ez),e.Y36(P.N),e.Y36(H.LA),e.Y36(S.K),e.Y36(M.c))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ac0101"]],features:[e.qOj],decls:91,vars:88,consts:[[3,"title","isDefault","headerReturn"],[3,"hidden"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"p-input-icon-right",2,"width","40vw"],[1,"pi","pi-search","tpi-i-search",3,"click"],["type","search","id","keyword","formControlName","keyword",1,"form-control","tpi-i-input",3,"placeholder"],[1,"col-12","px-0",2,"display","flex","justify-content","space-between"],["type","button",1,"btn","tpi-btn","tpi-primary","me-2",3,"click"],[2,"display","flex","align-items","center"],[1,"ui-inputgroup","me-2"],["type","file","id","file","accept",".xlsx",2,"display","none",3,"change"],["type","text","readOnly","",1,"form-control",3,"value","placeholder"],["pButton","","type","button","icon","pi pi-file","tooltipPosition","top",1,"ms-1","tpi-primary",3,"pTooltip","click"],["type","button",1,"btn","tpi-btn","tpi-primary","me-2",3,"disabled","click"],[1,"far","fa-question-circle",3,"pTooltip","escape"],["selectionMode","single","styleClass","p-datatable-striped","responsiveLayout","scroll",3,"columns","value"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],[1,"form-group","row"],[1,"col-6","col-xl-6","col-lg-6"],[1,"form-control","border-line"],["class","form-group row",4,"ngIf"],[1,"col-12"],["readonly","","rows","2","pInputTextarea","",2,"width","100%",3,"value"],[1,"col-4","col-xl-4","col-lg-4"],["id","keyword_label",1,"control-label"],[1,"col-12","col-lg-12"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start",3,"click"],[3,"formGroup",4,"ngIf"],["position","top-left"],[3,"width",4,"ngFor","ngForOf"],[2,"width","120px"],["scope","col",3,"width",4,"ngFor","ngForOf"],["scope","col",2,"width","120px"],["scope","col"],[2,"text-align","center","width","120px"],["pButton","","pRipple","","type","button","icon","pi pi-eye","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"disabled","pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-edit","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"disabled","pTooltip","click"],[4,"ngIf"],[2,"color","#b7b7b7"],[2,"vertical-align","middle"],["type","button",1,"btn","tpi-header-return",3,"click"],[1,"fas","fa-angle-double-right",2,"margin-left","5px"],[1,"pre-code-style",3,"innerText"],[3,"formGroup"],["for","newFuncName",1,"control-label","required"],["type","text","id","newFuncName","formControlName","newFuncName",1,"form-control",3,"placeholder"],["class","text-danger",4,"ngIf"],["class","form-group",4,"ngIf"],["for","newDesc"],[2,"display","block"],["id","newDescTextArea","pInputTextarea","","formControlName","newDesc",1,"form-control",3,"rows","placeholder"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start","me-3",3,"disabled","click"],[1,"text-danger"],[1,"form-text"],["for","newReportUrl"],[2,"color","red"],[1,"ps-2"],["type","text","id","newReportUrl","formControlName","newReportUrl","placeholder","Report URL",1,"form-control"]],template:function(t,i){1&t&&(e.TgZ(0,"app-container",0),e.NdJ("headerReturn",function(){return i.headerReturn()}),e.TgZ(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return i.queryFuncList()}),e.TgZ(3,"div",3)(4,"span",4)(5,"i",5),e.NdJ("click",function(){return i.queryFuncList()}),e.qZA(),e._UZ(6,"input",6),e.ALo(7,"translate"),e.ALo(8,"translate"),e.ALo(9,"translate"),e.ALo(10,"translate"),e.ALo(11,"translate"),e.qZA()()(),e.TgZ(12,"div",7)(13,"button",8),e.NdJ("click",function(){return i.exportTsmpFunc()}),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"div",9)(17,"div",10)(18,"input",11),e.NdJ("change",function(u){return i.fileChange(u)}),e.qZA(),e._UZ(19,"input",12),e.ALo(20,"translate"),e.TgZ(21,"button",13),e.NdJ("click",function(){return i.openFileBrowser()}),e.ALo(22,"translate"),e.qZA()(),e.TgZ(23,"button",14),e.NdJ("click",function(){return i.importTsmpFunc()}),e._uU(24),e.ALo(25,"translate"),e.qZA(),e._UZ(26,"i",15),e.ALo(27,"translate"),e.ALo(28,"translate"),e.qZA()(),e._UZ(29,"hr"),e.TgZ(30,"p-table",16),e.YNc(31,G,4,1,"ng-template",17),e.YNc(32,z,5,4,"ng-template",18),e.YNc(33,W,7,9,"ng-template",19),e.YNc(34,ee,1,1,"ng-template",20),e.YNc(35,te,4,4,"ng-template",21),e.qZA()(),e.TgZ(36,"div",1)(37,"div",22)(38,"div",23)(39,"label"),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"label",24),e._uU(43),e.qZA()(),e.TgZ(44,"div",23)(45,"label"),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"label",24),e._uU(49),e.qZA()()(),e.TgZ(50,"div",22)(51,"div",23)(52,"label"),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"label",24),e._uU(56),e.qZA()()(),e.YNc(57,ne,5,1,"div",25),e.TgZ(58,"div",22)(59,"div",26)(60,"label"),e._uU(61),e.ALo(62,"translate"),e.qZA(),e._UZ(63,"textarea",27),e.qZA()(),e._UZ(64,"hr"),e.TgZ(65,"form",2),e.NdJ("ngSubmit",function(){return i.queryRoleList()}),e.TgZ(66,"div",22)(67,"div",28)(68,"label",29),e._uU(69),e.ALo(70,"translate"),e.qZA(),e.TgZ(71,"span",4)(72,"i",5),e.NdJ("click",function(){return i.queryRoleList()}),e.qZA(),e._UZ(73,"input",6),e.ALo(74,"translate"),e.ALo(75,"translate"),e.qZA()()()(),e.TgZ(76,"p-table",16),e.YNc(77,ie,2,1,"ng-template",17),e.YNc(78,le,2,1,"ng-template",18),e.YNc(79,ce,2,1,"ng-template",19),e.YNc(80,ue,1,1,"ng-template",20),e.YNc(81,pe,4,4,"ng-template",21),e.qZA(),e._UZ(82,"br"),e.TgZ(83,"div",22)(84,"div",30)(85,"button",31),e.NdJ("click",function(){return i.changePage("query")}),e._uU(86),e.ALo(87,"translate"),e.qZA()()()(),e.TgZ(88,"div",1),e.YNc(89,_e,40,32,"form",32),e.qZA()(),e._UZ(90,"p-toast",33)),2&t&&(e.Q6J("title",i.currentTitle)("isDefault",1==i.pageNum),e.xp6(1),e.Q6J("hidden",1!=i.pageNum),e.xp6(1),e.Q6J("formGroup",i.form),e.xp6(4),e.XOb("placeholder","",e.lcZ(7,45,"fun_code"),"\u3001",e.lcZ(8,47,"fun_name"),"\u3001",e.lcZ(9,49,"fun_desc"),"\u3001",e.lcZ(10,51,"role_name"),"\u3001",e.lcZ(11,53,"role_alias"),""),e.xp6(8),e.Oqu(e.lcZ(15,55,"button.export")),e.xp6(5),e.s9C("placeholder",e.lcZ(20,57,"upload_file")),e.Q6J("value",null==i.file?null:i.file.name),e.xp6(2),e.Q6J("pTooltip",e.lcZ(22,59,"upload_file")),e.xp6(2),e.Q6J("disabled",!(null!=i.file&&i.file.name)),e.xp6(1),e.Oqu(e.lcZ(25,61,"button.import")),e.xp6(2),e.hYB("pTooltip",'<ol style="padding-inline-start: 20px;margin-block-end: 0;"><li>',e.xi3(27,63,"import_key_tip",e.DdM(84,ge)),"</li><li>",e.lcZ(28,66,"use_in_multi_language"),"</li></ol>"),e.Q6J("escape",!1),e.xp6(4),e.Akn(e.DdM(85,U)),e.Q6J("columns",i.funcInfoListCols)("value",i.funcInfoList),e.xp6(6),e.Q6J("hidden",2!=i.pageNum),e.xp6(4),e.Oqu(e.lcZ(41,68,"fun_code")),e.xp6(3),e.Oqu(null==i.currentFuncInfo?null:i.currentFuncInfo.funcCode),e.xp6(3),e.Oqu(e.lcZ(47,70,"fun_locale")),e.xp6(3),e.Oqu(null==i.currentFuncInfo?null:i.currentFuncInfo.locale),e.xp6(4),e.Oqu(e.lcZ(54,72,"fun_name")),e.xp6(3),e.Oqu(null==i.currentFuncInfo?null:i.currentFuncInfo.funcName),e.xp6(1),e.Q6J("ngIf",null==i.currentFuncInfo?null:i.currentFuncInfo.reportUrl),e.xp6(4),e.Oqu(e.lcZ(62,74,"fun_desc")),e.xp6(2),e.Q6J("value",null==i.currentFuncInfo?null:i.currentFuncInfo.funcDesc),e.xp6(2),e.Q6J("formGroup",i.detailForm),e.xp6(4),e.Oqu(e.lcZ(70,76,"keyword_search")),e.xp6(4),e.hYB("placeholder","",e.lcZ(74,78,"role_name"),"\u3001",e.lcZ(75,80,"role_desc"),""),e.xp6(3),e.Akn(e.DdM(86,U)),e.Q6J("columns",i.roleInfoListCols)("value",i.roleInfoList),e.xp6(10),e.hij(" ",e.lcZ(87,82,"button.return_to_list")," "),e.xp6(2),e.Q6J("hidden",3!=i.pageNum),e.xp6(1),e.Q6J("ngIf",i.currentFuncInfo),e.xp6(1),e.Akn(e.DdM(87,ve)))},directives:[k.e,d._Y,d.JL,d.sg,d.Fj,d.JJ,d.u,O.Hq,J.u,Y.iA,I.jx,l.sg,l.O5,E.g,Q.FN],pipes:[N.X$],styles:[".form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background:#F6F6F6}"]}),o})();var D=c(86347);const xe=[{path:"",component:Ae,canActivate:[D.u6]}];let Te=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[p.Bz.forChild(xe)],p.Bz]}),o})();var ye=c(78555),Re=c(31890);let Ze=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[D.u6],imports:[[l.ez,Te,ye.W,Re.m,d.UX,d.u5]]}),o})()},63710:(C,T,c)=>{c.d(T,{e:()=>a});var l=c(87587),p=c(69808),g=c(51062);function d(r,e){if(1&r&&(l.TgZ(0,"div")(1,"h3",9),l._uU(2),l.ALo(3,"translate"),l.qZA()()),2&r){const f=l.oxw();l.xp6(2),l.Oqu(l.lcZ(3,1,f.title))}}function Z(r,e){if(1&r){const f=l.EpF();l.TgZ(0,"div",10)(1,"button",11),l.NdJ("click",function(){return l.CHM(f),l.oxw().return()}),l._UZ(2,"i",12),l._uU(3),l.ALo(4,"translate"),l.qZA(),l.TgZ(5,"span",13),l._uU(6),l.qZA(),l.TgZ(7,"span",14),l._uU(8),l.qZA()()}if(2&r){const f=l.oxw();l.xp6(3),l.hij(" ",l.lcZ(4,3,"button.return_to_list")," "),l.xp6(3),l.hij("",f.getHead()," /"),l.xp6(2),l.Oqu(f.getTail())}}const m=[[["","center-view","center"]],"*"],y=["[center-view=center]","*"];let a=(()=>{class r{constructor(){this.title="",this.isDefault=!0,this.headerReturn=new l.vpe}ngOnInit(){}return(){this.headerReturn.emit(null)}getHead(){const f=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return f.pop(),f.join(" / ")}getTail(){const f=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return f[f.length-1]}}return r.\u0275fac=function(f){return new(f||r)},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-container"]],inputs:{title:"title",isDefault:"isDefault"},outputs:{headerReturn:"headerReturn"},ngContentSelectors:y,decls:11,vars:2,consts:[[1,"container-fluid","h-100"],[1,"row","position-relative",2,"height","calc(100% - 40px - 0.5rem)"],[1,"col"],[2,"margin-bottom","0.5rem"],[4,"ngIf"],["style","text-align: right",4,"ngIf"],[1,"col","d-flex","justify-content-center"],[1,"my-0","mb-2"],[1,"p-2"],["id","content",1,"page-title"],[2,"text-align","right"],["type","button","icon","",1,"btn","float-start","tpi-header-return",3,"click"],[1,"fas","fa-arrow-left",2,"margin-right","5px"],[1,"mb-0",2,"font-size","0.8rem","color","#666464"],[1,"mb-0",2,"font-size","0.8rem","color","#ff6e38","font-weight","bold"]],template:function(f,q){1&f&&(l.F$t(m),l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),l.YNc(4,d,4,3,"div",4),l.YNc(5,Z,9,5,"div",5),l.TgZ(6,"div",6),l.Hsn(7),l.qZA()(),l._UZ(8,"hr",7),l.Hsn(9,1),l._UZ(10,"div",8),l.qZA()()()),2&f&&(l.xp6(4),l.Q6J("ngIf",q.isDefault),l.xp6(1),l.Q6J("ngIf",!q.isDefault))},directives:[p.O5],pipes:[g.X$],styles:[".card.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#5a5541}"]}),r})()},86347:(C,T,c)=>{c.d(T,{DL:()=>l.D,u6:()=>g.u});var l=c(81233),g=(c(45240),c(92718));c(45682)},1955:(C,T,c)=>{c.d(T,{N:()=>Z});var l=c(92340),p=c(57553),g=c(87587),d=c(96614);let Z=(()=>{class m{constructor(a){this.api=a,this.api.baseUrl=l.N.dpPath}get basePath(){return l.N.isv4?"dgrv4/11":"tsmpdpaa/11"}addTRole(a){let r={ReqHeader:this.api.getReqHeader(p.Nx.addTRole),ReqBody:a};return this.api.npPost(`${this.basePath}/AA0011`,r)}updateTRoleFunc(a){let r={ReqHeader:this.api.getReqHeader(p.Nx.updateTRoleFunc),ReqBody:a};return this.api.npPost(`${this.basePath}/AA0013`,r)}deleteTRole(a){let r={ReqHeader:this.api.getReqHeader(p.Nx.deleteTRole),ReqBody:a};return this.api.npPost(`${this.basePath}/AA0014`,r)}addTRoleRoleMap(a){let r={ReqHeader:this.api.getReqHeader(p.Nx.addTRoleRoleMap),ReqBody:a};return this.api.npPost(`${this.basePath}/AA0016`,r)}deleteTRoleRoleMap(a){let r={ReqHeader:this.api.getReqHeader(p.Nx.deleteTRoleRoleMap),ReqBody:a};return this.api.npPost(`${this.basePath}/AA0017`,r)}updateTRoleRoleMap(a){let r={ReqHeader:this.api.getReqHeader(p.Nx.updateTRoleRoleMap),ReqBody:a};return this.api.npPost(`${this.basePath}/AA0018`,r)}queryTRoleList_v3_ignore1298(a){let r={ReqHeader:this.api.getReqHeader(p.Nx.queryTRoleList_v3),ReqBody:a};return this.api.excuteNpPost_ignore1298(`${this.basePath}/AA0020`,r)}queryTRoleList_v3(a){let r={ReqHeader:this.api.getReqHeader(p.Nx.queryTRoleList_v3),ReqBody:a};return this.api.npPost(`${this.basePath}/AA0020`,r)}queryTRoleRoleMapDetail(a){let r={ReqHeader:this.api.getReqHeader(p.Nx.queryTRoleRoleMapDetail),ReqBody:a};return this.api.npPost(`${this.basePath}/AA0021`,r)}queryTRoleRoleMap_ignore1298(a){let r={ReqHeader:this.api.getReqHeader(p.Nx.queryTRoleList_v3),ReqBody:a};return this.api.excuteNpPost_ignore1298(`${this.basePath}/AA0022`,r)}queryTRoleRoleMap(a){let r={ReqHeader:this.api.getReqHeader(p.Nx.queryTRoleList_v3),ReqBody:a};return this.api.npPost(`${this.basePath}/AA0022`,r)}queryRoleRoleList(a){let r={ReqHeader:this.api.getReqHeader(p.Nx.queryRoleRoleList),ReqBody:a};return this.api.npPost(`${this.basePath}/AA0023`,r)}createRTMap_before(){let a={ReqHeader:this.api.getReqHeader(p.Nx.createRTMap),ReqBody:{}};return this.api.npPost(`${this.basePath}/DPB0110?before`,a)}createRTMap(a){let r={ReqHeader:this.api.getReqHeader(p.Nx.createRTMap),ReqBody:a};return this.api.npPost(`${this.basePath}/DPB0110`,r)}queryRTMapList_ignore1298(a){let r={ReqHeader:this.api.getReqHeader(p.Nx.queryRTMapList),ReqBody:a};return this.api.excuteNpPost_ignore1298(`${this.basePath}/DPB0111`,r)}queryRTMapList(a){let r={ReqHeader:this.api.getReqHeader(p.Nx.queryRTMapList),ReqBody:a};return this.api.npPost(`${this.basePath}/DPB0111`,r)}queryRTMapByPk(a){let r={ReqHeader:this.api.getReqHeader(p.Nx.queryRTMapByPk),ReqBody:a};return this.api.npPost(`${this.basePath}/DPB0112`,r)}updateRTMap_before(){let a={ReqHeader:this.api.getReqHeader(p.Nx.updateRTMap),ReqBody:{}};return this.api.npPost(`${this.basePath}/DPB0113?before`,a)}updateRTMap(a){let r={ReqHeader:this.api.getReqHeader(p.Nx.updateRTMap),ReqBody:a};return this.api.npPost(`${this.basePath}/DPB0113`,r)}deleteRTMap(a){let r={ReqHeader:this.api.getReqHeader(p.Nx.deleteRTMap),ReqBody:a};return this.api.npPost(`${this.basePath}/DPB0114`,r)}queryRTMapByUk(a){let r={ReqHeader:this.api.getReqHeader(p.Nx.queryRTMapByUk),ReqBody:a};return this.api.npPost(`${this.basePath}/DPB0115`,r)}}return m.\u0275fac=function(a){return new(a||m)(g.LFG(d.K))},m.\u0275prov=g.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);