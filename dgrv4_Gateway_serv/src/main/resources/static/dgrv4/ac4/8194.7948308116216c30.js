"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[8194],{81027:(O,v,e)=>{e.r(v),e.d(v,{Ac0316Module:()=>U});var A=e(45330),E=e(69808),u=e(99291),r=e(14525),o=e(93075),h=e(58348),m=e(81073),p=e(51033),t=e(87587),g=e(56435),a=e(89709),f=e(4516),i=e(40520),N=e(38441),C=e(4924),I=e(86518),M=e(63710),P=e(39551);const T=["keyValueForm"],D=["keyValueRequest"];let S=(()=>{class n extends r.H{constructor(s,l,d,Y,x,F,G,W,j,z,H,J,Q){super(s,l),this.fb=d,this.tokenService=Y,this.toolService=x,this.api=F,this.httpClient=G,this.ngxService=W,this.signBlockService=j,this.moduleService=z,this.alert=H,this.tool=J,this.dc=Q,this.apiKey="",this.moduleName="",this.apiSrc="",this.methods=[],this.dcs=[],this.sites=[],this.resTime="",this.funCode="",this.protocol="",this.initData={},this.acConf=this.tool.getAcConf(),this.form=this.fb.group({enableClientAuth:new o.NI(!0),enableUserAuth:new o.NI(!1),userName:new o.NI({value:"",disabled:!0}),passwd:new o.NI({value:"",disabled:!0}),clientId:new o.NI(""),clientPasswd:new o.NI(""),tsmpUrl:new o.NI(""),method:new o.NI("POST"),requestHeader:new o.NI,ContentType:new o.NI("application/json"),requestBody:new o.NI("none"),keyValueRequest:new o.NI(""),keyValueForm:new o.NI(""),bodyText:new o.NI(""),resBody:new o.NI({value:"",disabled:!1}),resStatus:new o.NI({value:"",disabled:!1}),headerList:new o.NI({value:"",disabled:!1}),dc:new o.NI(""),siteCode:new o.NI(""),baseUrl:new o.NI(location.hostname+(location.port?":"+location.port:""))})}ngOnInit(){this.route.params.subscribe(s=>{this.apiKey=null==s.apiKey?"":s.apiKey,this.moduleName=null==s.moduleName?"":s.moduleName,this.apiSrc=null==s.apiSrc?"":s.apiSrc,this.initData={apiKey:this.apiKey,moduleName:this.moduleName,apiSrc:this.apiSrc}})}}return n.\u0275fac=function(s){return new(s||n)(t.Y36(u.gz),t.Y36(g.W),t.Y36(o.qu),t.Y36(a.B),t.Y36(f.g),t.Y36(h.s),t.Y36(i.eN),t.Y36(N.LA),t.Y36(C.T),t.Y36(m.C),t.Y36(I.c),t.Y36(f.g),t.Y36(p.N))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ac0316"]],viewQuery:function(s,l){if(1&s&&(t.Gf(T,5),t.Gf(D,5)),2&s){let d;t.iGM(d=t.CRH())&&(l.kv_form=d.first),t.iGM(d=t.CRH())&&(l.kv_request=d.first)}},features:[t._Bn([h.s,m.C,p.N]),t.qOj],decls:2,vars:2,consts:[[3,"title"],[3,"data"]],template:function(s,l){1&s&&(t.TgZ(0,"app-container",0),t._UZ(1,"app-api-test",1),t.qZA()),2&s&&(t.Q6J("title",l.title),t.xp6(1),t.Q6J("data",l.initData))},directives:[M.e,P.N],styles:['.card-radius[_ngcontent-%COMP%]{border-radius:1em;border:3px solid #d1d1d1}.card[_ngcontent-%COMP%]{display:block}.required[_ngcontent-%COMP%]:after{content:"*";color:red}']}),n})();var y=e(86347);const B=[{path:"",component:S,canActivate:[y.u6]},{path:":apiKey/:moduleName/:apiSrc",component:S,canActivate:[y.u6]}];let K=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[y.u6],imports:[[u.Bz.forChild(B)],u.Bz]}),n})();var L=e(31890),R=e(78555);let U=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[A.S],imports:[[E.ez,K,R.W,L.m,o.UX,o.u5]]}),n})()},92718:(O,v,e)=>{e.d(v,{u:()=>g});var A=e(54004),E=e(70262),u=e(62843),r=e(87587),o=e(4516),h=e(89709),m=e(99291),p=e(38441),t=e(60991);let g=(()=>{class a{constructor(i,N,C,I,M){this.toolService=i,this.tokenService=N,this.router=C,this.ngxService=I,this.logoutService=M}canActivate(){return this.ngxService.stopAll(),!this.toolService.isTokenExpired()||this.toolService.refreshToken().pipe((0,A.U)(i=>!!i.access_token),(0,E.K)(this.handleError.bind(this)))}handleError(i){return setTimeout(()=>this.logoutService.logout()),(0,u._)(()=>i)}}return a.\u0275fac=function(i){return new(i||a)(r.LFG(o.g),r.LFG(h.B),r.LFG(m.F0),r.LFG(p.LA),r.LFG(t.P))},a.\u0275prov=r.Yz7({token:a,factory:a.\u0275fac}),a})()}}]);