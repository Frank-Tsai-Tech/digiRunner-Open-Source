"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[7909],{47909:(P,p,o)=>{o.r(p),o.d(p,{ProfileModule:()=>Z});var e=o(69808),h=o(99291),c=o(86347),u=o(78231),g=o(71764),t=o(87587),m=o(24300),f=o(45682),l=o(51062),v=o(63710);function i(r,d){if(1&r&&t._UZ(0,"app-user-detail",8),2&r){const s=t.oxw();t.Q6J("data",s.user)("center",!1)}}const T=function(){return{"word-break":"break-word",height:"auto"}};function a(r,d){if(1&r&&(t.TgZ(0,"div",10)(1,"label"),t._uU(2),t.qZA(),t.TgZ(3,"label",11),t._uU(4),t.qZA()()),2&r){const s=d.$implicit,n=t.oxw(2);t.xp6(2),t.Oqu(s.label),t.xp6(1),t.Akn(t.DdM(4,T)),t.xp6(1),t.hij(" ","iat"==s.label||"exp"==s.label?n.formateDate(s.value):s.value," ")}}function E(r,d){if(1&r&&(t.TgZ(0,"div")(1,"div",4),t.YNc(2,a,5,5,"div",9),t.qZA()()),2&r){const s=t.oxw();t.xp6(2),t.Q6J("ngForOf",s.tokenData)}}const C=[{path:"",component:(()=>{class r{constructor(s,n,A){var _;this.userService=s,this.toolService=n,this.translate=A,this.title="",this.idTokenJwtstr=null!==(_=sessionStorage.getItem("idTokenJwtstr"))&&void 0!==_?_:"",this.tokenData=[],this.isidTokenForm=!1,this.translate.get("profile").subscribe(D=>this.title=D)}ngOnInit(){let s={userID:this.toolService.getUserID(),userName:this.toolService.getUserName()};if(this.userService.queryTUserDetail(s).subscribe(n=>{this.toolService.checkDpSuccess(n.ResHeader)&&(this.user=n.RespBody)}),""!=this.idTokenJwtstr){const n=this.idTokenJwtstr.split("."),A=n.length>1?u.DS.decode(n[1]):"";if(""!=A){const _=JSON.parse(A);_&&(this.isidTokenForm=!0,Object.keys(_).map(D=>{this.tokenData.push({label:D,value:_[D]})}),console.log(this.tokenData),console.log((new Date).getTime()))}}}formateDate(s){const n=1e3*Number(s);return"Invalid Date"!=g(n).format("YYYY-MM-DD HH:mm:ss")?g(n).format("YYYY-MM-DD HH:mm:ss"):""}}return r.\u0275fac=function(s){return new(s||r)(t.Y36(m.K),t.Y36(f.g),t.Y36(l.sK))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-profile"]],decls:11,vars:7,consts:[[3,"title"],[3,"hidden"],[3,"data","center",4,"ngIf"],[4,"ngIf"],[1,"form-group","row"],[1,"col-6"],["for","userid"],[1,"form-control","border-line"],[3,"data","center"],["class","col-4 ",4,"ngFor","ngForOf"],[1,"col-4"],[1,"form-control","border-line","mb-2"]],template:function(s,n){1&s&&(t.TgZ(0,"app-container",0)(1,"div",1),t.YNc(2,i,1,2,"app-user-detail",2),t.YNc(3,E,3,1,"div",3),t.qZA(),t.TgZ(4,"div",1)(5,"div",4)(6,"div",5)(7,"label",6),t._uU(8),t.qZA(),t.TgZ(9,"label",7),t._uU(10),t.qZA()()()()()),2&s&&(t.Q6J("title",n.title),t.xp6(1),t.Q6J("hidden","LDAP"==(null==n.user?null:n.user.idPType)||"MLDAP"==(null==n.user?null:n.user.idPType)||"API"==(null==n.user?null:n.user.idPType)),t.xp6(1),t.Q6J("ngIf",!n.isidTokenForm),t.xp6(1),t.Q6J("ngIf",n.isidTokenForm),t.xp6(1),t.Q6J("hidden",!("LDAP"==(null==n.user?null:n.user.idPType)||"MLDAP"==(null==n.user?null:n.user.idPType)||"API"==(null==n.user?null:n.user.idPType))),t.xp6(4),t.Oqu("User Name"),t.xp6(2),t.Oqu(null==n.user?null:n.user.userName))},directives:[v.e,e.O5,e.sg],styles:[""]}),r})(),canActivate:[c.u6]}];let M=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[h.Bz.forChild(C)],h.Bz]}),r})();var y=o(78555),U=o(24783),x=o(93075);let Z=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[c.u6,m.K,f.g],imports:[[e.ez,M,y.W,U.m,c.DL,x.UX,x.u5]]}),r})()},63710:(P,p,o)=>{o.d(p,{e:()=>f});var e=o(87587),h=o(69808),c=o(51062);function u(l,v){if(1&l&&(e.TgZ(0,"div")(1,"h3",9),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const i=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,i.title))}}function g(l,v){if(1&l){const i=e.EpF();e.TgZ(0,"div",10)(1,"button",11),e.NdJ("click",function(){return e.CHM(i),e.oxw().return()}),e._UZ(2,"i",12),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",13),e._uU(6),e.qZA(),e.TgZ(7,"span",14),e._uU(8),e.qZA()()}if(2&l){const i=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,3,"button.return_to_list")," "),e.xp6(3),e.hij("",i.getHead()," /"),e.xp6(2),e.Oqu(i.getTail())}}const t=[[["","center-view","center"]],"*"],m=["[center-view=center]","*"];let f=(()=>{class l{constructor(){this.title="",this.isDefault=!0,this.headerReturn=new e.vpe}ngOnInit(){}return(){this.headerReturn.emit(null)}getHead(){const i=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return i.pop(),i.join(" / ")}getTail(){const i=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return i[i.length-1]}}return l.\u0275fac=function(i){return new(i||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-container"]],inputs:{title:"title",isDefault:"isDefault"},outputs:{headerReturn:"headerReturn"},ngContentSelectors:m,decls:11,vars:2,consts:[[1,"container-fluid","h-100"],[1,"row","position-relative",2,"height","calc(100% - 40px - 0.5rem)"],[1,"col"],[2,"margin-bottom","0.5rem"],[4,"ngIf"],["style","text-align: right",4,"ngIf"],[1,"col","d-flex","justify-content-center"],[1,"my-0","mb-2"],[1,"p-2"],["id","content",1,"page-title"],[2,"text-align","right"],["type","button","icon","",1,"btn","float-left","tpi-header-return",3,"click"],[1,"fas","fa-arrow-left",2,"margin-right","5px"],[1,"mb-0",2,"font-size","0.8rem","color","#666464"],[1,"mb-0",2,"font-size","0.8rem","color","#ff6e38","font-weight","bold"]],template:function(i,T){1&i&&(e.F$t(t),e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,u,4,3,"div",4),e.YNc(5,g,9,5,"div",5),e.TgZ(6,"div",6),e.Hsn(7),e.qZA()(),e._UZ(8,"hr",7),e.Hsn(9,1),e._UZ(10,"div",8),e.qZA()()()),2&i&&(e.xp6(4),e.Q6J("ngIf",T.isDefault),e.xp6(1),e.Q6J("ngIf",!T.isDefault))},directives:[h.O5],pipes:[c.X$],styles:[".card.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#5a5541}"]}),l})()},92718:(P,p,o)=>{o.d(p,{u:()=>v});var e=o(54004),h=o(70262),c=o(62843),u=o(87587),g=o(45682),t=o(89709),m=o(99291),f=o(3937),l=o(60991);let v=(()=>{class i{constructor(a,E,O,C,M){this.toolService=a,this.tokenService=E,this.router=O,this.ngxService=C,this.logoutService=M}canActivate(){return this.ngxService.stopAll(),!this.toolService.isTokenExpired()||this.toolService.refreshToken().pipe((0,e.U)(a=>!!a.access_token),(0,h.K)(this.handleError.bind(this)))}handleError(a){return setTimeout(()=>this.logoutService.logout()),(0,c._)(()=>a)}}return i.\u0275fac=function(a){return new(a||i)(u.LFG(g.g),u.LFG(t.B),u.LFG(m.F0),u.LFG(f.LA),u.LFG(l.P))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i})()},86347:(P,p,o)=>{o.d(p,{DL:()=>e.D,u6:()=>c.u});var e=o(81233),c=(o(45240),o(92718));o(45682)}}]);