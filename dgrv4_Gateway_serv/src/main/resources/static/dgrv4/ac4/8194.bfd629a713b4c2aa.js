"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[8194],{81027:(O,v,t)=>{t.r(v),t.d(v,{Ac0316Module:()=>U});var A=t(45330),g=t(69808),d=t(99291),r=t(14525),o=t(93075),h=t(58348),m=t(81073),p=t(51033),e=t(87587),E=t(56435),a=t(89709),f=t(45682),i=t(40520),N=t(3937),C=t(4924),I=t(86518),M=t(63710),P=t(56237);const T=["keyValueForm"],D=["keyValueRequest"];let S=(()=>{class n extends r.H{constructor(s,l,u,Y,x,F,G,W,j,z,H,J,Q){super(s,l),this.fb=u,this.tokenService=Y,this.toolService=x,this.api=F,this.httpClient=G,this.ngxService=W,this.signBlockService=j,this.moduleService=z,this.alert=H,this.tool=J,this.dc=Q,this.apiKey="",this.moduleName="",this.apiSrc="",this.methods=[],this.dcs=[],this.sites=[],this.resTime="",this.funCode="",this.protocol="",this.initData={},this.acConf=this.tool.getAcConf(),this.form=this.fb.group({enableClientAuth:new o.NI(!0),enableUserAuth:new o.NI(!1),userName:new o.NI({value:"",disabled:!0}),passwd:new o.NI({value:"",disabled:!0}),clientId:new o.NI(""),clientPasswd:new o.NI(""),tsmpUrl:new o.NI(""),method:new o.NI("POST"),requestHeader:new o.NI,ContentType:new o.NI("application/json"),requestBody:new o.NI("none"),keyValueRequest:new o.NI(""),keyValueForm:new o.NI(""),bodyText:new o.NI(""),resBody:new o.NI({value:"",disabled:!1}),resStatus:new o.NI({value:"",disabled:!1}),headerList:new o.NI({value:"",disabled:!1}),dc:new o.NI(""),siteCode:new o.NI(""),baseUrl:new o.NI(location.hostname+(location.port?":"+location.port:""))})}ngOnInit(){this.route.params.subscribe(s=>{this.apiKey=null==s.apiKey?"":s.apiKey,this.moduleName=null==s.moduleName?"":s.moduleName,this.apiSrc=null==s.apiSrc?"":s.apiSrc,this.initData={apiKey:this.apiKey,moduleName:this.moduleName,apiSrc:this.apiSrc}})}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(d.gz),e.Y36(E.W),e.Y36(o.qu),e.Y36(a.B),e.Y36(f.g),e.Y36(h.s),e.Y36(i.eN),e.Y36(N.LA),e.Y36(C.T),e.Y36(m.C),e.Y36(I.c),e.Y36(f.g),e.Y36(p.N))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ac0316"]],viewQuery:function(s,l){if(1&s&&(e.Gf(T,5),e.Gf(D,5)),2&s){let u;e.iGM(u=e.CRH())&&(l.kv_form=u.first),e.iGM(u=e.CRH())&&(l.kv_request=u.first)}},features:[e._Bn([h.s,m.C,p.N]),e.qOj],decls:2,vars:2,consts:[[3,"title"],[3,"data"]],template:function(s,l){1&s&&(e.TgZ(0,"app-container",0),e._UZ(1,"app-api-test",1),e.qZA()),2&s&&(e.Q6J("title",l.title),e.xp6(1),e.Q6J("data",l.initData))},directives:[M.e,P.N],styles:['.card-radius[_ngcontent-%COMP%]{border-radius:1em;border:3px solid #d1d1d1}.card[_ngcontent-%COMP%]{display:block}.required[_ngcontent-%COMP%]:after{content:"*";color:red}']}),n})();var y=t(86347);const B=[{path:"",component:S,canActivate:[y.u6]},{path:":apiKey/:moduleName/:apiSrc",component:S,canActivate:[y.u6]}];let K=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[y.u6],imports:[[d.Bz.forChild(B)],d.Bz]}),n})();var L=t(31890),R=t(78555);let U=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[A.S],imports:[[g.ez,K,R.W,L.m,o.UX,o.u5]]}),n})()},92718:(O,v,t)=>{t.d(v,{u:()=>E});var A=t(54004),g=t(70262),d=t(62843),r=t(87587),o=t(45682),h=t(89709),m=t(99291),p=t(3937),e=t(60991);let E=(()=>{class a{constructor(i,N,C,I,M){this.toolService=i,this.tokenService=N,this.router=C,this.ngxService=I,this.logoutService=M}canActivate(){return this.ngxService.stopAll(),!this.toolService.isTokenExpired()||this.toolService.refreshToken().pipe((0,A.U)(i=>!!i.access_token),(0,g.K)(this.handleError.bind(this)))}handleError(i){return setTimeout(()=>this.logoutService.logout()),(0,d._)(()=>i)}}return a.\u0275fac=function(i){return new(i||a)(r.LFG(o.g),r.LFG(h.B),r.LFG(m.F0),r.LFG(p.LA),r.LFG(e.P))},a.\u0275prov=r.Yz7({token:a,factory:a.\u0275fac}),a})()}}]);