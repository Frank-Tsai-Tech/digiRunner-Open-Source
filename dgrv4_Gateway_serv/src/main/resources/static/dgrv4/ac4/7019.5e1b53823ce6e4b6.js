"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[7019],{47019:(R,h,n)=>{n.r(h),n.d(h,{MailTemplateIoModule:()=>G});var t=n(69808),u=n(78555),m=n(31890),v=n(93075),f=n(86347),c=n(99291),g=n(15861),o=n(14525),i=n(59783),a=n(71764),p=n(57553),T=n(94327),e=n(87587),x=n(56435),P=n(45682),M=n(71330),D=n(45330),B=n(41313),b=n(86518),Z=n(22734),O=n(96614),I=n(3937),L=n(63710),S=n(4119),H=n(40845),N=n(17773),q=n(19114),E=n(51062);const F=function(){return{backgroundColor:"var(--red-300)","border-color":"var(--red-300)"}};function K(s,y){if(1&s){const r=e.EpF();e.TgZ(0,"div",18)(1,"button",19),e.NdJ("click",function(){return e.CHM(r),e.oxw(),e.MAs(30).accept()}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",20),e.NdJ("click",function(){return e.CHM(r),e.oxw(),e.MAs(30).reject()}),e.ALo(4,"translate"),e.qZA()()}2&s&&(e.xp6(1),e.s9C("label",e.lcZ(2,3,"button.confirm")),e.Q6J("ngStyle",e.DdM(7,F)),e.xp6(2),e.s9C("label",e.lcZ(4,5,"button.cancel")))}const U=function(){return{key:"CODE"}},Y=function(){return{marginTop:"60px"}},k=function(){return{width:"50vw"}},j=[{path:"",component:(()=>{class s extends o.H{constructor(r,l,d,A,_,C,W,z,Q,X,V,w,ee){super(r,l),this.fb=d,this.toolService=A,this.openApiService=_,this.messageService=C,this.dialogService=W,this.confirmationService=z,this.serverService=Q,this.alertService=X,this.fileService=V,this.api=w,this.ngxService=ee,this.currentTitle=this.title,this.pageNum=1,this.checkLackApi=!1,this.checkCAflag=!1,this.imported=!1}ngOnInit(){return(0,g.Z)(function*(){})()}headerReturn(){}exportTsmpDpMailTpltClick(){this.ngxService.start(),this.serverService.exportTsmpDpMailTplt().subscribe(r=>{if("application/json"===r.type){const l=new FileReader;l.onload=()=>{const d=JSON.parse(l.result);this.alertService.ok(d.ResHeader.rtnMsg,"",p.NK.warning,d.ResHeader.txDate+"<br>"+d.ResHeader.txID)},l.readAsText(r)}else{const l=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),d=a(new Date).format("YYYYMMDD_HHmm");T.saveAs(l,`MailTplt_${d}.xlsx`)}this.ngxService.stop()})}openFileBrowser(){$("#file").click()}changeFile(r){this._file=0!=r.target.files.length?r.target.files[0]:void 0}uploadFile(){var r=this;const l={ReqHeader:this.api.getReqHeader(p.Nx.importTsmpDpMailTplt),ReqBody:{}};this.ngxService.start(),console.log(this._file),this.serverService.importTsmpDpMailTplt(l,this._file).subscribe(function(){var d=(0,g.Z)(function*(A){if(r.toolService.checkDpSuccess(A.ResHeader)){const _=["uploading","message.success","upload_result"],C=yield r.toolService.getDict(_);r.messageService.add({severity:"success",summary:C.upload_result,detail:`${C["message.success"]}!`}),r._file=void 0}r.ngxService.stop()});return function(A){return d.apply(this,arguments)}}())}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(c.gz),e.Y36(x.W),e.Y36(v.qu),e.Y36(P.g),e.Y36(M.l),e.Y36(i.ez),e.Y36(D.xA),e.Y36(i.YP),e.Y36(B.N),e.Y36(b.c),e.Y36(Z.I),e.Y36(O.K),e.Y36(I.LA))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-mail-template-io"]],features:[e._Bn([i.ez,i.YP]),e.qOj],decls:32,vars:35,consts:[[3,"title","isDefault","headerReturn"],[3,"hidden"],[1,"form-group","row"],[1,"col-2"],[1,"control-label"],[1,"form-control","border-line",2,"background","#f6f6f6"],["type","button",1,"btn","tpi-btn","tpi-primary",3,"click"],[1,"col-5"],[1,"far","fa-question-circle","ms-2",3,"pTooltip","escape"],[1,"ui-inputgroup"],["type","file","id","file","accept",".xlsx",2,"display","none",3,"change"],["readonly","","type","text",1,"form-control",3,"value","placeholder","click"],["pButton","","type","button","icon","pi pi-file",1,"ms-1","tpi-primary",3,"click"],["type","button",1,"btn","tpi-btn","tpi-primary","ms-2",3,"disabled","click"],["position","top-left"],["icon","pi pi-exclamation-triangle","styleClass","cHeader cContent cIcon"],["cd",""],["pTemplate","footer"],[1,"row",2,"justify-content","center"],["type","button","pButton","","icon","pi pi-check",3,"ngStyle","label","click"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"label","click"]],template:function(r,l){1&r&&(e.TgZ(0,"app-container",0),e.NdJ("headerReturn",function(){return l.headerReturn()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return l.exportTsmpDpMailTpltClick()}),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7)(12,"label",4),e._uU(13),e.ALo(14,"translate"),e._UZ(15,"i",8),e.ALo(16,"translate"),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div")(19,"div",9)(20,"input",10),e.NdJ("change",function(A){return l.changeFile(A)}),e.qZA(),e.TgZ(21,"input",11),e.NdJ("click",function(){return l.openFileBrowser()}),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"button",12),e.NdJ("click",function(){return l.openFileBrowser()}),e.qZA(),e.TgZ(24,"button",13),e.NdJ("click",function(){return l.uploadFile()}),e._uU(25),e.ALo(26,"translate"),e.qZA()()()()()(),e._UZ(27,"hr"),e.qZA(),e._UZ(28,"p-toast",14),e.TgZ(29,"p-confirmDialog",15,16),e.YNc(31,K,5,8,"ng-template",17),e.qZA()),2&r&&(e.Q6J("title",l.currentTitle)("isDefault",1==l.pageNum),e.xp6(1),e.Q6J("hidden",1!=l.pageNum),e.xp6(4),e.hij("",e.lcZ(6,17,"button.export")," "),e.xp6(4),e.hij(" ",e.lcZ(10,19,"button.export")," "),e.xp6(4),e.hij("",e.lcZ(14,21,"button.import")," "),e.xp6(2),e.hYB("pTooltip",'<ol style="padding-inline-start: 20px;margin-block-end: 0;"><li>',e.xi3(16,23,"import_key_tip",e.DdM(32,U)),"</li><li>",e.lcZ(17,26,"use_in_multi_language"),"</li></ol>"),e.Q6J("escape",!1),e.xp6(6),e.s9C("placeholder",e.lcZ(22,28,"upload_file")),e.Q6J("value",null==l._file?null:l._file.name),e.xp6(3),e.Q6J("disabled",!l._file),e.xp6(1),e.hij(" ",e.lcZ(26,30,"button.upload")," "),e.xp6(3),e.Akn(e.DdM(33,Y)),e.xp6(1),e.Akn(e.DdM(34,k)))},directives:[L.e,S.u,H.Hq,N.FN,q.Q,i.jx,t.PC],pipes:[E.X$],styles:[".form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background:#F6F6F6}"]}),s})(),canActivate:[f.u6]}];let J=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[c.Bz.forChild(j)],c.Bz]}),s})(),G=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[f.u6],imports:[[t.ez,J,u.W,m.m,v.UX,v.u5]]}),s})()},63710:(R,h,n)=>{n.d(h,{e:()=>o});var t=n(87587),u=n(69808),m=n(51062);function v(i,a){if(1&i&&(t.TgZ(0,"div")(1,"h3",9),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&i){const p=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,1,p.title))}}function f(i,a){if(1&i){const p=t.EpF();t.TgZ(0,"div",10)(1,"button",11),t.NdJ("click",function(){return t.CHM(p),t.oxw().return()}),t._UZ(2,"i",12),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",13),t._uU(6),t.qZA(),t.TgZ(7,"span",14),t._uU(8),t.qZA()()}if(2&i){const p=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,3,"button.return_to_list")," "),t.xp6(3),t.hij("",p.getHead()," /"),t.xp6(2),t.Oqu(p.getTail())}}const c=[[["","center-view","center"]],"*"],g=["[center-view=center]","*"];let o=(()=>{class i{constructor(){this.title="",this.isDefault=!0,this.headerReturn=new t.vpe}ngOnInit(){}return(){this.headerReturn.emit(null)}getHead(){const p=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return p.pop(),p.join(" / ")}getTail(){const p=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return p[p.length-1]}}return i.\u0275fac=function(p){return new(p||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-container"]],inputs:{title:"title",isDefault:"isDefault"},outputs:{headerReturn:"headerReturn"},ngContentSelectors:g,decls:11,vars:2,consts:[[1,"container-fluid","h-100"],[1,"row","position-relative",2,"height","calc(100% - 40px - 0.5rem)"],[1,"col"],[2,"margin-bottom","0.5rem"],[4,"ngIf"],["style","text-align: right",4,"ngIf"],[1,"col","d-flex","justify-content-center"],[1,"my-0","mb-2"],[1,"p-2"],["id","content",1,"page-title"],[2,"text-align","right"],["type","button","icon","",1,"btn","float-start","tpi-header-return",3,"click"],[1,"fas","fa-arrow-left",2,"margin-right","5px"],[1,"mb-0",2,"font-size","0.8rem","color","#666464"],[1,"mb-0",2,"font-size","0.8rem","color","#ff6e38","font-weight","bold"]],template:function(p,T){1&p&&(t.F$t(c),t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,v,4,3,"div",4),t.YNc(5,f,9,5,"div",5),t.TgZ(6,"div",6),t.Hsn(7),t.qZA()(),t._UZ(8,"hr",7),t.Hsn(9,1),t._UZ(10,"div",8),t.qZA()()()),2&p&&(t.xp6(4),t.Q6J("ngIf",T.isDefault),t.xp6(1),t.Q6J("ngIf",!T.isDefault))},directives:[u.O5],pipes:[m.X$],styles:[".card.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#5a5541}"]}),i})()},86347:(R,h,n)=>{n.d(h,{DL:()=>t.D,u6:()=>m.u});var t=n(81233),m=(n(45240),n(92718));n(45682)},22734:(R,h,n)=>{n.d(h,{I:()=>f});var t=n(92340),u=n(57553),m=n(87587),v=n(96614);let f=(()=>{class c{constructor(o){this.api=o,this.api.baseUrl=t.N.dpPath}get basePath(){return t.N.isv4?"dgrv4/11":"tsmpdpaa/11"}downloadFile(o){return this.api.excuteDpGetFile(`${this.basePath}/DPB0078?filePath=${o.filePath}`)}uploadFile2(o){return this.api.excuteFileUpload(`${this.basePath}/DPB0082`,o)}exportClientRelated(){let o={ReqHeader:this.api.getReqHeader(u.Nx.exportClientRelated),ReqBody:{}};return this.api.excutePostGetFile(`${this.basePath}/AA1120`,o)}importClientRelated(o,i){return this.api.excuteTsmpSetting(`${this.basePath}/AA1121`,i,o)}importClientRelatedAllCover(o){let i={ReqHeader:this.api.getReqHeader(u.Nx.importClientRelatedAllCover),ReqBody:o};return this.api.npPost(`${this.basePath}/AA1128`,i)}importClientRelatedConfirm(o){let i={ReqHeader:this.api.getReqHeader(u.Nx.importClientRelatedConfirm),ReqBody:o};return this.api.npPost(`${this.basePath}/AA1129`,i)}}return c.\u0275fac=function(o){return new(o||c)(m.LFG(v.K))},c.\u0275prov=m.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},71330:(R,h,n)=>{n.d(h,{l:()=>f});var t=n(92340),u=n(57553),m=n(87587),v=n(96614);let f=(()=>{class c{constructor(o){this.api=o,this.api.baseUrl=t.N.dpPath}get basePath(){return t.N.isv4?"dgrv4/11":"tsmpdpaa/11"}queryOpenApiKeyByClientId(o){let i={ReqHeader:this.api.getReqHeader(u.Nx.queryOpenApiKeyByClientId),ReqBody:o};return this.api.npPost(`${this.basePath}/DPB0090`,i)}queryOpenApiKeyDetailByPk(o){let i={ReqHeader:this.api.getReqHeader(u.Nx.queryOpenApiKeyDetailByPk),ReqBody:o};return this.api.npPost(`${this.basePath}/DPB0091`,i)}writeOpenApiKeyReq(o){let i={ReqHeader:this.api.getReqHeader(u.Nx.writeOpenApiKeyReq),ReqBody:o};return this.api.npPost(`${this.basePath}/DPB0092`,i)}queryApiLikeList(o){let i={ReqHeader:this.api.getReqHeader(u.Nx.queryApiLikeList),ReqBody:o};return this.api.npPost(`${this.basePath}/DPB0093`,i)}queryOpenApiKeyByDateAndLike_before(){let o={ReqHeader:this.api.getReqHeader(u.Nx.queryOpenApiKeyByDateAndLike),ReqBody:{}};return this.api.npPost(`${this.basePath}/DPB0094?before`,o)}queryOpenApiKeyByDateAndLike_ignore1298(o){let i={ReqHeader:this.api.getReqHeader(u.Nx.queryOpenApiKeyByDateAndLike),ReqBody:o};return this.api.excuteNpPost_ignore1298(`${this.basePath}/DPB0094`,i)}queryOpenApiKeyByDateAndLike(o){let i={ReqHeader:this.api.getReqHeader(u.Nx.queryOpenApiKeyByDateAndLike),ReqBody:o};return this.api.npPost(`${this.basePath}/DPB0094`,i)}queryClientListByRegStatusLike_ignore1298(o){let i={ReqHeader:this.api.getReqHeader(u.Nx.queryClientListByRegStatusLike),ReqBody:o};return this.api.excuteNpPost_ignore1298(`${this.basePath}/DPB0095`,i)}queryClientListByRegStatusLike(o){let i={ReqHeader:this.api.getReqHeader(u.Nx.queryClientListByRegStatusLike),ReqBody:o};return this.api.npPost(`${this.basePath}/DPB0095`,i)}}return c.\u0275fac=function(o){return new(o||c)(m.LFG(v.K))},c.\u0275prov=m.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()}}]);