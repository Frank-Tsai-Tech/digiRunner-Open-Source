"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[8310],{88310:(Z,g,o)=>{o.r(g),o.d(g,{Ac0006Module:()=>$});var r=o(78555),h=o(69808),f=o(15861),m=o(14525),i=o(93075),A=o(24300),p=o(1694),U=o(78231),a=o(71764),e=o(87587),l=o(99291),x=o(56435),d=o(45682),T=o(40704),D=o(59783),B=o(60991),C=o(63710),y=o(17773),E=o(51062);function I(n,u){if(1&n&&(e.TgZ(0,"div",28)(1,"small",29),e._uU(2),e.qZA(),e.TgZ(3,"small",29),e._uU(4),e.qZA(),e.TgZ(5,"small",29),e._uU(6),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.newUserName.errors.isRequired),e.xp6(2),e.Oqu(t.newUserName.errors.maxlength),e.xp6(2),e.Oqu(t.newUserName.errors.pattern)}}function q(n,u){if(1&n&&(e.TgZ(0,"div",28)(1,"small",29),e._uU(2),e.qZA(),e.TgZ(3,"small",29),e._uU(4),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.newUserAlias.errors.maxlength),e.xp6(2),e.Oqu(t.newUserAlias.errors.pattern)}}function P(n,u){if(1&n&&(e.TgZ(0,"div",28)(1,"small",29),e._uU(2),e.qZA(),e.TgZ(3,"small",29),e._uU(4),e.qZA(),e.TgZ(5,"small",29),e._uU(6),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.newUserMail.errors.maxlength),e.xp6(2),e.Oqu(t.newUserMail.errors.pattern),e.xp6(2),e.Oqu(t.newUserMail.errors.isRequired)}}function b(n,u){if(1&n&&(e.TgZ(0,"div",28)(1,"small",29),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(e.xi3(3,1,t.userBlock.errors.maxlength,t.newUserBlockLimitChar))}}function F(n,u){if(1&n&&(e.TgZ(0,"small",29),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Oqu(e.lcZ(2,1,t.newUserBlock.errors.confirm_mima))}}function S(n,u){if(1&n&&(e.TgZ(0,"div",28)(1,"small",29),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,F,3,3,"small",30),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(e.xi3(3,2,t.newUserBlock.errors.maxlength,t.newUserBlockLimitChar)),e.xp6(2),e.Q6J("ngIf",t.confirmUserBlock.value)}}function Y(n,u){if(1&n&&(e.TgZ(0,"div",28)(1,"small",29),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",29),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(e.xi3(3,2,t.confirmUserBlock.errors.maxlength,t.newUserBlockLimitChar)),e.xp6(3),e.Oqu(e.lcZ(6,5,t.confirmUserBlock.errors.confirm_mima))}}function J(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"form",9,10),e.NdJ("ngSubmit",function(){e.CHM(t);const c=e.MAs(1);return e.oxw().submitForm(c)}),e.TgZ(2,"div",11)(3,"div",12)(4,"div",4)(5,"div",5)(6,"label",6),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"label",7),e._uU(10),e.qZA()(),e.TgZ(11,"div",5)(12,"label",13),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"label",7),e._uU(16),e.qZA()()(),e.TgZ(17,"div",4)(18,"div",5)(19,"label",14),e._uU(20),e.ALo(21,"translate"),e.qZA(),e._UZ(22,"input",15),e.ALo(23,"translate"),e.YNc(24,I,7,3,"div",16),e.qZA()(),e.TgZ(25,"div",4)(26,"div",5)(27,"label",17),e._uU(28),e.ALo(29,"translate"),e.qZA(),e._UZ(30,"input",18),e.ALo(31,"translate"),e.YNc(32,q,5,2,"div",16),e.qZA()(),e.TgZ(33,"div",4)(34,"div",5)(35,"label",19),e._uU(36),e.ALo(37,"translate"),e.qZA(),e._UZ(38,"input",20),e.ALo(39,"translate"),e.YNc(40,P,7,3,"div",16),e.qZA()(),e.TgZ(41,"div",4)(42,"div",5)(43,"label",21),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"input",22),e.ALo(47,"translate"),e.YNc(48,b,4,4,"div",16),e.qZA()(),e.TgZ(49,"div",4)(50,"div",5)(51,"label",23),e._uU(52),e.ALo(53,"translate"),e.qZA(),e._UZ(54,"input",24),e.ALo(55,"translate"),e.YNc(56,S,5,5,"div",16),e.qZA()(),e.TgZ(57,"div",4)(58,"div",5)(59,"label",25),e._uU(60),e.ALo(61,"translate"),e.qZA(),e._UZ(62,"input",26),e.ALo(63,"translate"),e.YNc(64,Y,7,7,"div",16),e.qZA()()()(),e.TgZ(65,"button",27),e._uU(66),e.ALo(67,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(7),e.Oqu(e.lcZ(8,25,"user_id")),e.xp6(3),e.Oqu(t.user_id),e.xp6(3),e.Oqu(e.lcZ(14,27,"user_name")),e.xp6(3),e.Oqu(t.user_name),e.xp6(4),e.Oqu(e.lcZ(21,29,"new_user_name")),e.xp6(2),e.s9C("placeholder",e.lcZ(23,31,"new_user_name")),e.xp6(2),e.Q6J("ngIf",(null==t.newUserName?null:t.newUserName.invalid)&&((null==t.newUserName?null:t.newUserName.dirty)||(null==t.newUserName?null:t.newUserName.touched))),e.xp6(4),e.Oqu(e.lcZ(29,33,"new_user_alias")),e.xp6(2),e.s9C("placeholder",e.lcZ(31,35,"new_user_alias")),e.xp6(2),e.Q6J("ngIf",(null==t.newUserAlias?null:t.newUserAlias.invalid)&&((null==t.newUserAlias?null:t.newUserAlias.dirty)||(null==t.newUserAlias?null:t.newUserAlias.touched))),e.xp6(4),e.Oqu(e.lcZ(37,37,"new_user_mail")),e.xp6(2),e.s9C("placeholder",e.lcZ(39,39,"new_user_mail")),e.xp6(2),e.Q6J("ngIf",(null==t.newUserMail?null:t.newUserMail.invalid)&&((null==t.newUserMail?null:t.newUserMail.dirty)||(null==t.newUserMail?null:t.newUserMail.touched))),e.xp6(4),e.Oqu(e.lcZ(45,41,"org_password")),e.xp6(2),e.s9C("placeholder",e.lcZ(47,43,"org_password")),e.xp6(2),e.Q6J("ngIf",(null==t.userBlock?null:t.userBlock.invalid)&&((null==t.userBlock?null:t.userBlock.dirty)||(null==t.userBlock?null:t.userBlock.touched))),e.xp6(4),e.Oqu(e.lcZ(53,45,"new_password")),e.xp6(2),e.s9C("placeholder",e.lcZ(55,47,"new_password")),e.xp6(2),e.Q6J("ngIf",(null==t.newUserBlock?null:t.newUserBlock.invalid)&&((null==t.newUserBlock?null:t.newUserBlock.dirty)||(null==t.newUserBlock?null:t.newUserBlock.touched))),e.xp6(4),e.Oqu(e.lcZ(61,49,"cfm_new_password")),e.xp6(2),e.s9C("placeholder",e.lcZ(63,51,"cfm_new_password")),e.xp6(2),e.Q6J("ngIf",(null==t.confirmUserBlock?null:t.confirmUserBlock.invalid)&&((null==t.confirmUserBlock?null:t.confirmUserBlock.dirty)||(null==t.confirmUserBlock?null:t.confirmUserBlock.touched))),e.xp6(1),e.Q6J("disabled",t.form.invalid),e.xp6(1),e.Oqu(e.lcZ(67,53,"button.update"))}}const R=function(){return{"word-break":"break-word",height:"auto",background:"#fff"}};function G(n,u){if(1&n&&(e.TgZ(0,"div",32)(1,"label"),e._uU(2),e.qZA(),e.TgZ(3,"label",33),e._uU(4),e.qZA()()),2&n){const t=u.$implicit,s=e.oxw(2);e.xp6(2),e.Oqu(t.label),e.xp6(1),e.Akn(e.DdM(4,R)),e.xp6(1),e.Oqu("iat"==t.label||"exp"==t.label?s.formateDate(t.value):t.value)}}function H(n,u){if(1&n&&(e.TgZ(0,"div")(1,"div",4),e.YNc(2,G,5,5,"div",31),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.tokenData)}}const j=function(){return{marginTop:"60px"}};let Q=(()=>{class n extends m.H{constructor(t,s,c,_,w,M,v,V,X){var O,k,N;super(t,s),this.fb=c,this.userService=_,this.tool=w,this.alert=M,this.router=v,this.message=V,this.logoutService=X,this.user_id="",this.user_name="",this.newUserNameLimitChar={value:30},this.newUserAliasLimitChar={value:30},this.newUserBlockLimitChar={value:128},this.newUserMailLimitChar={value:50},this.idTokenJwtstr=null!==(O=sessionStorage.getItem("idTokenJwtstr"))&&void 0!==O?O:"",this.tokenData=[],this.isidTokenForm=!1,this.form=this.fb.group({newUserName:new i.NI(""),newUserAlias:new i.NI(""),newUserMail:new i.NI(""),userBlock:new i.NI("",[p.dH(this.newUserBlockLimitChar.value)]),newUserBlock:new i.NI(""),confirmUserBlock:new i.NI("")}),null===(k=this.form.get("newUserBlock"))||void 0===k||k.setValidators([p.rg(this.form,!0),p.dH(this.newUserBlockLimitChar.value)]),null===(N=this.form.get("confirmUserBlock"))||void 0===N||N.setValidators([p.rg(this.form,!0),p.dH(this.newUserBlockLimitChar.value)])}ngOnInit(){var t=this;if(this.user_id=this.tool.getUserID(),this.user_name=this.tool.getUserName(),this.queryUserDetail(),this.userService.updateTUserData_before().subscribe(function(){var s=(0,f.Z)(function*(c){t.tool.checkDpSuccess(c.ResHeader)&&t.addFormValidator(t.form,c.RespBody.constraints)});return function(c){return s.apply(this,arguments)}}()),""!=this.idTokenJwtstr){const s=this.idTokenJwtstr.split("."),c=s.length>1?U.DS.decode(s[1]):"";if(""!=c){const _=JSON.parse(c);_&&(this.isidTokenForm=!0,Object.keys(_).map(w=>{this.tokenData.push({label:w,value:_[w]})}))}}}queryUserDetail(){this.userService.queryTUserDetail({userID:this.user_id,userName:this.user_name}).subscribe(s=>{this.tool.checkDpSuccess(s.ResHeader)&&(this.userDetail=s.RespBody,this.newUserName.setValue(this.userDetail.userName),this.newUserAlias.setValue(this.userDetail.userAlias),this.newUserMail.setValue(this.userDetail.userMail))})}submitForm(t){var s=this;let c={userId:this.userDetail.userID,userName:this.userDetail.userName,newUserName:this.newUserName.value,userAlias:this.userDetail.userAlias,newUserAlias:this.newUserAlias.value,userMail:this.userDetail.userMail,newUserMail:this.newUserMail.value,userBlock:this.tool.Base64Encoder(this.userBlock.value),newUserBlock:this.tool.Base64Encoder(this.newUserBlock.value)};this.userService.updateTUserData(c).subscribe(function(){var _=(0,f.Z)(function*(w){if(s.tool.checkDpSuccess(w.ResHeader)){const M=["message.update","profile","message.success","plz_login_again"],v=yield s.tool.getDict(M);s.message.add({severity:"success",summary:`${v["message.update"]} ${v.profile}`,detail:`${v["message.update"]} ${v["message.success"]}!`}),""!=c.newUserName&&c.newUserName!=s.user_name||""!=c.newUserBlock&&c.userBlock!=c.newUserBlock?(s.alert.logout(`${v["message.update"]} ${v["message.success"]}!`,`${v.plz_login_again}!`),window.setTimeout(()=>{s.tool.setClearExpiredTimeout()},3e3)):s.queryUserDetail()}});return function(w){return _.apply(this,arguments)}}())}formateDate(t){const s=1e3*Number(t);return"Invalid Date"!=a(s).format("YYYY-MM-DD HH:mm:ss")?a(s).format("YYYY-MM-DD HH:mm:ss"):""}get newUserName(){return this.form.get("newUserName")}get newUserAlias(){return this.form.get("newUserAlias")}get newUserMail(){return this.form.get("newUserMail")}get userBlock(){return this.form.get("userBlock")}get newUserBlock(){return this.form.get("newUserBlock")}get confirmUserBlock(){return this.form.get("confirmUserBlock")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.gz),e.Y36(x.W),e.Y36(i.qu),e.Y36(A.K),e.Y36(d.g),e.Y36(T.c),e.Y36(l.F0),e.Y36(D.ez),e.Y36(B.P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ac0006"]],features:[e._Bn([A.K]),e.qOj],decls:12,vars:10,consts:[[3,"title"],[3,"hidden"],[3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"form-group","row"],[1,"col-6"],["for","userid"],[1,"form-control","border-line"],["position","top-left"],[3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"row"],[1,"col-12"],["for","username"],["id","newUserName_label","for","newUserName",1,"control-label"],["type","text","id","newUserName","formControlName","newUserName",1,"form-control",3,"placeholder"],["class","text-danger",4,"ngIf"],["for","newUserAlias","id","newUserAlias_label",1,"control-label"],["type","text","id","newUserAlias","formControlName","newUserAlias",1,"form-control",3,"placeholder"],["id","newUserMail_label","for","newUserMail",1,"control-label"],["type","text","id","newUserMail","formControlName","newUserMail",1,"form-control",3,"placeholder"],["for","userBlock"],["type","password","id","userBlock","formControlName","userBlock",1,"form-control",3,"placeholder"],["for","newUserBlock"],["type","password","id","newUserBlock","formControlName","newUserBlock",1,"form-control",3,"placeholder"],["for","confirmUserBlock"],["type","password","id","confirmUserBlock","formControlName","confirmUserBlock",1,"form-control",3,"placeholder"],["type","submit",1,"btn","tpi-btn","tpi-primary","pull-left",3,"disabled"],[1,"text-danger"],[1,"form-text"],["class","form-text",4,"ngIf"],["class","col-4 ",4,"ngFor","ngForOf"],[1,"col-4"],[1,"form-control","border-line","mb-2"]],template:function(t,s){1&t&&(e.TgZ(0,"app-container",0)(1,"div",1),e.YNc(2,J,68,55,"form",2),e.YNc(3,H,3,1,"div",3),e.qZA(),e.TgZ(4,"div",1)(5,"div",4)(6,"div",5)(7,"label",6),e._uU(8),e.qZA(),e.TgZ(9,"label",7),e._uU(10),e.qZA()()()()(),e._UZ(11,"p-toast",8)),2&t&&(e.Q6J("title",s.title),e.xp6(1),e.Q6J("hidden","LDAP"==(null==s.userDetail?null:s.userDetail.idPType)||"MLDAP"==(null==s.userDetail?null:s.userDetail.idPType)||"API"==(null==s.userDetail?null:s.userDetail.idPType)),e.xp6(1),e.Q6J("ngIf",!s.isidTokenForm),e.xp6(1),e.Q6J("ngIf",s.isidTokenForm),e.xp6(1),e.Q6J("hidden",!("LDAP"==(null==s.userDetail?null:s.userDetail.idPType)||"MLDAP"==(null==s.userDetail?null:s.userDetail.idPType)||"API"==(null==s.userDetail?null:s.userDetail.idPType))),e.xp6(4),e.Oqu("User Name"),e.xp6(2),e.Oqu(null==s.userDetail?null:s.userDetail.userName),e.xp6(1),e.Akn(e.DdM(9,j)))},directives:[C.e,h.O5,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,h.sg,y.FN],pipes:[E.X$],styles:[".border-line[_ngcontent-%COMP%]{border:0;border-top:1px solid #ddd}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background:#F6F6F6}"]}),n})();var L=o(86347);const K=[{path:"",component:Q,canActivate:[L.u6]}];let W=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[l.Bz.forChild(K)],l.Bz]}),n})();var z=o(24783);let $=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[L.u6],imports:[[h.ez,W,r.W,z.m,i.UX,i.u5]]}),n})()},63710:(Z,g,o)=>{o.d(g,{e:()=>U});var r=o(87587),h=o(69808),f=o(51062);function m(a,e){if(1&a&&(r.TgZ(0,"div")(1,"h3",9),r._uU(2),r.ALo(3,"translate"),r.qZA()()),2&a){const l=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,1,l.title))}}function i(a,e){if(1&a){const l=r.EpF();r.TgZ(0,"div",10)(1,"button",11),r.NdJ("click",function(){return r.CHM(l),r.oxw().return()}),r._UZ(2,"i",12),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"span",13),r._uU(6),r.qZA(),r.TgZ(7,"span",14),r._uU(8),r.qZA()()}if(2&a){const l=r.oxw();r.xp6(3),r.hij(" ",r.lcZ(4,3,"button.return_to_list")," "),r.xp6(3),r.hij("",l.getHead()," /"),r.xp6(2),r.Oqu(l.getTail())}}const A=[[["","center-view","center"]],"*"],p=["[center-view=center]","*"];let U=(()=>{class a{constructor(){this.title="",this.isDefault=!0,this.headerReturn=new r.vpe}ngOnInit(){}return(){this.headerReturn.emit(null)}getHead(){const l=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return l.pop(),l.join(" / ")}getTail(){const l=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return l[l.length-1]}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275cmp=r.Xpm({type:a,selectors:[["app-container"]],inputs:{title:"title",isDefault:"isDefault"},outputs:{headerReturn:"headerReturn"},ngContentSelectors:p,decls:11,vars:2,consts:[[1,"container-fluid","h-100"],[1,"row","position-relative",2,"height","calc(100% - 40px - 0.5rem)"],[1,"col"],[2,"margin-bottom","0.5rem"],[4,"ngIf"],["style","text-align: right",4,"ngIf"],[1,"col","d-flex","justify-content-center"],[1,"my-0","mb-2"],[1,"p-2"],["id","content",1,"page-title"],[2,"text-align","right"],["type","button","icon","",1,"btn","float-left","tpi-header-return",3,"click"],[1,"fas","fa-arrow-left",2,"margin-right","5px"],[1,"mb-0",2,"font-size","0.8rem","color","#666464"],[1,"mb-0",2,"font-size","0.8rem","color","#ff6e38","font-weight","bold"]],template:function(l,x){1&l&&(r.F$t(A),r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),r.YNc(4,m,4,3,"div",4),r.YNc(5,i,9,5,"div",5),r.TgZ(6,"div",6),r.Hsn(7),r.qZA()(),r._UZ(8,"hr",7),r.Hsn(9,1),r._UZ(10,"div",8),r.qZA()()()),2&l&&(r.xp6(4),r.Q6J("ngIf",x.isDefault),r.xp6(1),r.Q6J("ngIf",!x.isDefault))},directives:[h.O5],pipes:[f.X$],styles:[".card.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#5a5541}"]}),a})()},92718:(Z,g,o)=>{o.d(g,{u:()=>e});var r=o(54004),h=o(70262),f=o(62843),m=o(87587),i=o(45682),A=o(89709),p=o(99291),U=o(3937),a=o(60991);let e=(()=>{class l{constructor(d,T,D,B,C){this.toolService=d,this.tokenService=T,this.router=D,this.ngxService=B,this.logoutService=C}canActivate(){return this.ngxService.stopAll(),!this.toolService.isTokenExpired()||this.toolService.refreshToken().pipe((0,r.U)(d=>!!d.access_token),(0,h.K)(this.handleError.bind(this)))}handleError(d){return setTimeout(()=>this.logoutService.logout()),(0,f._)(()=>d)}}return l.\u0275fac=function(d){return new(d||l)(m.LFG(i.g),m.LFG(A.B),m.LFG(p.F0),m.LFG(U.LA),m.LFG(a.P))},l.\u0275prov=m.Yz7({token:l,factory:l.\u0275fac}),l})()},86347:(Z,g,o)=>{o.d(g,{DL:()=>r.D,u6:()=>f.u});var r=o(81233),f=(o(45240),o(92718));o(45682)}}]);